(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const p of d.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function a(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function _m(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var uu={exports:{}},ho={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VA;function yy(){if(VA)return ho;VA=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(a,u,d){var p=null;if(d!==void 0&&(p=""+d),u.key!==void 0&&(p=""+u.key),"key"in u){d={};for(var h in u)h!=="key"&&(d[h]=u[h])}else d=u;return u=d.ref,{$$typeof:i,type:a,key:p,ref:u!==void 0?u:null,props:d}}return ho.Fragment=n,ho.jsx=o,ho.jsxs=o,ho}var PA;function vy(){return PA||(PA=1,uu.exports=yy()),uu.exports}var S=vy(),cu={exports:{}},de={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BA;function Ty(){if(BA)return de;BA=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=E&&R[E]||R["@@iterator"],typeof R=="function"?R:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,k={};function Y(R,N,P){this.props=R,this.context=N,this.refs=k,this.updater=P||U}Y.prototype.isReactComponent={},Y.prototype.setState=function(R,N){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,N,"setState")},Y.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Q(){}Q.prototype=Y.prototype;function J(R,N,P){this.props=R,this.context=N,this.refs=k,this.updater=P||U}var ee=J.prototype=new Q;ee.constructor=J,z(ee,Y.prototype),ee.isPureReactComponent=!0;var O=Array.isArray;function X(){}var B={H:null,A:null,T:null,S:null},j=Object.prototype.hasOwnProperty;function W(R,N,P){var F=P.ref;return{$$typeof:i,type:R,key:N,ref:F!==void 0?F:null,props:P}}function se(R,N){return W(R.type,N,R.props)}function me(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function te(R){var N={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(P){return N[P]})}var Se=/\/+/g;function Ne(R,N){return typeof R=="object"&&R!==null&&R.key!=null?te(""+R.key):N.toString(36)}function he(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(X,X):(R.status="pending",R.then(function(N){R.status==="pending"&&(R.status="fulfilled",R.value=N)},function(N){R.status==="pending"&&(R.status="rejected",R.reason=N)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function L(R,N,P,F,le){var ue=typeof R;(ue==="undefined"||ue==="boolean")&&(R=null);var Ee=!1;if(R===null)Ee=!0;else switch(ue){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(R.$$typeof){case i:case n:Ee=!0;break;case y:return Ee=R._init,L(Ee(R._payload),N,P,F,le)}}if(Ee)return le=le(R),Ee=F===""?"."+Ne(R,0):F,O(le)?(P="",Ee!=null&&(P=Ee.replace(Se,"$&/")+"/"),L(le,N,P,"",function(ti){return ti})):le!=null&&(me(le)&&(le=se(le,P+(le.key==null||R&&R.key===le.key?"":(""+le.key).replace(Se,"$&/")+"/")+Ee)),N.push(le)),1;Ee=0;var Oe=F===""?".":F+":";if(O(R))for(var Je=0;Je<R.length;Je++)F=R[Je],ue=Oe+Ne(F,Je),Ee+=L(F,N,P,ue,le);else if(Je=x(R),typeof Je=="function")for(R=Je.call(R),Je=0;!(F=R.next()).done;)F=F.value,ue=Oe+Ne(F,Je++),Ee+=L(F,N,P,ue,le);else if(ue==="object"){if(typeof R.then=="function")return L(he(R),N,P,F,le);throw N=String(R),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function Z(R,N,P){if(R==null)return R;var F=[],le=0;return L(R,F,"","",function(ue){return N.call(P,ue,le++)}),F}function re(R){if(R._status===-1){var N=R._result;N=N(),N.then(function(P){(R._status===0||R._status===-1)&&(R._status=1,R._result=P)},function(P){(R._status===0||R._status===-1)&&(R._status=2,R._result=P)}),R._status===-1&&(R._status=0,R._result=N)}if(R._status===1)return R._result.default;throw R._result}var xe=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var N=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(N))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},_e={map:Z,forEach:function(R,N,P){Z(R,function(){N.apply(this,arguments)},P)},count:function(R){var N=0;return Z(R,function(){N++}),N},toArray:function(R){return Z(R,function(N){return N})||[]},only:function(R){if(!me(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return de.Activity=T,de.Children=_e,de.Component=Y,de.Fragment=o,de.Profiler=u,de.PureComponent=J,de.StrictMode=a,de.Suspense=g,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,de.__COMPILER_RUNTIME={__proto__:null,c:function(R){return B.H.useMemoCache(R)}},de.cache=function(R){return function(){return R.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(R,N,P){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var F=z({},R.props),le=R.key;if(N!=null)for(ue in N.key!==void 0&&(le=""+N.key),N)!j.call(N,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&N.ref===void 0||(F[ue]=N[ue]);var ue=arguments.length-2;if(ue===1)F.children=P;else if(1<ue){for(var Ee=Array(ue),Oe=0;Oe<ue;Oe++)Ee[Oe]=arguments[Oe+2];F.children=Ee}return W(R.type,le,F)},de.createContext=function(R){return R={$$typeof:p,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:d,_context:R},R},de.createElement=function(R,N,P){var F,le={},ue=null;if(N!=null)for(F in N.key!==void 0&&(ue=""+N.key),N)j.call(N,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(le[F]=N[F]);var Ee=arguments.length-2;if(Ee===1)le.children=P;else if(1<Ee){for(var Oe=Array(Ee),Je=0;Je<Ee;Je++)Oe[Je]=arguments[Je+2];le.children=Oe}if(R&&R.defaultProps)for(F in Ee=R.defaultProps,Ee)le[F]===void 0&&(le[F]=Ee[F]);return W(R,ue,le)},de.createRef=function(){return{current:null}},de.forwardRef=function(R){return{$$typeof:h,render:R}},de.isValidElement=me,de.lazy=function(R){return{$$typeof:y,_payload:{_status:-1,_result:R},_init:re}},de.memo=function(R,N){return{$$typeof:m,type:R,compare:N===void 0?null:N}},de.startTransition=function(R){var N=B.T,P={};B.T=P;try{var F=R(),le=B.S;le!==null&&le(P,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(X,xe)}catch(ue){xe(ue)}finally{N!==null&&P.types!==null&&(N.types=P.types),B.T=N}},de.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},de.use=function(R){return B.H.use(R)},de.useActionState=function(R,N,P){return B.H.useActionState(R,N,P)},de.useCallback=function(R,N){return B.H.useCallback(R,N)},de.useContext=function(R){return B.H.useContext(R)},de.useDebugValue=function(){},de.useDeferredValue=function(R,N){return B.H.useDeferredValue(R,N)},de.useEffect=function(R,N){return B.H.useEffect(R,N)},de.useEffectEvent=function(R){return B.H.useEffectEvent(R)},de.useId=function(){return B.H.useId()},de.useImperativeHandle=function(R,N,P){return B.H.useImperativeHandle(R,N,P)},de.useInsertionEffect=function(R,N){return B.H.useInsertionEffect(R,N)},de.useLayoutEffect=function(R,N){return B.H.useLayoutEffect(R,N)},de.useMemo=function(R,N){return B.H.useMemo(R,N)},de.useOptimistic=function(R,N){return B.H.useOptimistic(R,N)},de.useReducer=function(R,N,P){return B.H.useReducer(R,N,P)},de.useRef=function(R){return B.H.useRef(R)},de.useState=function(R){return B.H.useState(R)},de.useSyncExternalStore=function(R,N,P){return B.H.useSyncExternalStore(R,N,P)},de.useTransition=function(){return B.H.useTransition()},de.version="19.2.0",de}var kA;function Du(){return kA||(kA=1,cu.exports=Ty()),cu.exports}var K=Du();const xm=_m(K);var fu={exports:{}},go={},du={exports:{}},Au={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YA;function Sy(){return YA||(YA=1,(function(i){function n(L,Z){var re=L.length;L.push(Z);e:for(;0<re;){var xe=re-1>>>1,_e=L[xe];if(0<u(_e,Z))L[xe]=Z,L[re]=_e,re=xe;else break e}}function o(L){return L.length===0?null:L[0]}function a(L){if(L.length===0)return null;var Z=L[0],re=L.pop();if(re!==Z){L[0]=re;e:for(var xe=0,_e=L.length,R=_e>>>1;xe<R;){var N=2*(xe+1)-1,P=L[N],F=N+1,le=L[F];if(0>u(P,re))F<_e&&0>u(le,P)?(L[xe]=le,L[F]=re,xe=F):(L[xe]=P,L[N]=re,xe=N);else if(F<_e&&0>u(le,re))L[xe]=le,L[F]=re,xe=F;else break e}}return Z}function u(L,Z){var re=L.sortIndex-Z.sortIndex;return re!==0?re:L.id-Z.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;i.unstable_now=function(){return d.now()}}else{var p=Date,h=p.now();i.unstable_now=function(){return p.now()-h}}var g=[],m=[],y=1,T=null,E=3,x=!1,U=!1,z=!1,k=!1,Y=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ee(L){for(var Z=o(m);Z!==null;){if(Z.callback===null)a(m);else if(Z.startTime<=L)a(m),Z.sortIndex=Z.expirationTime,n(g,Z);else break;Z=o(m)}}function O(L){if(z=!1,ee(L),!U)if(o(g)!==null)U=!0,X||(X=!0,te());else{var Z=o(m);Z!==null&&he(O,Z.startTime-L)}}var X=!1,B=-1,j=5,W=-1;function se(){return k?!0:!(i.unstable_now()-W<j)}function me(){if(k=!1,X){var L=i.unstable_now();W=L;var Z=!0;try{e:{U=!1,z&&(z=!1,Q(B),B=-1),x=!0;var re=E;try{t:{for(ee(L),T=o(g);T!==null&&!(T.expirationTime>L&&se());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,E=T.priorityLevel;var _e=xe(T.expirationTime<=L);if(L=i.unstable_now(),typeof _e=="function"){T.callback=_e,ee(L),Z=!0;break t}T===o(g)&&a(g),ee(L)}else a(g);T=o(g)}if(T!==null)Z=!0;else{var R=o(m);R!==null&&he(O,R.startTime-L),Z=!1}}break e}finally{T=null,E=re,x=!1}Z=void 0}}finally{Z?te():X=!1}}}var te;if(typeof J=="function")te=function(){J(me)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,Ne=Se.port2;Se.port1.onmessage=me,te=function(){Ne.postMessage(null)}}else te=function(){Y(me,0)};function he(L,Z){B=Y(function(){L(i.unstable_now())},Z)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(L){switch(E){case 1:case 2:case 3:var Z=3;break;default:Z=E}var re=E;E=Z;try{return L()}finally{E=re}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(L,Z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var re=E;E=L;try{return Z()}finally{E=re}},i.unstable_scheduleCallback=function(L,Z,re){var xe=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?xe+re:xe):re=xe,L){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=re+_e,L={id:y++,callback:Z,priorityLevel:L,startTime:re,expirationTime:_e,sortIndex:-1},re>xe?(L.sortIndex=re,n(m,L),o(g)===null&&L===o(m)&&(z?(Q(B),B=-1):z=!0,he(O,re-xe))):(L.sortIndex=_e,n(g,L),U||x||(U=!0,X||(X=!0,te()))),L},i.unstable_shouldYield=se,i.unstable_wrapCallback=function(L){var Z=E;return function(){var re=E;E=Z;try{return L.apply(this,arguments)}finally{E=re}}}})(Au)),Au}var FA;function Ey(){return FA||(FA=1,du.exports=Sy()),du.exports}var pu={exports:{}},At={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA;function Cy(){if(OA)return At;OA=1;var i=Du();function n(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(g,m,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:g,containerInfo:m,implementation:y}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return At.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,At.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return d(g,m,null,y)},At.flushSync=function(g){var m=p.T,y=a.p;try{if(p.T=null,a.p=2,g)return g()}finally{p.T=m,a.p=y,a.d.f()}},At.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(g,m))},At.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},At.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?a.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:x}):y==="script"&&a.d.X(g,{crossOrigin:T,integrity:E,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},At.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);a.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(g)},At.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,T=h(y,m.crossOrigin);a.d.L(g,y,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},At.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=h(m.as,m.crossOrigin);a.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(g)},At.requestFormReset=function(g){a.d.r(g)},At.unstable_batchedUpdates=function(g,m){return g(m)},At.useFormState=function(g,m,y){return p.H.useFormState(g,m,y)},At.useFormStatus=function(){return p.H.useHostTransitionStatus()},At.version="19.2.0",At}var JA;function _y(){if(JA)return pu.exports;JA=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),pu.exports=Cy(),pu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KA;function xy(){if(KA)return go;KA=1;var i=Ey(),n=Du(),o=_y();function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function p(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(d(e)!==e)throw Error(a(188))}function m(e){var t=e.alternate;if(!t){if(t=d(e),t===null)throw Error(a(188));return t!==e?null:e}for(var l=e,s=t;;){var f=l.return;if(f===null)break;var A=f.alternate;if(A===null){if(s=f.return,s!==null){l=s;continue}break}if(f.child===A.child){for(A=f.child;A;){if(A===l)return g(f),e;if(A===s)return g(f),t;A=A.sibling}throw Error(a(188))}if(l.return!==s.return)l=f,s=A;else{for(var v=!1,C=f.child;C;){if(C===l){v=!0,l=f,s=A;break}if(C===s){v=!0,s=f,l=A;break}C=C.sibling}if(!v){for(C=A.child;C;){if(C===l){v=!0,l=A,s=f;break}if(C===s){v=!0,s=A,l=f;break}C=C.sibling}if(!v)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),J=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),j=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function te(e){return e===null||typeof e!="object"?null:(e=me&&e[me]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Symbol.for("react.client.reference");function Ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case z:return"Fragment";case Y:return"Profiler";case k:return"StrictMode";case O:return"Suspense";case X:return"SuspenseList";case W:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case J:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case B:return t=e.displayName||null,t!==null?t:Ne(e.type)||"Memo";case j:t=e._payload,e=e._init;try{return Ne(e(t))}catch{}}return null}var he=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},xe=[],_e=-1;function R(e){return{current:e}}function N(e){0>_e||(e.current=xe[_e],xe[_e]=null,_e--)}function P(e,t){_e++,xe[_e]=e.current,e.current=t}var F=R(null),le=R(null),ue=R(null),Ee=R(null);function Oe(e,t){switch(P(ue,t),P(le,e),P(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rA(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=rA(t),e=uA(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}N(F),P(F,e)}function Je(){N(F),N(le),N(ue)}function ti(e){e.memoizedState!==null&&P(Ee,e);var t=F.current,l=uA(t,e.type);t!==l&&(P(le,e),P(F,l))}function Ci(e){le.current===e&&(N(F),N(le)),Ee.current===e&&(N(Ee),fo._currentValue=re)}var Rn,jt;function yt(e){if(Rn===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Rn=t&&t[1]||"",jt=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rn+e+jt}var Tl=!1;function Rt(e,t){if(!e||Tl)return"";Tl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(G){var b=G}Reflect.construct(e,[],V)}else{try{V.call()}catch(G){b=G}e.call(V.prototype)}}else{try{throw Error()}catch(G){b=G}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(G){if(G&&b&&typeof G.stack=="string")return[G.stack,b.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var A=s.DetermineComponentFrameRoot(),v=A[0],C=A[1];if(v&&C){var _=v.split(`
`),D=C.split(`
`);for(f=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;f<D.length&&!D[f].includes("DetermineComponentFrameRoot");)f++;if(s===_.length||f===D.length)for(s=_.length-1,f=D.length-1;1<=s&&0<=f&&_[s]!==D[f];)f--;for(;1<=s&&0<=f;s--,f--)if(_[s]!==D[f]){if(s!==1||f!==1)do if(s--,f--,0>f||_[s]!==D[f]){var q=`
`+_[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=f);break}}}finally{Tl=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?yt(l):""}function Sl(e,t){switch(e.tag){case 26:case 27:case 5:return yt(e.type);case 16:return yt("Lazy");case 13:return e.child!==t&&t!==null?yt("Suspense Fallback"):yt("Suspense");case 19:return yt("SuspenseList");case 0:case 15:return Rt(e.type,!1);case 11:return Rt(e.type.render,!1);case 1:return Rt(e.type,!0);case 31:return yt("Activity");default:return""}}function _i(e){try{var t="",l=null;do t+=Sl(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var El=Object.prototype.hasOwnProperty,Cl=i.unstable_scheduleCallback,_l=i.unstable_cancelCallback,So=i.unstable_shouldYield,Ka=i.unstable_requestPaint,mt=i.unstable_now,Qa=i.unstable_getCurrentPriorityLevel,Eo=i.unstable_ImmediatePriority,Co=i.unstable_UserBlockingPriority,xi=i.unstable_NormalPriority,Xa=i.unstable_LowPriority,_o=i.unstable_IdlePriority,Za=i.log,ne=i.unstable_setDisableYieldValue,fe=null,Ue=null;function st(e){if(typeof Za=="function"&&ne(e),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(fe,e)}catch{}}var Ze=Math.clz32?Math.clz32:ni,Nt=Math.log,en=Math.LN2;function ni(e){return e>>>=0,e===0?32:31-(Nt(e)/en|0)|0}var ht=256,Me=262144,lt=4194304;function Re(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Pe(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var f=0,A=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var C=s&134217727;return C!==0?(s=C&~A,s!==0?f=Re(s):(v&=C,v!==0?f=Re(v):l||(l=C&~e,l!==0&&(f=Re(l))))):(C=s&~A,C!==0?f=Re(C):v!==0?f=Re(v):l||(l=s&~e,l!==0&&(f=Re(l)))),f===0?0:t!==0&&t!==f&&(t&A)===0&&(A=f&-f,l=t&-t,A>=l||A===32&&(l&4194048)!==0)?t:f}function Ge(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Nn(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wn(){var e=lt;return lt<<=1,(lt&62914560)===0&&(lt=4194304),e}function Qt(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function ii(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Wa(e,t,l,s,f,A){var v=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var C=e.entanglements,_=e.expirationTimes,D=e.hiddenUpdates;for(l=v&~l;0<l;){var q=31-Ze(l),V=1<<q;C[q]=0,_[q]=-1;var b=D[q];if(b!==null)for(D[q]=null,q=0;q<b.length;q++){var G=b[q];G!==null&&(G.lane&=-536870913)}l&=~V}s!==0&&xo(e,s,0),A!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=A&~(v&~t))}function xo(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Ze(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Mi(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-Ze(l),f=1<<s;f&t|e[s]&t&&(e[s]|=t),l&=~f}}function xl(e,t){var l=t&-t;return l=(l&42)!==0?1:$a(l),(l&(e.suspendedLanes|t))!==0?0:l}function $a(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ja(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ju(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:bA(e.type))}function Ku(e,t){var l=Z.p;try{return Z.p=e,t()}finally{Z.p=l}}var In=Math.random().toString(36).slice(2),rt="__reactFiber$"+In,vt="__reactProps$"+In,Ri="__reactContainer$"+In,es="__reactEvents$"+In,sh="__reactListeners$"+In,rh="__reactHandles$"+In,Qu="__reactResources$"+In,Ml="__reactMarker$"+In;function ts(e){delete e[rt],delete e[vt],delete e[es],delete e[sh],delete e[rh]}function Ni(e){var t=e[rt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Ri]||l[rt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=hA(e);e!==null;){if(l=e[rt])return l;e=hA(e)}return t}e=l,l=e.parentNode}return null}function wi(e){if(e=e[rt]||e[Ri]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Rl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(a(33))}function Ii(e){var t=e[Qu];return t||(t=e[Qu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[Ml]=!0}var Xu=new Set,Zu={};function li(e,t){Di(e,t),Di(e+"Capture",t)}function Di(e,t){for(Zu[e]=t,e=0;e<t.length;e++)Xu.add(t[e])}var uh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Wu={},$u={};function ch(e){return El.call($u,e)?!0:El.call(Wu,e)?!1:uh.test(e)?$u[e]=!0:(Wu[e]=!0,!1)}function Mo(e,t,l){if(ch(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Ro(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function an(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function Gt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ju(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function fh(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,A=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(v){l=""+v,A.call(this,v)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ns(e){if(!e._valueTracker){var t=ju(e)?"checked":"value";e._valueTracker=fh(e,t,""+e[t])}}function ec(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=ju(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function No(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var dh=/[\n"\\]/g;function qt(e){return e.replace(dh,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function is(e,t,l,s,f,A,v,C){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),t!=null?v==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Gt(t)):e.value!==""+Gt(t)&&(e.value=""+Gt(t)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),t!=null?ls(e,v,Gt(t)):l!=null?ls(e,v,Gt(l)):s!=null&&e.removeAttribute("value"),f==null&&A!=null&&(e.defaultChecked=!!A),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+Gt(C):e.removeAttribute("name")}function tc(e,t,l,s,f,A,v,C){if(A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(e.type=A),t!=null||l!=null){if(!(A!=="submit"&&A!=="reset"||t!=null)){ns(e);return}l=l!=null?""+Gt(l):"",t=t!=null?""+Gt(t):l,C||t===e.value||(e.value=t),e.defaultValue=t}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=C?e.checked:!!s,e.defaultChecked=!!s,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v),ns(e)}function ls(e,t,l){t==="number"&&No(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function bi(e,t,l,s){if(e=e.options,t){t={};for(var f=0;f<l.length;f++)t["$"+l[f]]=!0;for(l=0;l<e.length;l++)f=t.hasOwnProperty("$"+e[l].value),e[l].selected!==f&&(e[l].selected=f),f&&s&&(e[l].defaultSelected=!0)}else{for(l=""+Gt(l),t=null,f=0;f<e.length;f++){if(e[f].value===l){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function nc(e,t,l){if(t!=null&&(t=""+Gt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Gt(l):""}function ic(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(a(92));if(he(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=Gt(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),ns(e)}function Ui(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Ah=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function lc(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||Ah.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function oc(e,t,l){if(t!=null&&typeof t!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in t)s=t[f],t.hasOwnProperty(f)&&l[f]!==s&&lc(e,f,s)}else for(var A in t)t.hasOwnProperty(A)&&lc(e,A,t[A])}function os(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wo(e){return mh.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sn(){}var as=null;function ss(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Li=null,zi=null;function ac(e){var t=wi(e);if(t&&(e=t.stateNode)){var l=e[vt]||null;e:switch(e=t.stateNode,t.type){case"input":if(is(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var f=s[vt]||null;if(!f)throw Error(a(90));is(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&ec(s)}break e;case"textarea":nc(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&bi(e,!!l.multiple,t,!1)}}}var rs=!1;function sc(e,t,l){if(rs)return e(t,l);rs=!0;try{var s=e(t);return s}finally{if(rs=!1,(Li!==null||zi!==null)&&(ha(),Li&&(t=Li,e=zi,zi=Li=null,ac(t),e)))for(t=0;t<e.length;t++)ac(e[t])}}function Nl(e,t){var l=e.stateNode;if(l===null)return null;var s=l[vt]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,t,typeof l));return l}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),us=!1;if(rn)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){us=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{us=!1}var Dn=null,cs=null,Io=null;function rc(){if(Io)return Io;var e,t=cs,l=t.length,s,f="value"in Dn?Dn.value:Dn.textContent,A=f.length;for(e=0;e<l&&t[e]===f[e];e++);var v=l-e;for(s=1;s<=v&&t[l-s]===f[A-s];s++);return Io=f.slice(e,1<s?1-s:void 0)}function Do(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bo(){return!0}function uc(){return!1}function Tt(e){function t(l,s,f,A,v){this._reactName=l,this._targetInst=f,this.type=s,this.nativeEvent=A,this.target=v,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(l=e[C],this[C]=l?l(A):A[C]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?bo:uc,this.isPropagationStopped=uc,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),t}var oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=Tt(oi),Il=T({},oi,{view:0,detail:0}),hh=Tt(Il),fs,ds,Dl,Lo=T({},Il,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dl&&(Dl&&e.type==="mousemove"?(fs=e.screenX-Dl.screenX,ds=e.screenY-Dl.screenY):ds=fs=0,Dl=e),fs)},movementY:function(e){return"movementY"in e?e.movementY:ds}}),cc=Tt(Lo),gh=T({},Lo,{dataTransfer:0}),yh=Tt(gh),vh=T({},Il,{relatedTarget:0}),As=Tt(vh),Th=T({},oi,{animationName:0,elapsedTime:0,pseudoElement:0}),Sh=Tt(Th),Eh=T({},oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ch=Tt(Eh),_h=T({},oi,{data:0}),fc=Tt(_h),xh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rh[e])?!!t[e]:!1}function ps(){return Nh}var wh=T({},Il,{key:function(e){if(e.key){var t=xh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Do(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(e){return e.type==="keypress"?Do(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Do(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ih=Tt(wh),Dh=T({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dc=Tt(Dh),bh=T({},Il,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),Uh=Tt(bh),Lh=T({},oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),zh=Tt(Lh),Gh=T({},Lo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qh=Tt(Gh),Hh=T({},oi,{newState:0,oldState:0}),Vh=Tt(Hh),Ph=[9,13,27,32],ms=rn&&"CompositionEvent"in window,bl=null;rn&&"documentMode"in document&&(bl=document.documentMode);var Bh=rn&&"TextEvent"in window&&!bl,Ac=rn&&(!ms||bl&&8<bl&&11>=bl),pc=" ",mc=!1;function hc(e,t){switch(e){case"keyup":return Ph.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gi=!1;function kh(e,t){switch(e){case"compositionend":return gc(t);case"keypress":return t.which!==32?null:(mc=!0,pc);case"textInput":return e=t.data,e===pc&&mc?null:e;default:return null}}function Yh(e,t){if(Gi)return e==="compositionend"||!ms&&hc(e,t)?(e=rc(),Io=cs=Dn=null,Gi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ac&&t.locale!=="ko"?null:t.data;default:return null}}var Fh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Fh[e.type]:t==="textarea"}function vc(e,t,l,s){Li?zi?zi.push(s):zi=[s]:Li=s,t=Ca(t,"onChange"),0<t.length&&(l=new Uo("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var Ul=null,Ll=null;function Oh(e){nA(e,0)}function zo(e){var t=Rl(e);if(ec(t))return e}function Tc(e,t){if(e==="change")return t}var Sc=!1;if(rn){var hs;if(rn){var gs="oninput"in document;if(!gs){var Ec=document.createElement("div");Ec.setAttribute("oninput","return;"),gs=typeof Ec.oninput=="function"}hs=gs}else hs=!1;Sc=hs&&(!document.documentMode||9<document.documentMode)}function Cc(){Ul&&(Ul.detachEvent("onpropertychange",_c),Ll=Ul=null)}function _c(e){if(e.propertyName==="value"&&zo(Ll)){var t=[];vc(t,Ll,e,ss(e)),sc(Oh,t)}}function Jh(e,t,l){e==="focusin"?(Cc(),Ul=t,Ll=l,Ul.attachEvent("onpropertychange",_c)):e==="focusout"&&Cc()}function Kh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zo(Ll)}function Qh(e,t){if(e==="click")return zo(t)}function Xh(e,t){if(e==="input"||e==="change")return zo(t)}function Zh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wt=typeof Object.is=="function"?Object.is:Zh;function zl(e,t){if(wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var f=l[s];if(!El.call(t,f)||!wt(e[f],t[f]))return!1}return!0}function xc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mc(e,t){var l=xc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=xc(l)}}function Rc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=No(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=No(e.document)}return t}function ys(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Wh=rn&&"documentMode"in document&&11>=document.documentMode,qi=null,vs=null,Gl=null,Ts=!1;function wc(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Ts||qi==null||qi!==No(s)||(s=qi,"selectionStart"in s&&ys(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Gl&&zl(Gl,s)||(Gl=s,s=Ca(vs,"onSelect"),0<s.length&&(t=new Uo("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=qi)))}function ai(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Hi={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},Ss={},Ic={};rn&&(Ic=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function si(e){if(Ss[e])return Ss[e];if(!Hi[e])return e;var t=Hi[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in Ic)return Ss[e]=t[l];return e}var Dc=si("animationend"),bc=si("animationiteration"),Uc=si("animationstart"),$h=si("transitionrun"),jh=si("transitionstart"),eg=si("transitioncancel"),Lc=si("transitionend"),zc=new Map,Es="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Es.push("scrollEnd");function Xt(e,t){zc.set(e,t),li(t,[e])}var Go=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ht=[],Vi=0,Cs=0;function qo(){for(var e=Vi,t=Cs=Vi=0;t<e;){var l=Ht[t];Ht[t++]=null;var s=Ht[t];Ht[t++]=null;var f=Ht[t];Ht[t++]=null;var A=Ht[t];if(Ht[t++]=null,s!==null&&f!==null){var v=s.pending;v===null?f.next=f:(f.next=v.next,v.next=f),s.pending=f}A!==0&&Gc(l,f,A)}}function Ho(e,t,l,s){Ht[Vi++]=e,Ht[Vi++]=t,Ht[Vi++]=l,Ht[Vi++]=s,Cs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function _s(e,t,l,s){return Ho(e,t,l,s),Vo(e)}function ri(e,t){return Ho(e,null,null,t),Vo(e)}function Gc(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var f=!1,A=e.return;A!==null;)A.childLanes|=l,s=A.alternate,s!==null&&(s.childLanes|=l),A.tag===22&&(e=A.stateNode,e===null||e._visibility&1||(f=!0)),e=A,A=A.return;return e.tag===3?(A=e.stateNode,f&&t!==null&&(f=31-Ze(l),e=A.hiddenUpdates,s=e[f],s===null?e[f]=[t]:s.push(t),t.lane=l|536870912),A):null}function Vo(e){if(50<lo)throw lo=0,Ur=null,Error(a(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pi={};function tg(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,l,s){return new tg(e,t,l,s)}function xs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function un(e,t){var l=e.alternate;return l===null?(l=It(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function qc(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Po(e,t,l,s,f,A){var v=0;if(s=e,typeof e=="function")xs(e)&&(v=1);else if(typeof e=="string")v=ay(e,l,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case W:return e=It(31,l,t,f),e.elementType=W,e.lanes=A,e;case z:return ui(l.children,f,A,t);case k:v=8,f|=24;break;case Y:return e=It(12,l,t,f|2),e.elementType=Y,e.lanes=A,e;case O:return e=It(13,l,t,f),e.elementType=O,e.lanes=A,e;case X:return e=It(19,l,t,f),e.elementType=X,e.lanes=A,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:v=10;break e;case Q:v=9;break e;case ee:v=11;break e;case B:v=14;break e;case j:v=16,s=null;break e}v=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return t=It(v,l,t,f),t.elementType=e,t.type=s,t.lanes=A,t}function ui(e,t,l,s){return e=It(7,e,s,t),e.lanes=l,e}function Ms(e,t,l){return e=It(6,e,null,t),e.lanes=l,e}function Hc(e){var t=It(18,null,null,0);return t.stateNode=e,t}function Rs(e,t,l){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Vc=new WeakMap;function Vt(e,t){if(typeof e=="object"&&e!==null){var l=Vc.get(e);return l!==void 0?l:(t={value:e,source:t,stack:_i(t)},Vc.set(e,t),t)}return{value:e,source:t,stack:_i(t)}}var Bi=[],ki=0,Bo=null,ql=0,Pt=[],Bt=0,bn=null,tn=1,nn="";function cn(e,t){Bi[ki++]=ql,Bi[ki++]=Bo,Bo=e,ql=t}function Pc(e,t,l){Pt[Bt++]=tn,Pt[Bt++]=nn,Pt[Bt++]=bn,bn=e;var s=tn;e=nn;var f=32-Ze(s)-1;s&=~(1<<f),l+=1;var A=32-Ze(t)+f;if(30<A){var v=f-f%5;A=(s&(1<<v)-1).toString(32),s>>=v,f-=v,tn=1<<32-Ze(t)+f|l<<f|s,nn=A+e}else tn=1<<A|l<<f|s,nn=e}function Ns(e){e.return!==null&&(cn(e,1),Pc(e,1,0))}function ws(e){for(;e===Bo;)Bo=Bi[--ki],Bi[ki]=null,ql=Bi[--ki],Bi[ki]=null;for(;e===bn;)bn=Pt[--Bt],Pt[Bt]=null,nn=Pt[--Bt],Pt[Bt]=null,tn=Pt[--Bt],Pt[Bt]=null}function Bc(e,t){Pt[Bt++]=tn,Pt[Bt++]=nn,Pt[Bt++]=bn,tn=t.id,nn=t.overflow,bn=e}var ut=null,ke=null,Ce=!1,Un=null,kt=!1,Is=Error(a(519));function Ln(e){var t=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hl(Vt(t,e)),Is}function kc(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[rt]=e,t[vt]=s,l){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(l=0;l<ao.length;l++)ye(ao[l],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),tc(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),ic(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||aA(t.textContent,l)?(s.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),s.onScroll!=null&&ye("scroll",t),s.onScrollEnd!=null&&ye("scrollend",t),s.onClick!=null&&(t.onclick=sn),t=!0):t=!1,t||Ln(e,!0)}function Yc(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:kt=!1;return;case 27:case 3:kt=!0;return;default:ut=ut.return}}function Yi(e){if(e!==ut)return!1;if(!Ce)return Yc(e),Ce=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Qr(e.type,e.memoizedProps)),l=!l),l&&ke&&Ln(e),Yc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ke=mA(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ke=mA(e)}else t===27?(t=ke,Qn(e.type)?(e=jr,jr=null,ke=e):ke=t):ke=ut?Ft(e.stateNode.nextSibling):null;return!0}function ci(){ke=ut=null,Ce=!1}function Ds(){var e=Un;return e!==null&&(_t===null?_t=e:_t.push.apply(_t,e),Un=null),e}function Hl(e){Un===null?Un=[e]:Un.push(e)}var bs=R(null),fi=null,fn=null;function zn(e,t,l){P(bs,t._currentValue),t._currentValue=l}function dn(e){e._currentValue=bs.current,N(bs)}function Us(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function Ls(e,t,l,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var A=f.dependencies;if(A!==null){var v=f.child;A=A.firstContext;e:for(;A!==null;){var C=A;A=f;for(var _=0;_<t.length;_++)if(C.context===t[_]){A.lanes|=l,C=A.alternate,C!==null&&(C.lanes|=l),Us(A.return,l,e),s||(v=null);break e}A=C.next}}else if(f.tag===18){if(v=f.return,v===null)throw Error(a(341));v.lanes|=l,A=v.alternate,A!==null&&(A.lanes|=l),Us(v,l,e),v=null}else v=f.child;if(v!==null)v.return=f;else for(v=f;v!==null;){if(v===e){v=null;break}if(f=v.sibling,f!==null){f.return=v.return,v=f;break}v=v.return}f=v}}function Fi(e,t,l,s){e=null;for(var f=t,A=!1;f!==null;){if(!A){if((f.flags&524288)!==0)A=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var v=f.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var C=f.type;wt(f.pendingProps.value,v.value)||(e!==null?e.push(C):e=[C])}}else if(f===Ee.current){if(v=f.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(fo):e=[fo])}f=f.return}e!==null&&Ls(t,e,l,s),t.flags|=262144}function ko(e){for(e=e.firstContext;e!==null;){if(!wt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function di(e){fi=e,fn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return Fc(fi,e)}function Yo(e,t){return fi===null&&di(e),Fc(e,t)}function Fc(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},fn===null){if(e===null)throw Error(a(308));fn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else fn=fn.next=t;return l}var ng=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},ig=i.unstable_scheduleCallback,lg=i.unstable_NormalPriority,je={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zs(){return{controller:new ng,data:new Map,refCount:0}}function Vl(e){e.refCount--,e.refCount===0&&ig(lg,function(){e.controller.abort()})}var Pl=null,Gs=0,Oi=0,Ji=null;function og(e,t){if(Pl===null){var l=Pl=[];Gs=0,Oi=Vr(),Ji={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Gs++,t.then(Oc,Oc),t}function Oc(){if(--Gs===0&&Pl!==null){Ji!==null&&(Ji.status="fulfilled");var e=Pl;Pl=null,Oi=0,Ji=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function ag(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var f=0;f<l.length;f++)(0,l[f])(t)},function(f){for(s.status="rejected",s.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),s}var Jc=L.S;L.S=function(e,t){Id=mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&og(e,t),Jc!==null&&Jc(e,t)};var Ai=R(null);function qs(){var e=Ai.current;return e!==null?e:Be.pooledCache}function Fo(e,t){t===null?P(Ai,Ai.current):P(Ai,t.pool)}function Kc(){var e=qs();return e===null?null:{parent:je._currentValue,pool:e}}var Ki=Error(a(460)),Hs=Error(a(474)),Oo=Error(a(542)),Jo={then:function(){}};function Qc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Xc(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(sn,sn),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wc(e),e;default:if(typeof t.status=="string")t.then(sn,sn);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=s}},function(s){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Wc(e),e}throw mi=t,Ki}}function pi(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(mi=l,Ki):l}}var mi=null;function Zc(){if(mi===null)throw Error(a(459));var e=mi;return mi=null,e}function Wc(e){if(e===Ki||e===Oo)throw Error(a(483))}var Qi=null,Bl=0;function Ko(e){var t=Bl;return Bl+=1,Qi===null&&(Qi=[]),Xc(Qi,e,t)}function kl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Qo(e,t){throw t.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $c(e){function t(w,M){if(e){var I=w.deletions;I===null?(w.deletions=[M],w.flags|=16):I.push(M)}}function l(w,M){if(!e)return null;for(;M!==null;)t(w,M),M=M.sibling;return null}function s(w){for(var M=new Map;w!==null;)w.key!==null?M.set(w.key,w):M.set(w.index,w),w=w.sibling;return M}function f(w,M){return w=un(w,M),w.index=0,w.sibling=null,w}function A(w,M,I){return w.index=I,e?(I=w.alternate,I!==null?(I=I.index,I<M?(w.flags|=67108866,M):I):(w.flags|=67108866,M)):(w.flags|=1048576,M)}function v(w){return e&&w.alternate===null&&(w.flags|=67108866),w}function C(w,M,I,H){return M===null||M.tag!==6?(M=Ms(I,w.mode,H),M.return=w,M):(M=f(M,I),M.return=w,M)}function _(w,M,I,H){var ae=I.type;return ae===z?q(w,M,I.props.children,H,I.key):M!==null&&(M.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===j&&pi(ae)===M.type)?(M=f(M,I.props),kl(M,I),M.return=w,M):(M=Po(I.type,I.key,I.props,null,w.mode,H),kl(M,I),M.return=w,M)}function D(w,M,I,H){return M===null||M.tag!==4||M.stateNode.containerInfo!==I.containerInfo||M.stateNode.implementation!==I.implementation?(M=Rs(I,w.mode,H),M.return=w,M):(M=f(M,I.children||[]),M.return=w,M)}function q(w,M,I,H,ae){return M===null||M.tag!==7?(M=ui(I,w.mode,H,ae),M.return=w,M):(M=f(M,I),M.return=w,M)}function V(w,M,I){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ms(""+M,w.mode,I),M.return=w,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case x:return I=Po(M.type,M.key,M.props,null,w.mode,I),kl(I,M),I.return=w,I;case U:return M=Rs(M,w.mode,I),M.return=w,M;case j:return M=pi(M),V(w,M,I)}if(he(M)||te(M))return M=ui(M,w.mode,I,null),M.return=w,M;if(typeof M.then=="function")return V(w,Ko(M),I);if(M.$$typeof===J)return V(w,Yo(w,M),I);Qo(w,M)}return null}function b(w,M,I,H){var ae=M!==null?M.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ae!==null?null:C(w,M,""+I,H);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case x:return I.key===ae?_(w,M,I,H):null;case U:return I.key===ae?D(w,M,I,H):null;case j:return I=pi(I),b(w,M,I,H)}if(he(I)||te(I))return ae!==null?null:q(w,M,I,H,null);if(typeof I.then=="function")return b(w,M,Ko(I),H);if(I.$$typeof===J)return b(w,M,Yo(w,I),H);Qo(w,I)}return null}function G(w,M,I,H,ae){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return w=w.get(I)||null,C(M,w,""+H,ae);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case x:return w=w.get(H.key===null?I:H.key)||null,_(M,w,H,ae);case U:return w=w.get(H.key===null?I:H.key)||null,D(M,w,H,ae);case j:return H=pi(H),G(w,M,I,H,ae)}if(he(H)||te(H))return w=w.get(I)||null,q(M,w,H,ae,null);if(typeof H.then=="function")return G(w,M,I,Ko(H),ae);if(H.$$typeof===J)return G(w,M,I,Yo(M,H),ae);Qo(M,H)}return null}function ie(w,M,I,H){for(var ae=null,we=null,oe=M,pe=M=0,Te=null;oe!==null&&pe<I.length;pe++){oe.index>pe?(Te=oe,oe=null):Te=oe.sibling;var Ie=b(w,oe,I[pe],H);if(Ie===null){oe===null&&(oe=Te);break}e&&oe&&Ie.alternate===null&&t(w,oe),M=A(Ie,M,pe),we===null?ae=Ie:we.sibling=Ie,we=Ie,oe=Te}if(pe===I.length)return l(w,oe),Ce&&cn(w,pe),ae;if(oe===null){for(;pe<I.length;pe++)oe=V(w,I[pe],H),oe!==null&&(M=A(oe,M,pe),we===null?ae=oe:we.sibling=oe,we=oe);return Ce&&cn(w,pe),ae}for(oe=s(oe);pe<I.length;pe++)Te=G(oe,w,pe,I[pe],H),Te!==null&&(e&&Te.alternate!==null&&oe.delete(Te.key===null?pe:Te.key),M=A(Te,M,pe),we===null?ae=Te:we.sibling=Te,we=Te);return e&&oe.forEach(function(jn){return t(w,jn)}),Ce&&cn(w,pe),ae}function ce(w,M,I,H){if(I==null)throw Error(a(151));for(var ae=null,we=null,oe=M,pe=M=0,Te=null,Ie=I.next();oe!==null&&!Ie.done;pe++,Ie=I.next()){oe.index>pe?(Te=oe,oe=null):Te=oe.sibling;var jn=b(w,oe,Ie.value,H);if(jn===null){oe===null&&(oe=Te);break}e&&oe&&jn.alternate===null&&t(w,oe),M=A(jn,M,pe),we===null?ae=jn:we.sibling=jn,we=jn,oe=Te}if(Ie.done)return l(w,oe),Ce&&cn(w,pe),ae;if(oe===null){for(;!Ie.done;pe++,Ie=I.next())Ie=V(w,Ie.value,H),Ie!==null&&(M=A(Ie,M,pe),we===null?ae=Ie:we.sibling=Ie,we=Ie);return Ce&&cn(w,pe),ae}for(oe=s(oe);!Ie.done;pe++,Ie=I.next())Ie=G(oe,w,pe,Ie.value,H),Ie!==null&&(e&&Ie.alternate!==null&&oe.delete(Ie.key===null?pe:Ie.key),M=A(Ie,M,pe),we===null?ae=Ie:we.sibling=Ie,we=Ie);return e&&oe.forEach(function(gy){return t(w,gy)}),Ce&&cn(w,pe),ae}function Ve(w,M,I,H){if(typeof I=="object"&&I!==null&&I.type===z&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case x:e:{for(var ae=I.key;M!==null;){if(M.key===ae){if(ae=I.type,ae===z){if(M.tag===7){l(w,M.sibling),H=f(M,I.props.children),H.return=w,w=H;break e}}else if(M.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===j&&pi(ae)===M.type){l(w,M.sibling),H=f(M,I.props),kl(H,I),H.return=w,w=H;break e}l(w,M);break}else t(w,M);M=M.sibling}I.type===z?(H=ui(I.props.children,w.mode,H,I.key),H.return=w,w=H):(H=Po(I.type,I.key,I.props,null,w.mode,H),kl(H,I),H.return=w,w=H)}return v(w);case U:e:{for(ae=I.key;M!==null;){if(M.key===ae)if(M.tag===4&&M.stateNode.containerInfo===I.containerInfo&&M.stateNode.implementation===I.implementation){l(w,M.sibling),H=f(M,I.children||[]),H.return=w,w=H;break e}else{l(w,M);break}else t(w,M);M=M.sibling}H=Rs(I,w.mode,H),H.return=w,w=H}return v(w);case j:return I=pi(I),Ve(w,M,I,H)}if(he(I))return ie(w,M,I,H);if(te(I)){if(ae=te(I),typeof ae!="function")throw Error(a(150));return I=ae.call(I),ce(w,M,I,H)}if(typeof I.then=="function")return Ve(w,M,Ko(I),H);if(I.$$typeof===J)return Ve(w,M,Yo(w,I),H);Qo(w,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,M!==null&&M.tag===6?(l(w,M.sibling),H=f(M,I),H.return=w,w=H):(l(w,M),H=Ms(I,w.mode,H),H.return=w,w=H),v(w)):l(w,M)}return function(w,M,I,H){try{Bl=0;var ae=Ve(w,M,I,H);return Qi=null,ae}catch(oe){if(oe===Ki||oe===Oo)throw oe;var we=It(29,oe,null,w.mode);return we.lanes=H,we.return=w,we}finally{}}}var hi=$c(!0),jc=$c(!1),Gn=!1;function Vs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ps(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(be&2)!==0){var f=s.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),s.pending=t,t=Vo(e),Gc(e,null,l),t}return Ho(e,s,t,l),Vo(e)}function Yl(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Mi(e,l)}}function Bs(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var f=null,A=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};A===null?f=A=v:A=A.next=v,l=l.next}while(l!==null);A===null?f=A=t:A=A.next=t}else f=A=t;l={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:A,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var ks=!1;function Fl(){if(ks){var e=Ji;if(e!==null)throw e}}function Ol(e,t,l,s){ks=!1;var f=e.updateQueue;Gn=!1;var A=f.firstBaseUpdate,v=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var _=C,D=_.next;_.next=null,v===null?A=D:v.next=D,v=_;var q=e.alternate;q!==null&&(q=q.updateQueue,C=q.lastBaseUpdate,C!==v&&(C===null?q.firstBaseUpdate=D:C.next=D,q.lastBaseUpdate=_))}if(A!==null){var V=f.baseState;v=0,q=D=_=null,C=A;do{var b=C.lane&-536870913,G=b!==C.lane;if(G?(ve&b)===b:(s&b)===b){b!==0&&b===Oi&&(ks=!0),q!==null&&(q=q.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ie=e,ce=C;b=t;var Ve=l;switch(ce.tag){case 1:if(ie=ce.payload,typeof ie=="function"){V=ie.call(Ve,V,b);break e}V=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ce.payload,b=typeof ie=="function"?ie.call(Ve,V,b):ie,b==null)break e;V=T({},V,b);break e;case 2:Gn=!0}}b=C.callback,b!==null&&(e.flags|=64,G&&(e.flags|=8192),G=f.callbacks,G===null?f.callbacks=[b]:G.push(b))}else G={lane:b,tag:C.tag,payload:C.payload,callback:C.callback,next:null},q===null?(D=q=G,_=V):q=q.next=G,v|=b;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;G=C,C=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);q===null&&(_=V),f.baseState=_,f.firstBaseUpdate=D,f.lastBaseUpdate=q,A===null&&(f.shared.lanes=0),Yn|=v,e.lanes=v,e.memoizedState=V}}function ef(e,t){if(typeof e!="function")throw Error(a(191,e));e.call(t)}function tf(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)ef(l[e],t)}var Xi=R(null),Xo=R(0);function nf(e,t){e=Sn,P(Xo,e),P(Xi,t),Sn=e|t.baseLanes}function Ys(){P(Xo,Sn),P(Xi,Xi.current)}function Fs(){Sn=Xo.current,N(Xi),N(Xo)}var Dt=R(null),Yt=null;function Vn(e){var t=e.alternate;P(We,We.current&1),P(Dt,e),Yt===null&&(t===null||Xi.current!==null||t.memoizedState!==null)&&(Yt=e)}function Os(e){P(We,We.current),P(Dt,e),Yt===null&&(Yt=e)}function lf(e){e.tag===22?(P(We,We.current),P(Dt,e),Yt===null&&(Yt=e)):Pn()}function Pn(){P(We,We.current),P(Dt,Dt.current)}function bt(e){N(Dt),Yt===e&&(Yt=null),N(We)}var We=R(0);function Zo(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Wr(l)||$r(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var An=0,Ae=null,qe=null,et=null,Wo=!1,Zi=!1,gi=!1,$o=0,Jl=0,Wi=null,sg=0;function Qe(){throw Error(a(321))}function Js(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!wt(e[l],t[l]))return!1;return!0}function Ks(e,t,l,s,f,A){return An=A,Ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,L.H=e===null||e.memoizedState===null?Bf:rr,gi=!1,A=l(s,f),gi=!1,Zi&&(A=af(t,l,s,f)),of(e),A}function of(e){L.H=Xl;var t=qe!==null&&qe.next!==null;if(An=0,et=qe=Ae=null,Wo=!1,Jl=0,Wi=null,t)throw Error(a(300));e===null||tt||(e=e.dependencies,e!==null&&ko(e)&&(tt=!0))}function af(e,t,l,s){Ae=e;var f=0;do{if(Zi&&(Wi=null),Jl=0,Zi=!1,25<=f)throw Error(a(301));if(f+=1,et=qe=null,e.updateQueue!=null){var A=e.updateQueue;A.lastEffect=null,A.events=null,A.stores=null,A.memoCache!=null&&(A.memoCache.index=0)}L.H=kf,A=t(l,s)}while(Zi);return A}function rg(){var e=L.H,t=e.useState()[0];return t=typeof t.then=="function"?Kl(t):t,e=e.useState()[0],(qe!==null?qe.memoizedState:null)!==e&&(Ae.flags|=1024),t}function Qs(){var e=$o!==0;return $o=0,e}function Xs(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Zs(e){if(Wo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Wo=!1}An=0,et=qe=Ae=null,Zi=!1,Jl=$o=0,Wi=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?Ae.memoizedState=et=e:et=et.next=e,et}function $e(){if(qe===null){var e=Ae.alternate;e=e!==null?e.memoizedState:null}else e=qe.next;var t=et===null?Ae.memoizedState:et.next;if(t!==null)et=t,qe=e;else{if(e===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));qe=e,e={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},et===null?Ae.memoizedState=et=e:et=et.next=e}return et}function jo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(e){var t=Jl;return Jl+=1,Wi===null&&(Wi=[]),e=Xc(Wi,e,t),t=Ae,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,L.H=t===null||t.memoizedState===null?Bf:rr),e}function ea(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===J)return ct(e)}throw Error(a(438,String(e)))}function Ws(e){var t=null,l=Ae.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=Ae.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=jo(),Ae.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=se;return t.index++,l}function pn(e,t){return typeof t=="function"?t(e):t}function ta(e){var t=$e();return $s(t,qe,e)}function $s(e,t,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var f=e.baseQueue,A=s.pending;if(A!==null){if(f!==null){var v=f.next;f.next=A.next,A.next=v}t.baseQueue=f=A,s.pending=null}if(A=e.baseState,f===null)e.memoizedState=A;else{t=f.next;var C=v=null,_=null,D=t,q=!1;do{var V=D.lane&-536870913;if(V!==D.lane?(ve&V)===V:(An&V)===V){var b=D.revertLane;if(b===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null}),V===Oi&&(q=!0);else if((An&b)===b){D=D.next,b===Oi&&(q=!0);continue}else V={lane:0,revertLane:D.revertLane,gesture:null,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(C=_=V,v=A):_=_.next=V,Ae.lanes|=b,Yn|=b;V=D.action,gi&&l(A,V),A=D.hasEagerState?D.eagerState:l(A,V)}else b={lane:V,revertLane:D.revertLane,gesture:D.gesture,action:D.action,hasEagerState:D.hasEagerState,eagerState:D.eagerState,next:null},_===null?(C=_=b,v=A):_=_.next=b,Ae.lanes|=V,Yn|=V;D=D.next}while(D!==null&&D!==t);if(_===null?v=A:_.next=C,!wt(A,e.memoizedState)&&(tt=!0,q&&(l=Ji,l!==null)))throw l;e.memoizedState=A,e.baseState=v,e.baseQueue=_,s.lastRenderedState=A}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function js(e){var t=$e(),l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,f=l.pending,A=t.memoizedState;if(f!==null){l.pending=null;var v=f=f.next;do A=e(A,v.action),v=v.next;while(v!==f);wt(A,t.memoizedState)||(tt=!0),t.memoizedState=A,t.baseQueue===null&&(t.baseState=A),l.lastRenderedState=A}return[A,s]}function sf(e,t,l){var s=Ae,f=$e(),A=Ce;if(A){if(l===void 0)throw Error(a(407));l=l()}else l=t();var v=!wt((qe||f).memoizedState,l);if(v&&(f.memoizedState=l,tt=!0),f=f.queue,nr(cf.bind(null,s,f,e),[e]),f.getSnapshot!==t||v||et!==null&&et.memoizedState.tag&1){if(s.flags|=2048,$i(9,{destroy:void 0},uf.bind(null,s,f,l,t),null),Be===null)throw Error(a(349));A||(An&127)!==0||rf(s,t,l)}return l}function rf(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ae.updateQueue,t===null?(t=jo(),Ae.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function uf(e,t,l,s){t.value=l,t.getSnapshot=s,ff(t)&&df(e)}function cf(e,t,l){return l(function(){ff(t)&&df(e)})}function ff(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!wt(e,l)}catch{return!0}}function df(e){var t=ri(e,2);t!==null&&xt(t,e,2)}function er(e){var t=gt();if(typeof e=="function"){var l=e;if(e=l(),gi){st(!0);try{l()}finally{st(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:e},t}function Af(e,t,l,s){return e.baseState=l,$s(e,qe,typeof s=="function"?s:pn)}function ug(e,t,l,s,f){if(la(e))throw Error(a(485));if(e=t.action,e!==null){var A={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){A.listeners.push(v)}};L.T!==null?l(!0):A.isTransition=!1,s(A),l=t.pending,l===null?(A.next=t.pending=A,pf(t,A)):(A.next=l.next,t.pending=l.next=A)}}function pf(e,t){var l=t.action,s=t.payload,f=e.state;if(t.isTransition){var A=L.T,v={};L.T=v;try{var C=l(f,s),_=L.S;_!==null&&_(v,C),mf(e,t,C)}catch(D){tr(e,t,D)}finally{A!==null&&v.types!==null&&(A.types=v.types),L.T=A}}else try{A=l(f,s),mf(e,t,A)}catch(D){tr(e,t,D)}}function mf(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){hf(e,t,s)},function(s){return tr(e,t,s)}):hf(e,t,l)}function hf(e,t,l){t.status="fulfilled",t.value=l,gf(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,pf(e,l)))}function tr(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,gf(t),t=t.next;while(t!==s)}e.action=null}function gf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function yf(e,t){return t}function vf(e,t){if(Ce){var l=Be.formState;if(l!==null){e:{var s=Ae;if(Ce){if(ke){t:{for(var f=ke,A=kt;f.nodeType!==8;){if(!A){f=null;break t}if(f=Ft(f.nextSibling),f===null){f=null;break t}}A=f.data,f=A==="F!"||A==="F"?f:null}if(f){ke=Ft(f.nextSibling),s=f.data==="F!";break e}}Ln(s)}s=!1}s&&(t=l[0])}}return l=gt(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yf,lastRenderedState:t},l.queue=s,l=Hf.bind(null,Ae,s),s.dispatch=l,s=er(!1),A=sr.bind(null,Ae,!1,s.queue),s=gt(),f={state:t,dispatch:null,action:e,pending:null},s.queue=f,l=ug.bind(null,Ae,f,A,l),f.dispatch=l,s.memoizedState=e,[t,l,!1]}function Tf(e){var t=$e();return Sf(t,qe,e)}function Sf(e,t,l){if(t=$s(e,t,yf)[0],e=ta(pn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Kl(t)}catch(v){throw v===Ki?Oo:v}else s=t;t=$e();var f=t.queue,A=f.dispatch;return l!==t.memoizedState&&(Ae.flags|=2048,$i(9,{destroy:void 0},cg.bind(null,f,l),null)),[s,A,e]}function cg(e,t){e.action=t}function Ef(e){var t=$e(),l=qe;if(l!==null)return Sf(t,l,e);$e(),t=t.memoizedState,l=$e();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function $i(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=Ae.updateQueue,t===null&&(t=jo(),Ae.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function Cf(){return $e().memoizedState}function na(e,t,l,s){var f=gt();Ae.flags|=e,f.memoizedState=$i(1|t,{destroy:void 0},l,s===void 0?null:s)}function ia(e,t,l,s){var f=$e();s=s===void 0?null:s;var A=f.memoizedState.inst;qe!==null&&s!==null&&Js(s,qe.memoizedState.deps)?f.memoizedState=$i(t,A,l,s):(Ae.flags|=e,f.memoizedState=$i(1|t,A,l,s))}function _f(e,t){na(8390656,8,e,t)}function nr(e,t){ia(2048,8,e,t)}function fg(e){Ae.flags|=4;var t=Ae.updateQueue;if(t===null)t=jo(),Ae.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function xf(e){var t=$e().memoizedState;return fg({ref:t,nextImpl:e}),function(){if((be&2)!==0)throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Mf(e,t){return ia(4,2,e,t)}function Rf(e,t){return ia(4,4,e,t)}function Nf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function wf(e,t,l){l=l!=null?l.concat([e]):null,ia(4,4,Nf.bind(null,t,e),l)}function ir(){}function If(e,t){var l=$e();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&Js(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function Df(e,t){var l=$e();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&Js(t,s[1]))return s[0];if(s=e(),gi){st(!0);try{e()}finally{st(!1)}}return l.memoizedState=[s,t],s}function lr(e,t,l){return l===void 0||(An&1073741824)!==0&&(ve&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=bd(),Ae.lanes|=e,Yn|=e,l)}function bf(e,t,l,s){return wt(l,t)?l:Xi.current!==null?(e=lr(e,l,s),wt(e,t)||(tt=!0),e):(An&42)===0||(An&1073741824)!==0&&(ve&261930)===0?(tt=!0,e.memoizedState=l):(e=bd(),Ae.lanes|=e,Yn|=e,t)}function Uf(e,t,l,s,f){var A=Z.p;Z.p=A!==0&&8>A?A:8;var v=L.T,C={};L.T=C,sr(e,!1,t,l);try{var _=f(),D=L.S;if(D!==null&&D(C,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var q=ag(_,s);Ql(e,t,q,zt(e))}else Ql(e,t,s,zt(e))}catch(V){Ql(e,t,{then:function(){},status:"rejected",reason:V},zt())}finally{Z.p=A,v!==null&&C.types!==null&&(v.types=C.types),L.T=v}}function dg(){}function or(e,t,l,s){if(e.tag!==5)throw Error(a(476));var f=Lf(e).queue;Uf(e,f,t,re,l===null?dg:function(){return zf(e),l(s)})}function Lf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:re},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pn,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function zf(e){var t=Lf(e);t.next===null&&(t=e.alternate.memoizedState),Ql(e,t.next.queue,{},zt())}function ar(){return ct(fo)}function Gf(){return $e().memoizedState}function qf(){return $e().memoizedState}function Ag(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=zt();e=qn(l);var s=Hn(t,e,l);s!==null&&(xt(s,t,l),Yl(s,t,l)),t={cache:zs()},e.payload=t;return}t=t.return}}function pg(e,t,l){var s=zt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},la(e)?Vf(t,l):(l=_s(e,t,l,s),l!==null&&(xt(l,e,s),Pf(l,t,s)))}function Hf(e,t,l){var s=zt();Ql(e,t,l,s)}function Ql(e,t,l,s){var f={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(la(e))Vf(t,f);else{var A=e.alternate;if(e.lanes===0&&(A===null||A.lanes===0)&&(A=t.lastRenderedReducer,A!==null))try{var v=t.lastRenderedState,C=A(v,l);if(f.hasEagerState=!0,f.eagerState=C,wt(C,v))return Ho(e,t,f,0),Be===null&&qo(),!1}catch{}finally{}if(l=_s(e,t,f,s),l!==null)return xt(l,e,s),Pf(l,t,s),!0}return!1}function sr(e,t,l,s){if(s={lane:2,revertLane:Vr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},la(e)){if(t)throw Error(a(479))}else t=_s(e,l,s,2),t!==null&&xt(t,e,2)}function la(e){var t=e.alternate;return e===Ae||t!==null&&t===Ae}function Vf(e,t){Zi=Wo=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Pf(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Mi(e,l)}}var Xl={readContext:ct,use:ea,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};Xl.useEffectEvent=Qe;var Bf={readContext:ct,use:ea,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:_f,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,na(4194308,4,Nf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return na(4194308,4,e,t)},useInsertionEffect:function(e,t){na(4,2,e,t)},useMemo:function(e,t){var l=gt();t=t===void 0?null:t;var s=e();if(gi){st(!0);try{e()}finally{st(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=gt();if(l!==void 0){var f=l(t);if(gi){st(!0);try{l(t)}finally{st(!1)}}}else f=t;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=pg.bind(null,Ae,e),[s.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=er(e);var t=e.queue,l=Hf.bind(null,Ae,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:ir,useDeferredValue:function(e,t){var l=gt();return lr(l,e,t)},useTransition:function(){var e=er(!1);return e=Uf.bind(null,Ae,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=Ae,f=gt();if(Ce){if(l===void 0)throw Error(a(407));l=l()}else{if(l=t(),Be===null)throw Error(a(349));(ve&127)!==0||rf(s,t,l)}f.memoizedState=l;var A={value:l,getSnapshot:t};return f.queue=A,_f(cf.bind(null,s,A,e),[e]),s.flags|=2048,$i(9,{destroy:void 0},uf.bind(null,s,A,l,t),null),l},useId:function(){var e=gt(),t=Be.identifierPrefix;if(Ce){var l=nn,s=tn;l=(s&~(1<<32-Ze(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=$o++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=sg++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ar,useFormState:vf,useActionState:vf,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=sr.bind(null,Ae,!0,l),l.dispatch=t,[e,t]},useMemoCache:Ws,useCacheRefresh:function(){return gt().memoizedState=Ag.bind(null,Ae)},useEffectEvent:function(e){var t=gt(),l={impl:e};return t.memoizedState=l,function(){if((be&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},rr={readContext:ct,use:ea,useCallback:If,useContext:ct,useEffect:nr,useImperativeHandle:wf,useInsertionEffect:Mf,useLayoutEffect:Rf,useMemo:Df,useReducer:ta,useRef:Cf,useState:function(){return ta(pn)},useDebugValue:ir,useDeferredValue:function(e,t){var l=$e();return bf(l,qe.memoizedState,e,t)},useTransition:function(){var e=ta(pn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:sf,useId:Gf,useHostTransitionStatus:ar,useFormState:Tf,useActionState:Tf,useOptimistic:function(e,t){var l=$e();return Af(l,qe,e,t)},useMemoCache:Ws,useCacheRefresh:qf};rr.useEffectEvent=xf;var kf={readContext:ct,use:ea,useCallback:If,useContext:ct,useEffect:nr,useImperativeHandle:wf,useInsertionEffect:Mf,useLayoutEffect:Rf,useMemo:Df,useReducer:js,useRef:Cf,useState:function(){return js(pn)},useDebugValue:ir,useDeferredValue:function(e,t){var l=$e();return qe===null?lr(l,e,t):bf(l,qe.memoizedState,e,t)},useTransition:function(){var e=js(pn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Kl(e),t]},useSyncExternalStore:sf,useId:Gf,useHostTransitionStatus:ar,useFormState:Ef,useActionState:Ef,useOptimistic:function(e,t){var l=$e();return qe!==null?Af(l,qe,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Ws,useCacheRefresh:qf};kf.useEffectEvent=xf;function ur(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:T({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var cr={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=zt(),f=qn(s);f.payload=t,l!=null&&(f.callback=l),t=Hn(e,f,s),t!==null&&(xt(t,e,s),Yl(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=zt(),f=qn(s);f.tag=1,f.payload=t,l!=null&&(f.callback=l),t=Hn(e,f,s),t!==null&&(xt(t,e,s),Yl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=zt(),s=qn(l);s.tag=2,t!=null&&(s.callback=t),t=Hn(e,s,l),t!==null&&(xt(t,e,l),Yl(t,e,l))}};function Yf(e,t,l,s,f,A,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,A,v):t.prototype&&t.prototype.isPureReactComponent?!zl(l,s)||!zl(f,A):!0}function Ff(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&cr.enqueueReplaceState(t,t.state,null)}function yi(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=T({},l));for(var f in e)l[f]===void 0&&(l[f]=e[f])}return l}function Of(e){Go(e)}function Jf(e){console.error(e)}function Kf(e){Go(e)}function oa(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Qf(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function fr(e,t,l){return l=qn(l),l.tag=3,l.payload={element:null},l.callback=function(){oa(e,t)},l}function Xf(e){return e=qn(e),e.tag=3,e}function Zf(e,t,l,s){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var A=s.value;e.payload=function(){return f(A)},e.callback=function(){Qf(t,l,s)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Qf(t,l,s),typeof f!="function"&&(Fn===null?Fn=new Set([this]):Fn.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function mg(e,t,l,s,f){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&Fi(t,l,f,!0),l=Dt.current,l!==null){switch(l.tag){case 31:case 13:return Yt===null?ga():l.alternate===null&&Xe===0&&(Xe=3),l.flags&=-257,l.flags|=65536,l.lanes=f,s===Jo?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),Gr(e,s,f)),!1;case 22:return l.flags|=65536,s===Jo?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),Gr(e,s,f)),!1}throw Error(a(435,l.tag))}return Gr(e,s,f),ga(),!1}if(Ce)return t=Dt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,s!==Is&&(e=Error(a(422),{cause:s}),Hl(Vt(e,l)))):(s!==Is&&(t=Error(a(423),{cause:s}),Hl(Vt(t,l))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=Vt(s,l),f=fr(e.stateNode,s,f),Bs(e,f),Xe!==4&&(Xe=2)),!1;var A=Error(a(520),{cause:s});if(A=Vt(A,l),io===null?io=[A]:io.push(A),Xe!==4&&(Xe=2),t===null)return!0;s=Vt(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=f&-f,l.lanes|=e,e=fr(l.stateNode,s,e),Bs(l,e),!1;case 1:if(t=l.type,A=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Fn===null||!Fn.has(A))))return l.flags|=65536,f&=-f,l.lanes|=f,f=Xf(f),Zf(f,e,l,s),Bs(l,f),!1}l=l.return}while(l!==null);return!1}var dr=Error(a(461)),tt=!1;function ft(e,t,l,s){t.child=e===null?jc(t,null,l,s):hi(t,e.child,l,s)}function Wf(e,t,l,s,f){l=l.render;var A=t.ref;if("ref"in s){var v={};for(var C in s)C!=="ref"&&(v[C]=s[C])}else v=s;return di(t),s=Ks(e,t,l,v,A,f),C=Qs(),e!==null&&!tt?(Xs(e,t,f),mn(e,t,f)):(Ce&&C&&Ns(t),t.flags|=1,ft(e,t,s,f),t.child)}function $f(e,t,l,s,f){if(e===null){var A=l.type;return typeof A=="function"&&!xs(A)&&A.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=A,jf(e,t,A,s,f)):(e=Po(l.type,null,s,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(A=e.child,!Tr(e,f)){var v=A.memoizedProps;if(l=l.compare,l=l!==null?l:zl,l(v,s)&&e.ref===t.ref)return mn(e,t,f)}return t.flags|=1,e=un(A,s),e.ref=t.ref,e.return=t,t.child=e}function jf(e,t,l,s,f){if(e!==null){var A=e.memoizedProps;if(zl(A,s)&&e.ref===t.ref)if(tt=!1,t.pendingProps=s=A,Tr(e,f))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,mn(e,t,f)}return Ar(e,t,l,s,f)}function ed(e,t,l,s){var f=s.children,A=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(A=A!==null?A.baseLanes|l:l,e!==null){for(s=t.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~A}else s=0,t.child=null;return td(e,t,A,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fo(t,A!==null?A.cachePool:null),A!==null?nf(t,A):Ys(),lf(t);else return s=t.lanes=536870912,td(e,t,A!==null?A.baseLanes|l:l,l,s)}else A!==null?(Fo(t,A.cachePool),nf(t,A),Pn(),t.memoizedState=null):(e!==null&&Fo(t,null),Ys(),Pn());return ft(e,t,f,l),t.child}function Zl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function td(e,t,l,s,f){var A=qs();return A=A===null?null:{parent:je._currentValue,pool:A},t.memoizedState={baseLanes:l,cachePool:A},e!==null&&Fo(t,null),Ys(),lf(t),e!==null&&Fi(e,t,s,!0),t.childLanes=f,null}function aa(e,t){return t=ra({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function nd(e,t,l){return hi(t,e.child,null,l),e=aa(t,t.pendingProps),e.flags|=2,bt(t),t.memoizedState=null,e}function hg(e,t,l){var s=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ce){if(s.mode==="hidden")return e=aa(t,s),t.lanes=536870912,Zl(null,e);if(Os(t),(e=ke)?(e=pA(e,kt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},l=Hc(e),l.return=t,t.child=l,ut=t,ke=null)):e=null,e===null)throw Ln(t);return t.lanes=536870912,null}return aa(t,s)}var A=e.memoizedState;if(A!==null){var v=A.dehydrated;if(Os(t),f)if(t.flags&256)t.flags&=-257,t=nd(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(a(558));else if(tt||Fi(e,t,l,!1),f=(l&e.childLanes)!==0,tt||f){if(s=Be,s!==null&&(v=xl(s,l),v!==0&&v!==A.retryLane))throw A.retryLane=v,ri(e,v),xt(s,e,v),dr;ga(),t=nd(e,t,l)}else e=A.treeContext,ke=Ft(v.nextSibling),ut=t,Ce=!0,Un=null,kt=!1,e!==null&&Bc(t,e),t=aa(t,s),t.flags|=4096;return t}return e=un(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function sa(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Ar(e,t,l,s,f){return di(t),l=Ks(e,t,l,s,void 0,f),s=Qs(),e!==null&&!tt?(Xs(e,t,f),mn(e,t,f)):(Ce&&s&&Ns(t),t.flags|=1,ft(e,t,l,f),t.child)}function id(e,t,l,s,f,A){return di(t),t.updateQueue=null,l=af(t,s,l,f),of(e),s=Qs(),e!==null&&!tt?(Xs(e,t,A),mn(e,t,A)):(Ce&&s&&Ns(t),t.flags|=1,ft(e,t,l,A),t.child)}function ld(e,t,l,s,f){if(di(t),t.stateNode===null){var A=Pi,v=l.contextType;typeof v=="object"&&v!==null&&(A=ct(v)),A=new l(s,A),t.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,A.updater=cr,t.stateNode=A,A._reactInternals=t,A=t.stateNode,A.props=s,A.state=t.memoizedState,A.refs={},Vs(t),v=l.contextType,A.context=typeof v=="object"&&v!==null?ct(v):Pi,A.state=t.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(ur(t,l,v,s),A.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(v=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),v!==A.state&&cr.enqueueReplaceState(A,A.state,null),Ol(t,s,A,f),Fl(),A.state=t.memoizedState),typeof A.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){A=t.stateNode;var C=t.memoizedProps,_=yi(l,C);A.props=_;var D=A.context,q=l.contextType;v=Pi,typeof q=="object"&&q!==null&&(v=ct(q));var V=l.getDerivedStateFromProps;q=typeof V=="function"||typeof A.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,q||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(C||D!==v)&&Ff(t,A,s,v),Gn=!1;var b=t.memoizedState;A.state=b,Ol(t,s,A,f),Fl(),D=t.memoizedState,C||b!==D||Gn?(typeof V=="function"&&(ur(t,l,V,s),D=t.memoizedState),(_=Gn||Yf(t,l,_,s,b,D,v))?(q||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(t.flags|=4194308)):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=D),A.props=s,A.state=D,A.context=v,s=_):(typeof A.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{A=t.stateNode,Ps(e,t),v=t.memoizedProps,q=yi(l,v),A.props=q,V=t.pendingProps,b=A.context,D=l.contextType,_=Pi,typeof D=="object"&&D!==null&&(_=ct(D)),C=l.getDerivedStateFromProps,(D=typeof C=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(v!==V||b!==_)&&Ff(t,A,s,_),Gn=!1,b=t.memoizedState,A.state=b,Ol(t,s,A,f),Fl();var G=t.memoizedState;v!==V||b!==G||Gn||e!==null&&e.dependencies!==null&&ko(e.dependencies)?(typeof C=="function"&&(ur(t,l,C,s),G=t.memoizedState),(q=Gn||Yf(t,l,q,s,b,G,_)||e!==null&&e.dependencies!==null&&ko(e.dependencies))?(D||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(s,G,_),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(s,G,_)),typeof A.componentDidUpdate=="function"&&(t.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof A.componentDidUpdate!="function"||v===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=G),A.props=s,A.state=G,A.context=_,s=q):(typeof A.componentDidUpdate!="function"||v===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),s=!1)}return A=s,sa(e,t),s=(t.flags&128)!==0,A||s?(A=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:A.render(),t.flags|=1,e!==null&&s?(t.child=hi(t,e.child,null,f),t.child=hi(t,null,l,f)):ft(e,t,l,f),t.memoizedState=A.state,e=t.child):e=mn(e,t,f),e}function od(e,t,l,s){return ci(),t.flags|=256,ft(e,t,l,s),t.child}var pr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mr(e){return{baseLanes:e,cachePool:Kc()}}function hr(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Lt),e}function ad(e,t,l){var s=t.pendingProps,f=!1,A=(t.flags&128)!==0,v;if((v=A)||(v=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),v&&(f=!0,t.flags&=-129),v=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ce){if(f?Vn(t):Pn(),(e=ke)?(e=pA(e,kt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:bn!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},l=Hc(e),l.return=t,t.child=l,ut=t,ke=null)):e=null,e===null)throw Ln(t);return $r(e)?t.lanes=32:t.lanes=536870912,null}var C=s.children;return s=s.fallback,f?(Pn(),f=t.mode,C=ra({mode:"hidden",children:C},f),s=ui(s,f,l,null),C.return=t,s.return=t,C.sibling=s,t.child=C,s=t.child,s.memoizedState=mr(l),s.childLanes=hr(e,v,l),t.memoizedState=pr,Zl(null,s)):(Vn(t),gr(t,C))}var _=e.memoizedState;if(_!==null&&(C=_.dehydrated,C!==null)){if(A)t.flags&256?(Vn(t),t.flags&=-257,t=yr(e,t,l)):t.memoizedState!==null?(Pn(),t.child=e.child,t.flags|=128,t=null):(Pn(),C=s.fallback,f=t.mode,s=ra({mode:"visible",children:s.children},f),C=ui(C,f,l,null),C.flags|=2,s.return=t,C.return=t,s.sibling=C,t.child=s,hi(t,e.child,null,l),s=t.child,s.memoizedState=mr(l),s.childLanes=hr(e,v,l),t.memoizedState=pr,t=Zl(null,s));else if(Vn(t),$r(C)){if(v=C.nextSibling&&C.nextSibling.dataset,v)var D=v.dgst;v=D,s=Error(a(419)),s.stack="",s.digest=v,Hl({value:s,source:null,stack:null}),t=yr(e,t,l)}else if(tt||Fi(e,t,l,!1),v=(l&e.childLanes)!==0,tt||v){if(v=Be,v!==null&&(s=xl(v,l),s!==0&&s!==_.retryLane))throw _.retryLane=s,ri(e,s),xt(v,e,s),dr;Wr(C)||ga(),t=yr(e,t,l)}else Wr(C)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,ke=Ft(C.nextSibling),ut=t,Ce=!0,Un=null,kt=!1,e!==null&&Bc(t,e),t=gr(t,s.children),t.flags|=4096);return t}return f?(Pn(),C=s.fallback,f=t.mode,_=e.child,D=_.sibling,s=un(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,D!==null?C=un(D,C):(C=ui(C,f,l,null),C.flags|=2),C.return=t,s.return=t,s.sibling=C,t.child=s,Zl(null,s),s=t.child,C=e.child.memoizedState,C===null?C=mr(l):(f=C.cachePool,f!==null?(_=je._currentValue,f=f.parent!==_?{parent:_,pool:_}:f):f=Kc(),C={baseLanes:C.baseLanes|l,cachePool:f}),s.memoizedState=C,s.childLanes=hr(e,v,l),t.memoizedState=pr,Zl(e.child,s)):(Vn(t),l=e.child,e=l.sibling,l=un(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(v=t.deletions,v===null?(t.deletions=[e],t.flags|=16):v.push(e)),t.child=l,t.memoizedState=null,l)}function gr(e,t){return t=ra({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function ra(e,t){return e=It(22,e,null,t),e.lanes=0,e}function yr(e,t,l){return hi(t,e.child,null,l),e=gr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sd(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Us(e.return,t,l)}function vr(e,t,l,s,f,A){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:f,treeForkCount:A}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=s,v.tail=l,v.tailMode=f,v.treeForkCount=A)}function rd(e,t,l){var s=t.pendingProps,f=s.revealOrder,A=s.tail;s=s.children;var v=We.current,C=(v&2)!==0;if(C?(v=v&1|2,t.flags|=128):v&=1,P(We,v),ft(e,t,s,l),s=Ce?ql:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sd(e,l,t);else if(e.tag===19)sd(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(l=t.child,f=null;l!==null;)e=l.alternate,e!==null&&Zo(e)===null&&(f=l),l=l.sibling;l=f,l===null?(f=t.child,t.child=null):(f=l.sibling,l.sibling=null),vr(t,!1,f,l,A,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&Zo(e)===null){t.child=f;break}e=f.sibling,f.sibling=l,l=f,f=e}vr(t,!0,l,null,A,s);break;case"together":vr(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function mn(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Fi(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,l=un(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=un(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Tr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ko(e)))}function gg(e,t,l){switch(t.tag){case 3:Oe(t,t.stateNode.containerInfo),zn(t,je,e.memoizedState.cache),ci();break;case 27:case 5:ti(t);break;case 4:Oe(t,t.stateNode.containerInfo);break;case 10:zn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Os(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Vn(t),t.flags|=128,null):(l&t.child.childLanes)!==0?ad(e,t,l):(Vn(t),e=mn(e,t,l),e!==null?e.sibling:null);Vn(t);break;case 19:var f=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(Fi(e,t,l,!1),s=(l&t.childLanes)!==0),f){if(s)return rd(e,t,l);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),P(We,We.current),s)break;return null;case 22:return t.lanes=0,ed(e,t,l,t.pendingProps);case 24:zn(t,je,e.memoizedState.cache)}return mn(e,t,l)}function ud(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!Tr(e,l)&&(t.flags&128)===0)return tt=!1,gg(e,t,l);tt=(e.flags&131072)!==0}else tt=!1,Ce&&(t.flags&1048576)!==0&&Pc(t,ql,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=pi(t.elementType),t.type=e,typeof e=="function")xs(e)?(s=yi(e,s),t.tag=1,t=ld(null,t,e,s,l)):(t.tag=0,t=Ar(null,t,e,s,l));else{if(e!=null){var f=e.$$typeof;if(f===ee){t.tag=11,t=Wf(null,t,e,s,l);break e}else if(f===B){t.tag=14,t=$f(null,t,e,s,l);break e}}throw t=Ne(e)||e,Error(a(306,t,""))}}return t;case 0:return Ar(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,f=yi(s,t.pendingProps),ld(e,t,s,f,l);case 3:e:{if(Oe(t,t.stateNode.containerInfo),e===null)throw Error(a(387));s=t.pendingProps;var A=t.memoizedState;f=A.element,Ps(e,t),Ol(t,s,null,l);var v=t.memoizedState;if(s=v.cache,zn(t,je,s),s!==A.cache&&Ls(t,[je],l,!0),Fl(),s=v.element,A.isDehydrated)if(A={element:s,isDehydrated:!1,cache:v.cache},t.updateQueue.baseState=A,t.memoizedState=A,t.flags&256){t=od(e,t,s,l);break e}else if(s!==f){f=Vt(Error(a(424)),t),Hl(f),t=od(e,t,s,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ke=Ft(e.firstChild),ut=t,Ce=!0,Un=null,kt=!0,l=jc(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ci(),s===f){t=mn(e,t,l);break e}ft(e,t,s,l)}t=t.child}return t;case 26:return sa(e,t),e===null?(l=TA(t.type,null,t.pendingProps,null))?t.memoizedState=l:Ce||(l=t.type,e=t.pendingProps,s=_a(ue.current).createElement(l),s[rt]=t,s[vt]=e,dt(s,l,e),ot(s),t.stateNode=s):t.memoizedState=TA(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ti(t),e===null&&Ce&&(s=t.stateNode=gA(t.type,t.pendingProps,ue.current),ut=t,kt=!0,f=ke,Qn(t.type)?(jr=f,ke=Ft(s.firstChild)):ke=f),ft(e,t,t.pendingProps.children,l),sa(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ce&&((f=s=ke)&&(s=Kg(s,t.type,t.pendingProps,kt),s!==null?(t.stateNode=s,ut=t,ke=Ft(s.firstChild),kt=!1,f=!0):f=!1),f||Ln(t)),ti(t),f=t.type,A=t.pendingProps,v=e!==null?e.memoizedProps:null,s=A.children,Qr(f,A)?s=null:v!==null&&Qr(f,v)&&(t.flags|=32),t.memoizedState!==null&&(f=Ks(e,t,rg,null,null,l),fo._currentValue=f),sa(e,t),ft(e,t,s,l),t.child;case 6:return e===null&&Ce&&((e=l=ke)&&(l=Qg(l,t.pendingProps,kt),l!==null?(t.stateNode=l,ut=t,ke=null,e=!0):e=!1),e||Ln(t)),null;case 13:return ad(e,t,l);case 4:return Oe(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=hi(t,null,s,l):ft(e,t,s,l),t.child;case 11:return Wf(e,t,t.type,t.pendingProps,l);case 7:return ft(e,t,t.pendingProps,l),t.child;case 8:return ft(e,t,t.pendingProps.children,l),t.child;case 12:return ft(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,zn(t,t.type,s.value),ft(e,t,s.children,l),t.child;case 9:return f=t.type._context,s=t.pendingProps.children,di(t),f=ct(f),s=s(f),t.flags|=1,ft(e,t,s,l),t.child;case 14:return $f(e,t,t.type,t.pendingProps,l);case 15:return jf(e,t,t.type,t.pendingProps,l);case 19:return rd(e,t,l);case 31:return hg(e,t,l);case 22:return ed(e,t,l,t.pendingProps);case 24:return di(t),s=ct(je),e===null?(f=qs(),f===null&&(f=Be,A=zs(),f.pooledCache=A,A.refCount++,A!==null&&(f.pooledCacheLanes|=l),f=A),t.memoizedState={parent:s,cache:f},Vs(t),zn(t,je,f)):((e.lanes&l)!==0&&(Ps(e,t),Ol(t,null,null,l),Fl()),f=e.memoizedState,A=t.memoizedState,f.parent!==s?(f={parent:s,cache:s},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),zn(t,je,s)):(s=A.cache,zn(t,je,s),s!==f.cache&&Ls(t,[je],l,!0))),ft(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function hn(e){e.flags|=4}function Sr(e,t,l,s,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Gd())e.flags|=8192;else throw mi=Jo,Hs}else e.flags&=-16777217}function cd(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!xA(t))if(Gd())e.flags|=8192;else throw mi=Jo,Hs}function ua(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?wn():536870912,e.lanes|=t,nl|=t)}function Wl(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)l|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function yg(e,t,l){var s=t.pendingProps;switch(ws(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),dn(je),Je(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?hn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ds())),Ye(t),null;case 26:var f=t.type,A=t.memoizedState;return e===null?(hn(t),A!==null?(Ye(t),cd(t,A)):(Ye(t),Sr(t,f,null,s,l))):A?A!==e.memoizedState?(hn(t),Ye(t),cd(t,A)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&hn(t),Ye(t),Sr(t,f,e,s,l)),null;case 27:if(Ci(t),l=ue.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&hn(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return Ye(t),null}e=F.current,Yi(t)?kc(t):(e=gA(f,s,l),t.stateNode=e,hn(t))}return Ye(t),null;case 5:if(Ci(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&hn(t);else{if(!s){if(t.stateNode===null)throw Error(a(166));return Ye(t),null}if(A=F.current,Yi(t))kc(t);else{var v=_a(ue.current);switch(A){case 1:A=v.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:A=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":A=v.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":A=v.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":A=v.createElement("div"),A.innerHTML="<script><\/script>",A=A.removeChild(A.firstChild);break;case"select":A=typeof s.is=="string"?v.createElement("select",{is:s.is}):v.createElement("select"),s.multiple?A.multiple=!0:s.size&&(A.size=s.size);break;default:A=typeof s.is=="string"?v.createElement(f,{is:s.is}):v.createElement(f)}}A[rt]=t,A[vt]=s;e:for(v=t.child;v!==null;){if(v.tag===5||v.tag===6)A.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}t.stateNode=A;e:switch(dt(A,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&hn(t)}}return Ye(t),Sr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&hn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(a(166));if(e=ue.current,Yi(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,f=ut,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[rt]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||aA(e.nodeValue,l)),e||Ln(t,!0)}else e=_a(e).createTextNode(s),e[rt]=t,t.stateNode=e}return Ye(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=Yi(t),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[rt]=t}else ci(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else l=Ds(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(bt(t),t):(bt(t),null);if((t.flags&128)!==0)throw Error(a(558))}return Ye(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Yi(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(a(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[rt]=t}else ci(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),f=!1}else f=Ds(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(bt(t),t):(bt(t),null)}return bt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),A=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(A=s.memoizedState.cachePool.pool),A!==f&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),ua(t,t.updateQueue),Ye(t),null);case 4:return Je(),e===null&&Yr(t.stateNode.containerInfo),Ye(t),null;case 10:return dn(t.type),Ye(t),null;case 19:if(N(We),s=t.memoizedState,s===null)return Ye(t),null;if(f=(t.flags&128)!==0,A=s.rendering,A===null)if(f)Wl(s,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(A=Zo(e),A!==null){for(t.flags|=128,Wl(s,!1),e=A.updateQueue,t.updateQueue=e,ua(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)qc(l,e),l=l.sibling;return P(We,We.current&1|2),Ce&&cn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&mt()>pa&&(t.flags|=128,f=!0,Wl(s,!1),t.lanes=4194304)}else{if(!f)if(e=Zo(A),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,ua(t,e),Wl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!A.alternate&&!Ce)return Ye(t),null}else 2*mt()-s.renderingStartTime>pa&&l!==536870912&&(t.flags|=128,f=!0,Wl(s,!1),t.lanes=4194304);s.isBackwards?(A.sibling=t.child,t.child=A):(e=s.last,e!==null?e.sibling=A:t.child=A,s.last=A)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=mt(),e.sibling=null,l=We.current,P(We,f?l&1|2:l&1),Ce&&cn(t,s.treeForkCount),e):(Ye(t),null);case 22:case 23:return bt(t),Fs(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),l=t.updateQueue,l!==null&&ua(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&N(Ai),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),dn(je),Ye(t),null;case 25:return null;case 30:return null}throw Error(a(156,t.tag))}function vg(e,t){switch(ws(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(je),Je(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Ci(t),null;case 31:if(t.memoizedState!==null){if(bt(t),t.alternate===null)throw Error(a(340));ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));ci()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return N(We),null;case 4:return Je(),null;case 10:return dn(t.type),null;case 22:case 23:return bt(t),Fs(),e!==null&&N(Ai),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dn(je),null;case 25:return null;default:return null}}function fd(e,t){switch(ws(t),t.tag){case 3:dn(je),Je();break;case 26:case 27:case 5:Ci(t);break;case 4:Je();break;case 31:t.memoizedState!==null&&bt(t);break;case 13:bt(t);break;case 19:N(We);break;case 10:dn(t.type);break;case 22:case 23:bt(t),Fs(),e!==null&&N(Ai);break;case 24:dn(je)}}function $l(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var f=s.next;l=f;do{if((l.tag&e)===e){s=void 0;var A=l.create,v=l.inst;s=A(),v.destroy=s}l=l.next}while(l!==f)}}catch(C){ze(t,t.return,C)}}function Bn(e,t,l){try{var s=t.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var A=f.next;s=A;do{if((s.tag&e)===e){var v=s.inst,C=v.destroy;if(C!==void 0){v.destroy=void 0,f=t;var _=l,D=C;try{D()}catch(q){ze(f,_,q)}}}s=s.next}while(s!==A)}}catch(q){ze(t,t.return,q)}}function dd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{tf(t,l)}catch(s){ze(e,e.return,s)}}}function Ad(e,t,l){l.props=yi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){ze(e,t,s)}}function jl(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(f){ze(e,t,f)}}function ln(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(f){ze(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){ze(e,t,f)}else l.current=null}function pd(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(f){ze(e,e.return,f)}}function Er(e,t,l){try{var s=e.stateNode;Bg(s,e.type,l,t),s[vt]=t}catch(f){ze(e,e.return,f)}}function md(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qn(e.type)||e.tag===4}function Cr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _r(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=sn));else if(s!==4&&(s===27&&Qn(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(_r(e,t,l),e=e.sibling;e!==null;)_r(e,t,l),e=e.sibling}function ca(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&Qn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(ca(e,t,l),e=e.sibling;e!==null;)ca(e,t,l),e=e.sibling}function hd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);dt(t,s,l),t[rt]=e,t[vt]=l}catch(A){ze(e,e.return,A)}}var gn=!1,nt=!1,xr=!1,gd=typeof WeakSet=="function"?WeakSet:Set,at=null;function Tg(e,t){if(e=e.containerInfo,Jr=Da,e=Nc(e),ys(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var f=s.anchorOffset,A=s.focusNode;s=s.focusOffset;try{l.nodeType,A.nodeType}catch{l=null;break e}var v=0,C=-1,_=-1,D=0,q=0,V=e,b=null;t:for(;;){for(var G;V!==l||f!==0&&V.nodeType!==3||(C=v+f),V!==A||s!==0&&V.nodeType!==3||(_=v+s),V.nodeType===3&&(v+=V.nodeValue.length),(G=V.firstChild)!==null;)b=V,V=G;for(;;){if(V===e)break t;if(b===l&&++D===f&&(C=v),b===A&&++q===s&&(_=v),(G=V.nextSibling)!==null)break;V=b,b=V.parentNode}V=G}l=C===-1||_===-1?null:{start:C,end:_}}else l=null}l=l||{start:0,end:0}}else l=null;for(Kr={focusedElem:e,selectionRange:l},Da=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,A=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)f=e[l],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&A!==null){e=void 0,l=t,f=A.memoizedProps,A=A.memoizedState,s=l.stateNode;try{var ie=yi(l.type,f);e=s.getSnapshotBeforeUpdate(ie,A),s.__reactInternalSnapshotBeforeUpdate=e}catch(ce){ze(l,l.return,ce)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Zr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function yd(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:vn(e,l),s&4&&$l(5,l);break;case 1:if(vn(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(v){ze(l,l.return,v)}else{var f=yi(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(v){ze(l,l.return,v)}}s&64&&dd(l),s&512&&jl(l,l.return);break;case 3:if(vn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{tf(e,t)}catch(v){ze(l,l.return,v)}}break;case 27:t===null&&s&4&&hd(l);case 26:case 5:vn(e,l),t===null&&s&4&&pd(l),s&512&&jl(l,l.return);break;case 12:vn(e,l);break;case 31:vn(e,l),s&4&&Sd(e,l);break;case 13:vn(e,l),s&4&&Ed(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=wg.bind(null,l),Xg(e,l))));break;case 22:if(s=l.memoizedState!==null||gn,!s){t=t!==null&&t.memoizedState!==null||nt,f=gn;var A=nt;gn=s,(nt=t)&&!A?Tn(e,l,(l.subtreeFlags&8772)!==0):vn(e,l),gn=f,nt=A}break;case 30:break;default:vn(e,l)}}function vd(e){var t=e.alternate;t!==null&&(e.alternate=null,vd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&ts(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ke=null,St=!1;function yn(e,t,l){for(l=l.child;l!==null;)Td(e,t,l),l=l.sibling}function Td(e,t,l){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(fe,l)}catch{}switch(l.tag){case 26:nt||ln(l,t),yn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:nt||ln(l,t);var s=Ke,f=St;Qn(l.type)&&(Ke=l.stateNode,St=!1),yn(e,t,l),ro(l.stateNode),Ke=s,St=f;break;case 5:nt||ln(l,t);case 6:if(s=Ke,f=St,Ke=null,yn(e,t,l),Ke=s,St=f,Ke!==null)if(St)try{(Ke.nodeType===9?Ke.body:Ke.nodeName==="HTML"?Ke.ownerDocument.body:Ke).removeChild(l.stateNode)}catch(A){ze(l,t,A)}else try{Ke.removeChild(l.stateNode)}catch(A){ze(l,t,A)}break;case 18:Ke!==null&&(St?(e=Ke,dA(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),cl(e)):dA(Ke,l.stateNode));break;case 4:s=Ke,f=St,Ke=l.stateNode.containerInfo,St=!0,yn(e,t,l),Ke=s,St=f;break;case 0:case 11:case 14:case 15:Bn(2,l,t),nt||Bn(4,l,t),yn(e,t,l);break;case 1:nt||(ln(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&Ad(l,t,s)),yn(e,t,l);break;case 21:yn(e,t,l);break;case 22:nt=(s=nt)||l.memoizedState!==null,yn(e,t,l),nt=s;break;default:yn(e,t,l)}}function Sd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{cl(e)}catch(l){ze(t,t.return,l)}}}function Ed(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cl(e)}catch(l){ze(t,t.return,l)}}function Sg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new gd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new gd),t;default:throw Error(a(435,e.tag))}}function fa(e,t){var l=Sg(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var f=Ig.bind(null,e,s);s.then(f,f)}})}function Et(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var f=l[s],A=e,v=t,C=v;e:for(;C!==null;){switch(C.tag){case 27:if(Qn(C.type)){Ke=C.stateNode,St=!1;break e}break;case 5:Ke=C.stateNode,St=!1;break e;case 3:case 4:Ke=C.stateNode.containerInfo,St=!0;break e}C=C.return}if(Ke===null)throw Error(a(160));Td(A,v,f),Ke=null,St=!1,A=f.alternate,A!==null&&(A.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Cd(t,e),t=t.sibling}var Zt=null;function Cd(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Et(t,e),Ct(e),s&4&&(Bn(3,e,e.return),$l(3,e),Bn(5,e,e.return));break;case 1:Et(t,e),Ct(e),s&512&&(nt||l===null||ln(l,l.return)),s&64&&gn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var f=Zt;if(Et(t,e),Ct(e),s&512&&(nt||l===null||ln(l,l.return)),s&4){var A=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":A=f.getElementsByTagName("title")[0],(!A||A[Ml]||A[rt]||A.namespaceURI==="http://www.w3.org/2000/svg"||A.hasAttribute("itemprop"))&&(A=f.createElement(s),f.head.insertBefore(A,f.querySelector("head > title"))),dt(A,s,l),A[rt]=e,ot(A),s=A;break e;case"link":var v=CA("link","href",f).get(s+(l.href||""));if(v){for(var C=0;C<v.length;C++)if(A=v[C],A.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&A.getAttribute("rel")===(l.rel==null?null:l.rel)&&A.getAttribute("title")===(l.title==null?null:l.title)&&A.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(C,1);break t}}A=f.createElement(s),dt(A,s,l),f.head.appendChild(A);break;case"meta":if(v=CA("meta","content",f).get(s+(l.content||""))){for(C=0;C<v.length;C++)if(A=v[C],A.getAttribute("content")===(l.content==null?null:""+l.content)&&A.getAttribute("name")===(l.name==null?null:l.name)&&A.getAttribute("property")===(l.property==null?null:l.property)&&A.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&A.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(C,1);break t}}A=f.createElement(s),dt(A,s,l),f.head.appendChild(A);break;default:throw Error(a(468,s))}A[rt]=e,ot(A),s=A}e.stateNode=s}else _A(f,e.type,e.stateNode);else e.stateNode=EA(f,s,e.memoizedProps);else A!==s?(A===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):A.count--,s===null?_A(f,e.type,e.stateNode):EA(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Er(e,e.memoizedProps,l.memoizedProps)}break;case 27:Et(t,e),Ct(e),s&512&&(nt||l===null||ln(l,l.return)),l!==null&&s&4&&Er(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Et(t,e),Ct(e),s&512&&(nt||l===null||ln(l,l.return)),e.flags&32){f=e.stateNode;try{Ui(f,"")}catch(ie){ze(e,e.return,ie)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,Er(e,f,l!==null?l.memoizedProps:f)),s&1024&&(xr=!0);break;case 6:if(Et(t,e),Ct(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(ie){ze(e,e.return,ie)}}break;case 3:if(Ra=null,f=Zt,Zt=xa(t.containerInfo),Et(t,e),Zt=f,Ct(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{cl(t.containerInfo)}catch(ie){ze(e,e.return,ie)}xr&&(xr=!1,_d(e));break;case 4:s=Zt,Zt=xa(e.stateNode.containerInfo),Et(t,e),Ct(e),Zt=s;break;case 12:Et(t,e),Ct(e);break;case 31:Et(t,e),Ct(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,fa(e,s)));break;case 13:Et(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Aa=mt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,fa(e,s)));break;case 22:f=e.memoizedState!==null;var _=l!==null&&l.memoizedState!==null,D=gn,q=nt;if(gn=D||f,nt=q||_,Et(t,e),nt=q,gn=D,Ct(e),s&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(l===null||_||gn||nt||vi(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){_=l=t;try{if(A=_.stateNode,f)v=A.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{C=_.stateNode;var V=_.memoizedProps.style,b=V!=null&&V.hasOwnProperty("display")?V.display:null;C.style.display=b==null||typeof b=="boolean"?"":(""+b).trim()}}catch(ie){ze(_,_.return,ie)}}}else if(t.tag===6){if(l===null){_=t;try{_.stateNode.nodeValue=f?"":_.memoizedProps}catch(ie){ze(_,_.return,ie)}}}else if(t.tag===18){if(l===null){_=t;try{var G=_.stateNode;f?AA(G,!0):AA(_.stateNode,!1)}catch(ie){ze(_,_.return,ie)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,fa(e,l))));break;case 19:Et(t,e),Ct(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,fa(e,s)));break;case 30:break;case 21:break;default:Et(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(md(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var f=l.stateNode,A=Cr(e);ca(e,A,f);break;case 5:var v=l.stateNode;l.flags&32&&(Ui(v,""),l.flags&=-33);var C=Cr(e);ca(e,C,v);break;case 3:case 4:var _=l.stateNode.containerInfo,D=Cr(e);_r(e,D,_);break;default:throw Error(a(161))}}catch(q){ze(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _d(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;_d(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function vn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)yd(e,t.alternate,t),t=t.sibling}function vi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bn(4,t,t.return),vi(t);break;case 1:ln(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Ad(t,t.return,l),vi(t);break;case 27:ro(t.stateNode);case 26:case 5:ln(t,t.return),vi(t);break;case 22:t.memoizedState===null&&vi(t);break;case 30:vi(t);break;default:vi(t)}e=e.sibling}}function Tn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,f=e,A=t,v=A.flags;switch(A.tag){case 0:case 11:case 15:Tn(f,A,l),$l(4,A);break;case 1:if(Tn(f,A,l),s=A,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(D){ze(s,s.return,D)}if(s=A,f=s.updateQueue,f!==null){var C=s.stateNode;try{var _=f.shared.hiddenCallbacks;if(_!==null)for(f.shared.hiddenCallbacks=null,f=0;f<_.length;f++)ef(_[f],C)}catch(D){ze(s,s.return,D)}}l&&v&64&&dd(A),jl(A,A.return);break;case 27:hd(A);case 26:case 5:Tn(f,A,l),l&&s===null&&v&4&&pd(A),jl(A,A.return);break;case 12:Tn(f,A,l);break;case 31:Tn(f,A,l),l&&v&4&&Sd(f,A);break;case 13:Tn(f,A,l),l&&v&4&&Ed(f,A);break;case 22:A.memoizedState===null&&Tn(f,A,l),jl(A,A.return);break;case 30:break;default:Tn(f,A,l)}t=t.sibling}}function Mr(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Vl(l))}function Rr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vl(e))}function Wt(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)xd(e,t,l,s),t=t.sibling}function xd(e,t,l,s){var f=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,l,s),f&2048&&$l(9,t);break;case 1:Wt(e,t,l,s);break;case 3:Wt(e,t,l,s),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vl(e)));break;case 12:if(f&2048){Wt(e,t,l,s),e=t.stateNode;try{var A=t.memoizedProps,v=A.id,C=A.onPostCommit;typeof C=="function"&&C(v,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){ze(t,t.return,_)}}else Wt(e,t,l,s);break;case 31:Wt(e,t,l,s);break;case 13:Wt(e,t,l,s);break;case 23:break;case 22:A=t.stateNode,v=t.alternate,t.memoizedState!==null?A._visibility&2?Wt(e,t,l,s):eo(e,t):A._visibility&2?Wt(e,t,l,s):(A._visibility|=2,ji(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),f&2048&&Mr(v,t);break;case 24:Wt(e,t,l,s),f&2048&&Rr(t.alternate,t);break;default:Wt(e,t,l,s)}}function ji(e,t,l,s,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var A=e,v=t,C=l,_=s,D=v.flags;switch(v.tag){case 0:case 11:case 15:ji(A,v,C,_,f),$l(8,v);break;case 23:break;case 22:var q=v.stateNode;v.memoizedState!==null?q._visibility&2?ji(A,v,C,_,f):eo(A,v):(q._visibility|=2,ji(A,v,C,_,f)),f&&D&2048&&Mr(v.alternate,v);break;case 24:ji(A,v,C,_,f),f&&D&2048&&Rr(v.alternate,v);break;default:ji(A,v,C,_,f)}t=t.sibling}}function eo(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,f=s.flags;switch(s.tag){case 22:eo(l,s),f&2048&&Mr(s.alternate,s);break;case 24:eo(l,s),f&2048&&Rr(s.alternate,s);break;default:eo(l,s)}t=t.sibling}}var to=8192;function el(e,t,l){if(e.subtreeFlags&to)for(e=e.child;e!==null;)Md(e,t,l),e=e.sibling}function Md(e,t,l){switch(e.tag){case 26:el(e,t,l),e.flags&to&&e.memoizedState!==null&&sy(l,Zt,e.memoizedState,e.memoizedProps);break;case 5:el(e,t,l);break;case 3:case 4:var s=Zt;Zt=xa(e.stateNode.containerInfo),el(e,t,l),Zt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=to,to=16777216,el(e,t,l),to=s):el(e,t,l));break;default:el(e,t,l)}}function Rd(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function no(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];at=s,wd(s,e)}Rd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nd(e),e=e.sibling}function Nd(e){switch(e.tag){case 0:case 11:case 15:no(e),e.flags&2048&&Bn(9,e,e.return);break;case 3:no(e);break;case 12:no(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,da(e)):no(e);break;default:no(e)}}function da(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];at=s,wd(s,e)}Rd(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bn(8,t,t.return),da(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,da(t));break;default:da(t)}e=e.sibling}}function wd(e,t){for(;at!==null;){var l=at;switch(l.tag){case 0:case 11:case 15:Bn(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Vl(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,at=s;else e:for(l=e;at!==null;){s=at;var f=s.sibling,A=s.return;if(vd(s),s===l){at=null;break e}if(f!==null){f.return=A,at=f;break e}at=A}}}var Eg={getCacheForType:function(e){var t=ct(je),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return ct(je).controller.signal}},Cg=typeof WeakMap=="function"?WeakMap:Map,be=0,Be=null,ge=null,ve=0,Le=0,Ut=null,kn=!1,tl=!1,Nr=!1,Sn=0,Xe=0,Yn=0,Ti=0,wr=0,Lt=0,nl=0,io=null,_t=null,Ir=!1,Aa=0,Id=0,pa=1/0,ma=null,Fn=null,it=0,On=null,il=null,En=0,Dr=0,br=null,Dd=null,lo=0,Ur=null;function zt(){return(be&2)!==0&&ve!==0?ve&-ve:L.T!==null?Vr():Ju()}function bd(){if(Lt===0)if((ve&536870912)===0||Ce){var e=Me;Me<<=1,(Me&3932160)===0&&(Me=262144),Lt=e}else Lt=536870912;return e=Dt.current,e!==null&&(e.flags|=32),Lt}function xt(e,t,l){(e===Be&&(Le===2||Le===9)||e.cancelPendingCommit!==null)&&(ll(e,0),Jn(e,ve,Lt,!1)),ii(e,l),((be&2)===0||e!==Be)&&(e===Be&&((be&2)===0&&(Ti|=l),Xe===4&&Jn(e,ve,Lt,!1)),on(e))}function Ud(e,t,l){if((be&6)!==0)throw Error(a(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Ge(e,t),f=s?Mg(e,t):zr(e,t,!0),A=s;do{if(f===0){tl&&!s&&Jn(e,t,0,!1);break}else{if(l=e.current.alternate,A&&!_g(l)){f=zr(e,t,!1),A=!1;continue}if(f===2){if(A=t,e.errorRecoveryDisabledLanes&A)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){t=v;e:{var C=e;f=io;var _=C.current.memoizedState.isDehydrated;if(_&&(ll(C,v).flags|=256),v=zr(C,v,!1),v!==2){if(Nr&&!_){C.errorRecoveryDisabledLanes|=A,Ti|=A,f=4;break e}A=_t,_t=f,A!==null&&(_t===null?_t=A:_t.push.apply(_t,A))}f=v}if(A=!1,f!==2)continue}}if(f===1){ll(e,0),Jn(e,t,0,!0);break}e:{switch(s=e,A=f,A){case 0:case 1:throw Error(a(345));case 4:if((t&4194048)!==t)break;case 6:Jn(s,t,Lt,!kn);break e;case 2:_t=null;break;case 3:case 5:break;default:throw Error(a(329))}if((t&62914560)===t&&(f=Aa+300-mt(),10<f)){if(Jn(s,t,Lt,!kn),Pe(s,0,!0)!==0)break e;En=t,s.timeoutHandle=cA(Ld.bind(null,s,l,_t,ma,Ir,t,Lt,Ti,nl,kn,A,"Throttled",-0,0),f);break e}Ld(s,l,_t,ma,Ir,t,Lt,Ti,nl,kn,A,null,-0,0)}}break}while(!0);on(e)}function Ld(e,t,l,s,f,A,v,C,_,D,q,V,b,G){if(e.timeoutHandle=-1,V=t.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},Md(t,A,V);var ie=(A&62914560)===A?Aa-mt():(A&4194048)===A?Id-mt():0;if(ie=ry(V,ie),ie!==null){En=A,e.cancelPendingCommit=ie(kd.bind(null,e,t,A,l,s,f,v,C,_,q,V,null,b,G)),Jn(e,A,v,!D);return}}kd(e,t,A,l,s,f,v,C,_)}function _g(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var f=l[s],A=f.getSnapshot;f=f.value;try{if(!wt(A(),f))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t,l,s){t&=~wr,t&=~Ti,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var f=t;0<f;){var A=31-Ze(f),v=1<<A;s[A]=-1,f&=~v}l!==0&&xo(e,l,t)}function ha(){return(be&6)===0?(oo(0),!1):!0}function Lr(){if(ge!==null){if(Le===0)var e=ge.return;else e=ge,fn=fi=null,Zs(e),Qi=null,Bl=0,e=ge;for(;e!==null;)fd(e.alternate,e),e=e.return;ge=null}}function ll(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Fg(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),En=0,Lr(),Be=e,ge=l=un(e.current,null),ve=t,Le=0,Ut=null,kn=!1,tl=Ge(e,t),Nr=!1,nl=Lt=wr=Ti=Yn=Xe=0,_t=io=null,Ir=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var f=31-Ze(s),A=1<<f;t|=e[f],s&=~A}return Sn=t,qo(),l}function zd(e,t){Ae=null,L.H=Xl,t===Ki||t===Oo?(t=Zc(),Le=3):t===Hs?(t=Zc(),Le=4):Le=t===dr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Ut=t,ge===null&&(Xe=1,oa(e,Vt(t,e.current)))}function Gd(){var e=Dt.current;return e===null?!0:(ve&4194048)===ve?Yt===null:(ve&62914560)===ve||(ve&536870912)!==0?e===Yt:!1}function qd(){var e=L.H;return L.H=Xl,e===null?Xl:e}function Hd(){var e=L.A;return L.A=Eg,e}function ga(){Xe=4,kn||(ve&4194048)!==ve&&Dt.current!==null||(tl=!0),(Yn&134217727)===0&&(Ti&134217727)===0||Be===null||Jn(Be,ve,Lt,!1)}function zr(e,t,l){var s=be;be|=2;var f=qd(),A=Hd();(Be!==e||ve!==t)&&(ma=null,ll(e,t)),t=!1;var v=Xe;e:do try{if(Le!==0&&ge!==null){var C=ge,_=Ut;switch(Le){case 8:Lr(),v=6;break e;case 3:case 2:case 9:case 6:Dt.current===null&&(t=!0);var D=Le;if(Le=0,Ut=null,ol(e,C,_,D),l&&tl){v=0;break e}break;default:D=Le,Le=0,Ut=null,ol(e,C,_,D)}}xg(),v=Xe;break}catch(q){zd(e,q)}while(!0);return t&&e.shellSuspendCounter++,fn=fi=null,be=s,L.H=f,L.A=A,ge===null&&(Be=null,ve=0,qo()),v}function xg(){for(;ge!==null;)Vd(ge)}function Mg(e,t){var l=be;be|=2;var s=qd(),f=Hd();Be!==e||ve!==t?(ma=null,pa=mt()+500,ll(e,t)):tl=Ge(e,t);e:do try{if(Le!==0&&ge!==null){t=ge;var A=Ut;t:switch(Le){case 1:Le=0,Ut=null,ol(e,t,A,1);break;case 2:case 9:if(Qc(A)){Le=0,Ut=null,Pd(t);break}t=function(){Le!==2&&Le!==9||Be!==e||(Le=7),on(e)},A.then(t,t);break e;case 3:Le=7;break e;case 4:Le=5;break e;case 7:Qc(A)?(Le=0,Ut=null,Pd(t)):(Le=0,Ut=null,ol(e,t,A,7));break;case 5:var v=null;switch(ge.tag){case 26:v=ge.memoizedState;case 5:case 27:var C=ge;if(v?xA(v):C.stateNode.complete){Le=0,Ut=null;var _=C.sibling;if(_!==null)ge=_;else{var D=C.return;D!==null?(ge=D,ya(D)):ge=null}break t}}Le=0,Ut=null,ol(e,t,A,5);break;case 6:Le=0,Ut=null,ol(e,t,A,6);break;case 8:Lr(),Xe=6;break e;default:throw Error(a(462))}}Rg();break}catch(q){zd(e,q)}while(!0);return fn=fi=null,L.H=s,L.A=f,be=l,ge!==null?0:(Be=null,ve=0,qo(),Xe)}function Rg(){for(;ge!==null&&!So();)Vd(ge)}function Vd(e){var t=ud(e.alternate,e,Sn);e.memoizedProps=e.pendingProps,t===null?ya(e):ge=t}function Pd(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=id(l,t,t.pendingProps,t.type,void 0,ve);break;case 11:t=id(l,t,t.pendingProps,t.type.render,t.ref,ve);break;case 5:Zs(t);default:fd(l,t),t=ge=qc(t,Sn),t=ud(l,t,Sn)}e.memoizedProps=e.pendingProps,t===null?ya(e):ge=t}function ol(e,t,l,s){fn=fi=null,Zs(t),Qi=null,Bl=0;var f=t.return;try{if(mg(e,f,t,l,ve)){Xe=1,oa(e,Vt(l,e.current)),ge=null;return}}catch(A){if(f!==null)throw ge=f,A;Xe=1,oa(e,Vt(l,e.current)),ge=null;return}t.flags&32768?(Ce||s===1?e=!0:tl||(ve&536870912)!==0?e=!1:(kn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Dt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Bd(t,e)):ya(t)}function ya(e){var t=e;do{if((t.flags&32768)!==0){Bd(t,kn);return}e=t.return;var l=yg(t.alternate,t,Sn);if(l!==null){ge=l;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);Xe===0&&(Xe=5)}function Bd(e,t){do{var l=vg(e.alternate,e);if(l!==null){l.flags&=32767,ge=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){ge=e;return}ge=e=l}while(e!==null);Xe=6,ge=null}function kd(e,t,l,s,f,A,v,C,_){e.cancelPendingCommit=null;do va();while(it!==0);if((be&6)!==0)throw Error(a(327));if(t!==null){if(t===e.current)throw Error(a(177));if(A=t.lanes|t.childLanes,A|=Cs,Wa(e,l,A,v,C,_),e===Be&&(ge=Be=null,ve=0),il=t,On=e,En=l,Dr=A,br=f,Dd=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Dg(xi,function(){return Kd(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=L.T,L.T=null,f=Z.p,Z.p=2,v=be,be|=4;try{Tg(e,t,l)}finally{be=v,Z.p=f,L.T=s}}it=1,Yd(),Fd(),Od()}}function Yd(){if(it===1){it=0;var e=On,t=il,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=L.T,L.T=null;var s=Z.p;Z.p=2;var f=be;be|=4;try{Cd(t,e);var A=Kr,v=Nc(e.containerInfo),C=A.focusedElem,_=A.selectionRange;if(v!==C&&C&&C.ownerDocument&&Rc(C.ownerDocument.documentElement,C)){if(_!==null&&ys(C)){var D=_.start,q=_.end;if(q===void 0&&(q=D),"selectionStart"in C)C.selectionStart=D,C.selectionEnd=Math.min(q,C.value.length);else{var V=C.ownerDocument||document,b=V&&V.defaultView||window;if(b.getSelection){var G=b.getSelection(),ie=C.textContent.length,ce=Math.min(_.start,ie),Ve=_.end===void 0?ce:Math.min(_.end,ie);!G.extend&&ce>Ve&&(v=Ve,Ve=ce,ce=v);var w=Mc(C,ce),M=Mc(C,Ve);if(w&&M&&(G.rangeCount!==1||G.anchorNode!==w.node||G.anchorOffset!==w.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var I=V.createRange();I.setStart(w.node,w.offset),G.removeAllRanges(),ce>Ve?(G.addRange(I),G.extend(M.node,M.offset)):(I.setEnd(M.node,M.offset),G.addRange(I))}}}}for(V=[],G=C;G=G.parentNode;)G.nodeType===1&&V.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<V.length;C++){var H=V[C];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Da=!!Jr,Kr=Jr=null}finally{be=f,Z.p=s,L.T=l}}e.current=t,it=2}}function Fd(){if(it===2){it=0;var e=On,t=il,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=L.T,L.T=null;var s=Z.p;Z.p=2;var f=be;be|=4;try{yd(e,t.alternate,t)}finally{be=f,Z.p=s,L.T=l}}it=3}}function Od(){if(it===4||it===3){it=0,Ka();var e=On,t=il,l=En,s=Dd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,il=On=null,Jd(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Fn=null),ja(l),t=t.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(fe,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=L.T,f=Z.p,Z.p=2,L.T=null;try{for(var A=e.onRecoverableError,v=0;v<s.length;v++){var C=s[v];A(C.value,{componentStack:C.stack})}}finally{L.T=t,Z.p=f}}(En&3)!==0&&va(),on(e),f=e.pendingLanes,(l&261930)!==0&&(f&42)!==0?e===Ur?lo++:(lo=0,Ur=e):lo=0,oo(0)}}function Jd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vl(t)))}function va(){return Yd(),Fd(),Od(),Kd()}function Kd(){if(it!==5)return!1;var e=On,t=Dr;Dr=0;var l=ja(En),s=L.T,f=Z.p;try{Z.p=32>l?32:l,L.T=null,l=br,br=null;var A=On,v=En;if(it=0,il=On=null,En=0,(be&6)!==0)throw Error(a(331));var C=be;if(be|=4,Nd(A.current),xd(A,A.current,v,l),be=C,oo(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(fe,A)}catch{}return!0}finally{Z.p=f,L.T=s,Jd(e,t)}}function Qd(e,t,l){t=Vt(l,t),t=fr(e.stateNode,t,2),e=Hn(e,t,2),e!==null&&(ii(e,2),on(e))}function ze(e,t,l){if(e.tag===3)Qd(e,e,l);else for(;t!==null;){if(t.tag===3){Qd(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Fn===null||!Fn.has(s))){e=Vt(l,e),l=Xf(2),s=Hn(t,l,2),s!==null&&(Zf(l,s,t,e),ii(s,2),on(s));break}}t=t.return}}function Gr(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new Cg;var f=new Set;s.set(t,f)}else f=s.get(t),f===void 0&&(f=new Set,s.set(t,f));f.has(l)||(Nr=!0,f.add(l),e=Ng.bind(null,e,t,l),t.then(e,e))}function Ng(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Be===e&&(ve&l)===l&&(Xe===4||Xe===3&&(ve&62914560)===ve&&300>mt()-Aa?(be&2)===0&&ll(e,0):wr|=l,nl===ve&&(nl=0)),on(e)}function Xd(e,t){t===0&&(t=wn()),e=ri(e,t),e!==null&&(ii(e,t),on(e))}function wg(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Xd(e,l)}function Ig(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(l=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(t),Xd(e,l)}function Dg(e,t){return Cl(e,t)}var Ta=null,al=null,qr=!1,Sa=!1,Hr=!1,Kn=0;function on(e){e!==al&&e.next===null&&(al===null?Ta=al=e:al=al.next=e),Sa=!0,qr||(qr=!0,Ug())}function oo(e,t){if(!Hr&&Sa){Hr=!0;do for(var l=!1,s=Ta;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var A=0;else{var v=s.suspendedLanes,C=s.pingedLanes;A=(1<<31-Ze(42|e)+1)-1,A&=f&~(v&~C),A=A&201326741?A&201326741|1:A?A|2:0}A!==0&&(l=!0,jd(s,A))}else A=ve,A=Pe(s,s===Be?A:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(A&3)===0||Ge(s,A)||(l=!0,jd(s,A));s=s.next}while(l);Hr=!1}}function bg(){Zd()}function Zd(){Sa=qr=!1;var e=0;Kn!==0&&Yg()&&(e=Kn);for(var t=mt(),l=null,s=Ta;s!==null;){var f=s.next,A=Wd(s,t);A===0?(s.next=null,l===null?Ta=f:l.next=f,f===null&&(al=l)):(l=s,(e!==0||(A&3)!==0)&&(Sa=!0)),s=f}it!==0&&it!==5||oo(e),Kn!==0&&(Kn=0)}function Wd(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,A=e.pendingLanes&-62914561;0<A;){var v=31-Ze(A),C=1<<v,_=f[v];_===-1?((C&l)===0||(C&s)!==0)&&(f[v]=Nn(C,t)):_<=t&&(e.expiredLanes|=C),A&=~C}if(t=Be,l=ve,l=Pe(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(Le===2||Le===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&_l(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Ge(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&_l(s),ja(l)){case 2:case 8:l=Co;break;case 32:l=xi;break;case 268435456:l=_o;break;default:l=xi}return s=$d.bind(null,e),l=Cl(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&_l(s),e.callbackPriority=2,e.callbackNode=null,2}function $d(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(va()&&e.callbackNode!==l)return null;var s=ve;return s=Pe(e,e===Be?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Ud(e,s,t),Wd(e,mt()),e.callbackNode!=null&&e.callbackNode===l?$d.bind(null,e):null)}function jd(e,t){if(va())return null;Ud(e,t,!0)}function Ug(){Og(function(){(be&6)!==0?Cl(Eo,bg):Zd()})}function Vr(){if(Kn===0){var e=Oi;e===0&&(e=ht,ht<<=1,(ht&261888)===0&&(ht=256)),Kn=e}return Kn}function eA(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wo(""+e)}function tA(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Lg(e,t,l,s,f){if(t==="submit"&&l&&l.stateNode===f){var A=eA((f[vt]||null).action),v=s.submitter;v&&(t=(t=v[vt]||null)?eA(t.formAction):v.getAttribute("formAction"),t!==null&&(A=t,v=null));var C=new Uo("action","action",null,s,f);e.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Kn!==0){var _=v?tA(f,v):new FormData(f);or(l,{pending:!0,data:_,method:f.method,action:A},null,_)}}else typeof A=="function"&&(C.preventDefault(),_=v?tA(f,v):new FormData(f),or(l,{pending:!0,data:_,method:f.method,action:A},A,_))},currentTarget:f}]})}}for(var Pr=0;Pr<Es.length;Pr++){var Br=Es[Pr],zg=Br.toLowerCase(),Gg=Br[0].toUpperCase()+Br.slice(1);Xt(zg,"on"+Gg)}Xt(Dc,"onAnimationEnd"),Xt(bc,"onAnimationIteration"),Xt(Uc,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt($h,"onTransitionRun"),Xt(jh,"onTransitionStart"),Xt(eg,"onTransitionCancel"),Xt(Lc,"onTransitionEnd"),Di("onMouseEnter",["mouseout","mouseover"]),Di("onMouseLeave",["mouseout","mouseover"]),Di("onPointerEnter",["pointerout","pointerover"]),Di("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function nA(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],f=s.event;s=s.listeners;e:{var A=void 0;if(t)for(var v=s.length-1;0<=v;v--){var C=s[v],_=C.instance,D=C.currentTarget;if(C=C.listener,_!==A&&f.isPropagationStopped())break e;A=C,f.currentTarget=D;try{A(f)}catch(q){Go(q)}f.currentTarget=null,A=_}else for(v=0;v<s.length;v++){if(C=s[v],_=C.instance,D=C.currentTarget,C=C.listener,_!==A&&f.isPropagationStopped())break e;A=C,f.currentTarget=D;try{A(f)}catch(q){Go(q)}f.currentTarget=null,A=_}}}}function ye(e,t){var l=t[es];l===void 0&&(l=t[es]=new Set);var s=e+"__bubble";l.has(s)||(iA(t,e,2,!1),l.add(s))}function kr(e,t,l){var s=0;t&&(s|=4),iA(l,e,s,t)}var Ea="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[Ea]){e[Ea]=!0,Xu.forEach(function(l){l!=="selectionchange"&&(qg.has(l)||kr(l,!1,e),kr(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ea]||(t[Ea]=!0,kr("selectionchange",!1,t))}}function iA(e,t,l,s){switch(bA(t)){case 2:var f=fy;break;case 8:f=dy;break;default:f=lu}l=f.bind(null,t,l,e),f=void 0,!us||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(t,l,{capture:!0,passive:f}):e.addEventListener(t,l,!0):f!==void 0?e.addEventListener(t,l,{passive:f}):e.addEventListener(t,l,!1)}function Fr(e,t,l,s,f){var A=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var v=s.tag;if(v===3||v===4){var C=s.stateNode.containerInfo;if(C===f)break;if(v===4)for(v=s.return;v!==null;){var _=v.tag;if((_===3||_===4)&&v.stateNode.containerInfo===f)return;v=v.return}for(;C!==null;){if(v=Ni(C),v===null)return;if(_=v.tag,_===5||_===6||_===26||_===27){s=A=v;continue e}C=C.parentNode}}s=s.return}sc(function(){var D=A,q=ss(l),V=[];e:{var b=zc.get(e);if(b!==void 0){var G=Uo,ie=e;switch(e){case"keypress":if(Do(l)===0)break e;case"keydown":case"keyup":G=Ih;break;case"focusin":ie="focus",G=As;break;case"focusout":ie="blur",G=As;break;case"beforeblur":case"afterblur":G=As;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Uh;break;case Dc:case bc:case Uc:G=Sh;break;case Lc:G=zh;break;case"scroll":case"scrollend":G=hh;break;case"wheel":G=qh;break;case"copy":case"cut":case"paste":G=Ch;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=dc;break;case"toggle":case"beforetoggle":G=Vh}var ce=(t&4)!==0,Ve=!ce&&(e==="scroll"||e==="scrollend"),w=ce?b!==null?b+"Capture":null:b;ce=[];for(var M=D,I;M!==null;){var H=M;if(I=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||I===null||w===null||(H=Nl(M,w),H!=null&&ce.push(so(M,H,I))),Ve)break;M=M.return}0<ce.length&&(b=new G(b,ie,null,l,q),V.push({event:b,listeners:ce}))}}if((t&7)===0){e:{if(b=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",b&&l!==as&&(ie=l.relatedTarget||l.fromElement)&&(Ni(ie)||ie[Ri]))break e;if((G||b)&&(b=q.window===q?q:(b=q.ownerDocument)?b.defaultView||b.parentWindow:window,G?(ie=l.relatedTarget||l.toElement,G=D,ie=ie?Ni(ie):null,ie!==null&&(Ve=d(ie),ce=ie.tag,ie!==Ve||ce!==5&&ce!==27&&ce!==6)&&(ie=null)):(G=null,ie=D),G!==ie)){if(ce=cc,H="onMouseLeave",w="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(ce=dc,H="onPointerLeave",w="onPointerEnter",M="pointer"),Ve=G==null?b:Rl(G),I=ie==null?b:Rl(ie),b=new ce(H,M+"leave",G,l,q),b.target=Ve,b.relatedTarget=I,H=null,Ni(q)===D&&(ce=new ce(w,M+"enter",ie,l,q),ce.target=I,ce.relatedTarget=Ve,H=ce),Ve=H,G&&ie)t:{for(ce=Hg,w=G,M=ie,I=0,H=w;H;H=ce(H))I++;H=0;for(var ae=M;ae;ae=ce(ae))H++;for(;0<I-H;)w=ce(w),I--;for(;0<H-I;)M=ce(M),H--;for(;I--;){if(w===M||M!==null&&w===M.alternate){ce=w;break t}w=ce(w),M=ce(M)}ce=null}else ce=null;G!==null&&lA(V,b,G,ce,!1),ie!==null&&Ve!==null&&lA(V,Ve,ie,ce,!0)}}e:{if(b=D?Rl(D):window,G=b.nodeName&&b.nodeName.toLowerCase(),G==="select"||G==="input"&&b.type==="file")var we=Tc;else if(yc(b))if(Sc)we=Xh;else{we=Kh;var oe=Jh}else G=b.nodeName,!G||G.toLowerCase()!=="input"||b.type!=="checkbox"&&b.type!=="radio"?D&&os(D.elementType)&&(we=Tc):we=Qh;if(we&&(we=we(e,D))){vc(V,we,l,q);break e}oe&&oe(e,b,D),e==="focusout"&&D&&b.type==="number"&&D.memoizedProps.value!=null&&ls(b,"number",b.value)}switch(oe=D?Rl(D):window,e){case"focusin":(yc(oe)||oe.contentEditable==="true")&&(qi=oe,vs=D,Gl=null);break;case"focusout":Gl=vs=qi=null;break;case"mousedown":Ts=!0;break;case"contextmenu":case"mouseup":case"dragend":Ts=!1,wc(V,l,q);break;case"selectionchange":if(Wh)break;case"keydown":case"keyup":wc(V,l,q)}var pe;if(ms)e:{switch(e){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Gi?hc(e,l)&&(Te="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&(Ac&&l.locale!=="ko"&&(Gi||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Gi&&(pe=rc()):(Dn=q,cs="value"in Dn?Dn.value:Dn.textContent,Gi=!0)),oe=Ca(D,Te),0<oe.length&&(Te=new fc(Te,e,null,l,q),V.push({event:Te,listeners:oe}),pe?Te.data=pe:(pe=gc(l),pe!==null&&(Te.data=pe)))),(pe=Bh?kh(e,l):Yh(e,l))&&(Te=Ca(D,"onBeforeInput"),0<Te.length&&(oe=new fc("onBeforeInput","beforeinput",null,l,q),V.push({event:oe,listeners:Te}),oe.data=pe)),Lg(V,e,D,l,q)}nA(V,t)})}function so(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ca(e,t){for(var l=t+"Capture",s=[];e!==null;){var f=e,A=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||A===null||(f=Nl(e,l),f!=null&&s.unshift(so(e,f,A)),f=Nl(e,t),f!=null&&s.push(so(e,f,A))),e.tag===3)return s;e=e.return}return[]}function Hg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function lA(e,t,l,s,f){for(var A=t._reactName,v=[];l!==null&&l!==s;){var C=l,_=C.alternate,D=C.stateNode;if(C=C.tag,_!==null&&_===s)break;C!==5&&C!==26&&C!==27||D===null||(_=D,f?(D=Nl(l,A),D!=null&&v.unshift(so(l,D,_))):f||(D=Nl(l,A),D!=null&&v.push(so(l,D,_)))),l=l.return}v.length!==0&&e.push({event:t,listeners:v})}var Vg=/\r\n?/g,Pg=/\u0000|\uFFFD/g;function oA(e){return(typeof e=="string"?e:""+e).replace(Vg,`
`).replace(Pg,"")}function aA(e,t){return t=oA(t),oA(e)===t}function He(e,t,l,s,f,A){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Ui(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Ui(e,""+s);break;case"className":Ro(e,"class",s);break;case"tabIndex":Ro(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ro(e,l,s);break;case"style":oc(e,s,A);break;case"data":if(t!=="object"){Ro(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=wo(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof A=="function"&&(l==="formAction"?(t!=="input"&&He(e,t,"name",f.name,f,null),He(e,t,"formEncType",f.formEncType,f,null),He(e,t,"formMethod",f.formMethod,f,null),He(e,t,"formTarget",f.formTarget,f,null)):(He(e,t,"encType",f.encType,f,null),He(e,t,"method",f.method,f,null),He(e,t,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=wo(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=sn);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=wo(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":ye("beforetoggle",e),ye("toggle",e),Mo(e,"popover",s);break;case"xlinkActuate":an(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":an(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":an(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":an(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":an(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":an(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":an(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":an(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":an(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Mo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ph.get(l)||l,Mo(e,l,s))}}function Or(e,t,l,s,f,A){switch(l){case"style":oc(e,s,A);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(f.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Ui(e,s):(typeof s=="number"||typeof s=="bigint")&&Ui(e,""+s);break;case"onScroll":s!=null&&ye("scroll",e);break;case"onScrollEnd":s!=null&&ye("scrollend",e);break;case"onClick":s!=null&&(e.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),t=l.slice(2,f?l.length-7:void 0),A=e[vt]||null,A=A!=null?A[l]:null,typeof A=="function"&&e.removeEventListener(t,A,f),typeof s=="function")){typeof A!="function"&&A!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,f);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Mo(e,l,s)}}}function dt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var s=!1,f=!1,A;for(A in l)if(l.hasOwnProperty(A)){var v=l[A];if(v!=null)switch(A){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:He(e,t,A,v,l,null)}}f&&He(e,t,"srcSet",l.srcSet,l,null),s&&He(e,t,"src",l.src,l,null);return;case"input":ye("invalid",e);var C=A=v=f=null,_=null,D=null;for(s in l)if(l.hasOwnProperty(s)){var q=l[s];if(q!=null)switch(s){case"name":f=q;break;case"type":v=q;break;case"checked":_=q;break;case"defaultChecked":D=q;break;case"value":A=q;break;case"defaultValue":C=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,t));break;default:He(e,t,s,q,l,null)}}tc(e,A,C,_,D,v,f,!1);return;case"select":ye("invalid",e),s=v=A=null;for(f in l)if(l.hasOwnProperty(f)&&(C=l[f],C!=null))switch(f){case"value":A=C;break;case"defaultValue":v=C;break;case"multiple":s=C;default:He(e,t,f,C,l,null)}t=A,l=v,e.multiple=!!s,t!=null?bi(e,!!s,t,!1):l!=null&&bi(e,!!s,l,!0);return;case"textarea":ye("invalid",e),A=f=s=null;for(v in l)if(l.hasOwnProperty(v)&&(C=l[v],C!=null))switch(v){case"value":s=C;break;case"defaultValue":f=C;break;case"children":A=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(a(91));break;default:He(e,t,v,C,l,null)}ic(e,s,f,A);return;case"option":for(_ in l)if(l.hasOwnProperty(_)&&(s=l[_],s!=null))switch(_){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:He(e,t,_,s,l,null)}return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(s=0;s<ao.length;s++)ye(ao[s],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(D in l)if(l.hasOwnProperty(D)&&(s=l[D],s!=null))switch(D){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:He(e,t,D,s,l,null)}return;default:if(os(t)){for(q in l)l.hasOwnProperty(q)&&(s=l[q],s!==void 0&&Or(e,t,q,s,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(s=l[C],s!=null&&He(e,t,C,s,l,null))}function Bg(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,A=null,v=null,C=null,_=null,D=null,q=null;for(G in l){var V=l[G];if(l.hasOwnProperty(G)&&V!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":_=V;default:s.hasOwnProperty(G)||He(e,t,G,null,s,V)}}for(var b in s){var G=s[b];if(V=l[b],s.hasOwnProperty(b)&&(G!=null||V!=null))switch(b){case"type":A=G;break;case"name":f=G;break;case"checked":D=G;break;case"defaultChecked":q=G;break;case"value":v=G;break;case"defaultValue":C=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,t));break;default:G!==V&&He(e,t,b,G,s,V)}}is(e,v,C,_,D,q,A,f);return;case"select":G=v=C=b=null;for(A in l)if(_=l[A],l.hasOwnProperty(A)&&_!=null)switch(A){case"value":break;case"multiple":G=_;default:s.hasOwnProperty(A)||He(e,t,A,null,s,_)}for(f in s)if(A=s[f],_=l[f],s.hasOwnProperty(f)&&(A!=null||_!=null))switch(f){case"value":b=A;break;case"defaultValue":C=A;break;case"multiple":v=A;default:A!==_&&He(e,t,f,A,s,_)}t=C,l=v,s=G,b!=null?bi(e,!!l,b,!1):!!s!=!!l&&(t!=null?bi(e,!!l,t,!0):bi(e,!!l,l?[]:"",!1));return;case"textarea":G=b=null;for(C in l)if(f=l[C],l.hasOwnProperty(C)&&f!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:He(e,t,C,null,s,f)}for(v in s)if(f=s[v],A=l[v],s.hasOwnProperty(v)&&(f!=null||A!=null))switch(v){case"value":b=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==A&&He(e,t,v,f,s,A)}nc(e,b,G);return;case"option":for(var ie in l)if(b=l[ie],l.hasOwnProperty(ie)&&b!=null&&!s.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:He(e,t,ie,null,s,b)}for(_ in s)if(b=s[_],G=l[_],s.hasOwnProperty(_)&&b!==G&&(b!=null||G!=null))switch(_){case"selected":e.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:He(e,t,_,b,s,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in l)b=l[ce],l.hasOwnProperty(ce)&&b!=null&&!s.hasOwnProperty(ce)&&He(e,t,ce,null,s,b);for(D in s)if(b=s[D],G=l[D],s.hasOwnProperty(D)&&b!==G&&(b!=null||G!=null))switch(D){case"children":case"dangerouslySetInnerHTML":if(b!=null)throw Error(a(137,t));break;default:He(e,t,D,b,s,G)}return;default:if(os(t)){for(var Ve in l)b=l[Ve],l.hasOwnProperty(Ve)&&b!==void 0&&!s.hasOwnProperty(Ve)&&Or(e,t,Ve,void 0,s,b);for(q in s)b=s[q],G=l[q],!s.hasOwnProperty(q)||b===G||b===void 0&&G===void 0||Or(e,t,q,b,s,G);return}}for(var w in l)b=l[w],l.hasOwnProperty(w)&&b!=null&&!s.hasOwnProperty(w)&&He(e,t,w,null,s,b);for(V in s)b=s[V],G=l[V],!s.hasOwnProperty(V)||b===G||b==null&&G==null||He(e,t,V,b,s,G)}function sA(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function kg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var f=l[s],A=f.transferSize,v=f.initiatorType,C=f.duration;if(A&&C&&sA(v)){for(v=0,C=f.responseEnd,s+=1;s<l.length;s++){var _=l[s],D=_.startTime;if(D>C)break;var q=_.transferSize,V=_.initiatorType;q&&sA(V)&&(_=_.responseEnd,v+=q*(_<C?1:(C-D)/(_-D)))}if(--s,t+=8*(A+v)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Jr=null,Kr=null;function _a(e){return e.nodeType===9?e:e.ownerDocument}function rA(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uA(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Qr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xr=null;function Yg(){var e=window.event;return e&&e.type==="popstate"?e===Xr?!1:(Xr=e,!0):(Xr=null,!1)}var cA=typeof setTimeout=="function"?setTimeout:void 0,Fg=typeof clearTimeout=="function"?clearTimeout:void 0,fA=typeof Promise=="function"?Promise:void 0,Og=typeof queueMicrotask=="function"?queueMicrotask:typeof fA<"u"?function(e){return fA.resolve(null).then(e).catch(Jg)}:cA;function Jg(e){setTimeout(function(){throw e})}function Qn(e){return e==="head"}function dA(e,t){var l=t,s=0;do{var f=l.nextSibling;if(e.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(f),cl(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")ro(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,ro(l);for(var A=l.firstChild;A;){var v=A.nextSibling,C=A.nodeName;A[Ml]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&A.rel.toLowerCase()==="stylesheet"||l.removeChild(A),A=v}}else l==="body"&&ro(e.ownerDocument.body);l=f}while(l);cl(t)}function AA(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Zr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Zr(l),ts(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Kg(e,t,l,s){for(;e.nodeType===1;){var f=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ml])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(A=e.getAttribute("rel"),A==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(A!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(A=e.getAttribute("src"),(A!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&A&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var A=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===A)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function Qg(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ft(e.nextSibling),e===null))return null;return e}function pA(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function Wr(e){return e.data==="$?"||e.data==="$~"}function $r(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Xg(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var jr=null;function mA(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Ft(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function hA(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function gA(e,t,l){switch(t=_a(l),e){case"html":if(e=t.documentElement,!e)throw Error(a(452));return e;case"head":if(e=t.head,!e)throw Error(a(453));return e;case"body":if(e=t.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ro(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);ts(e)}var Ot=new Map,yA=new Set;function xa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=Z.d;Z.d={f:Zg,r:Wg,D:$g,C:jg,L:ey,m:ty,X:iy,S:ny,M:ly};function Zg(){var e=Cn.f(),t=ha();return e||t}function Wg(e){var t=wi(e);t!==null&&t.tag===5&&t.type==="form"?zf(t):Cn.r(e)}var sl=typeof document>"u"?null:document;function vA(e,t,l){var s=sl;if(s&&typeof t=="string"&&t){var f=qt(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),yA.has(f)||(yA.add(f),e={rel:e,crossOrigin:l,href:t},s.querySelector(f)===null&&(t=s.createElement("link"),dt(t,"link",e),ot(t),s.head.appendChild(t)))}}function $g(e){Cn.D(e),vA("dns-prefetch",e,null)}function jg(e,t){Cn.C(e,t),vA("preconnect",e,t)}function ey(e,t,l){Cn.L(e,t,l);var s=sl;if(s&&e&&t){var f='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+qt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+qt(l.imageSizes)+'"]')):f+='[href="'+qt(e)+'"]';var A=f;switch(t){case"style":A=rl(e);break;case"script":A=ul(e)}Ot.has(A)||(e=T({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Ot.set(A,e),s.querySelector(f)!==null||t==="style"&&s.querySelector(uo(A))||t==="script"&&s.querySelector(co(A))||(t=s.createElement("link"),dt(t,"link",e),ot(t),s.head.appendChild(t)))}}function ty(e,t){Cn.m(e,t);var l=sl;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',A=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":A=ul(e)}if(!Ot.has(A)&&(e=T({rel:"modulepreload",href:e},t),Ot.set(A,e),l.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(co(A)))return}s=l.createElement("link"),dt(s,"link",e),ot(s),l.head.appendChild(s)}}}function ny(e,t,l){Cn.S(e,t,l);var s=sl;if(s&&e){var f=Ii(s).hoistableStyles,A=rl(e);t=t||"default";var v=f.get(A);if(!v){var C={loading:0,preload:null};if(v=s.querySelector(uo(A)))C.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Ot.get(A))&&eu(e,l);var _=v=s.createElement("link");ot(_),dt(_,"link",e),_._p=new Promise(function(D,q){_.onload=D,_.onerror=q}),_.addEventListener("load",function(){C.loading|=1}),_.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Ma(v,t,s)}v={type:"stylesheet",instance:v,count:1,state:C},f.set(A,v)}}}function iy(e,t){Cn.X(e,t);var l=sl;if(l&&e){var s=Ii(l).hoistableScripts,f=ul(e),A=s.get(f);A||(A=l.querySelector(co(f)),A||(e=T({src:e,async:!0},t),(t=Ot.get(f))&&tu(e,t),A=l.createElement("script"),ot(A),dt(A,"link",e),l.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},s.set(f,A))}}function ly(e,t){Cn.M(e,t);var l=sl;if(l&&e){var s=Ii(l).hoistableScripts,f=ul(e),A=s.get(f);A||(A=l.querySelector(co(f)),A||(e=T({src:e,async:!0,type:"module"},t),(t=Ot.get(f))&&tu(e,t),A=l.createElement("script"),ot(A),dt(A,"link",e),l.head.appendChild(A)),A={type:"script",instance:A,count:1,state:null},s.set(f,A))}}function TA(e,t,l,s){var f=(f=ue.current)?xa(f):null;if(!f)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=rl(l.href),l=Ii(f).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=rl(l.href);var A=Ii(f).hoistableStyles,v=A.get(e);if(v||(f=f.ownerDocument||f,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},A.set(e,v),(A=f.querySelector(uo(e)))&&!A._p&&(v.instance=A,v.state.loading=5),Ot.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ot.set(e,l),A||oy(f,e,l,v.state))),t&&s===null)throw Error(a(528,""));return v}if(t&&s!==null)throw Error(a(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ul(l),l=Ii(f).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function rl(e){return'href="'+qt(e)+'"'}function uo(e){return'link[rel="stylesheet"]['+e+"]"}function SA(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function oy(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),dt(t,"link",l),ot(t),e.head.appendChild(t))}function ul(e){return'[src="'+qt(e)+'"]'}function co(e){return"script[async]"+e}function EA(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(l.href)+'"]');if(s)return t.instance=s,ot(s),s;var f=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ot(s),dt(s,"style",f),Ma(s,l.precedence,e),t.instance=s;case"stylesheet":f=rl(l.href);var A=e.querySelector(uo(f));if(A)return t.state.loading|=4,t.instance=A,ot(A),A;s=SA(l),(f=Ot.get(f))&&eu(s,f),A=(e.ownerDocument||e).createElement("link"),ot(A);var v=A;return v._p=new Promise(function(C,_){v.onload=C,v.onerror=_}),dt(A,"link",s),t.state.loading|=4,Ma(A,l.precedence,e),t.instance=A;case"script":return A=ul(l.src),(f=e.querySelector(co(A)))?(t.instance=f,ot(f),f):(s=l,(f=Ot.get(A))&&(s=T({},l),tu(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),ot(f),dt(f,"link",s),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(a(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Ma(s,l.precedence,e));return t.instance}function Ma(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,A=f,v=0;v<s.length;v++){var C=s[v];if(C.dataset.precedence===t)A=C;else if(A!==f)break}A?A.parentNode.insertBefore(e,A.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ra=null;function CA(e,t,l){if(Ra===null){var s=new Map,f=Ra=new Map;f.set(l,s)}else f=Ra,s=f.get(l),s||(s=new Map,f.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),f=0;f<l.length;f++){var A=l[f];if(!(A[Ml]||A[rt]||e==="link"&&A.getAttribute("rel")==="stylesheet")&&A.namespaceURI!=="http://www.w3.org/2000/svg"){var v=A.getAttribute(t)||"";v=e+v;var C=s.get(v);C?C.push(A):s.set(v,[A])}}return s}function _A(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function ay(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function xA(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function sy(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var f=rl(s.href),A=t.querySelector(uo(f));if(A){t=A._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Na.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=A,ot(A);return}A=t.ownerDocument||t,s=SA(s),(f=Ot.get(f))&&eu(s,f),A=A.createElement("link"),ot(A);var v=A;v._p=new Promise(function(C,_){v.onload=C,v.onerror=_}),dt(A,"link",s),l.instance=A}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Na.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var nu=0;function ry(e,t){return e.stylesheets&&e.count===0&&Ia(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Ia(e,e.stylesheets),e.unsuspend){var A=e.unsuspend;e.unsuspend=null,A()}},6e4+t);0<e.imgBytes&&nu===0&&(nu=62500*kg());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ia(e,e.stylesheets),e.unsuspend)){var A=e.unsuspend;e.unsuspend=null,A()}},(e.imgBytes>nu?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function Na(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ia(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wa=null;function Ia(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wa=new Map,t.forEach(uy,e),wa=null,Na.call(e))}function uy(e,t){if(!(t.state.loading&4)){var l=wa.get(e);if(l)var s=l.get(null);else{l=new Map,wa.set(e,l);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),A=0;A<f.length;A++){var v=f[A];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),s=v)}s&&l.set(null,s)}f=t.instance,v=f.getAttribute("data-precedence"),A=l.get(v)||s,A===s&&l.set(null,f),l.set(v,f),this.count++,s=Na.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),A?A.parentNode.insertBefore(f,A.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var fo={$$typeof:J,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function cy(e,t,l,s,f,A,v,C,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qt(0),this.hiddenUpdates=Qt(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=A,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function MA(e,t,l,s,f,A,v,C,_,D,q,V){return e=new cy(e,t,l,v,_,D,q,V,C),t=1,A===!0&&(t|=24),A=It(3,null,null,t),e.current=A,A.stateNode=e,t=zs(),t.refCount++,e.pooledCache=t,t.refCount++,A.memoizedState={element:s,isDehydrated:l,cache:t},Vs(A),e}function RA(e){return e?(e=Pi,e):Pi}function NA(e,t,l,s,f,A){f=RA(f),s.context===null?s.context=f:s.pendingContext=f,s=qn(t),s.payload={element:l},A=A===void 0?null:A,A!==null&&(s.callback=A),l=Hn(e,s,t),l!==null&&(xt(l,e,t),Yl(l,e,t))}function wA(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function iu(e,t){wA(e,t),(e=e.alternate)&&wA(e,t)}function IA(e){if(e.tag===13||e.tag===31){var t=ri(e,67108864);t!==null&&xt(t,e,67108864),iu(e,67108864)}}function DA(e){if(e.tag===13||e.tag===31){var t=zt();t=$a(t);var l=ri(e,t);l!==null&&xt(l,e,t),iu(e,t)}}var Da=!0;function fy(e,t,l,s){var f=L.T;L.T=null;var A=Z.p;try{Z.p=2,lu(e,t,l,s)}finally{Z.p=A,L.T=f}}function dy(e,t,l,s){var f=L.T;L.T=null;var A=Z.p;try{Z.p=8,lu(e,t,l,s)}finally{Z.p=A,L.T=f}}function lu(e,t,l,s){if(Da){var f=ou(s);if(f===null)Fr(e,t,s,ba,l),UA(e,s);else if(py(f,e,t,l,s))s.stopPropagation();else if(UA(e,s),t&4&&-1<Ay.indexOf(e)){for(;f!==null;){var A=wi(f);if(A!==null)switch(A.tag){case 3:if(A=A.stateNode,A.current.memoizedState.isDehydrated){var v=Re(A.pendingLanes);if(v!==0){var C=A;for(C.pendingLanes|=2,C.entangledLanes|=2;v;){var _=1<<31-Ze(v);C.entanglements[1]|=_,v&=~_}on(A),(be&6)===0&&(pa=mt()+500,oo(0))}}break;case 31:case 13:C=ri(A,2),C!==null&&xt(C,A,2),ha(),iu(A,2)}if(A=ou(s),A===null&&Fr(e,t,s,ba,l),A===f)break;f=A}f!==null&&s.stopPropagation()}else Fr(e,t,s,null,l)}}function ou(e){return e=ss(e),au(e)}var ba=null;function au(e){if(ba=null,e=Ni(e),e!==null){var t=d(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=p(t),e!==null)return e;e=null}else if(l===31){if(e=h(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ba=e,null}function bA(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qa()){case Eo:return 2;case Co:return 8;case xi:case Xa:return 32;case _o:return 268435456;default:return 32}default:return 32}}var su=!1,Xn=null,Zn=null,Wn=null,Ao=new Map,po=new Map,$n=[],Ay="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UA(e,t){switch(e){case"focusin":case"focusout":Xn=null;break;case"dragenter":case"dragleave":Zn=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":Ao.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(t.pointerId)}}function mo(e,t,l,s,f,A){return e===null||e.nativeEvent!==A?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:A,targetContainers:[f]},t!==null&&(t=wi(t),t!==null&&IA(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function py(e,t,l,s,f){switch(t){case"focusin":return Xn=mo(Xn,e,t,l,s,f),!0;case"dragenter":return Zn=mo(Zn,e,t,l,s,f),!0;case"mouseover":return Wn=mo(Wn,e,t,l,s,f),!0;case"pointerover":var A=f.pointerId;return Ao.set(A,mo(Ao.get(A)||null,e,t,l,s,f)),!0;case"gotpointercapture":return A=f.pointerId,po.set(A,mo(po.get(A)||null,e,t,l,s,f)),!0}return!1}function LA(e){var t=Ni(e.target);if(t!==null){var l=d(t);if(l!==null){if(t=l.tag,t===13){if(t=p(l),t!==null){e.blockedOn=t,Ku(e.priority,function(){DA(l)});return}}else if(t===31){if(t=h(l),t!==null){e.blockedOn=t,Ku(e.priority,function(){DA(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ua(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=ou(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);as=s,l.target.dispatchEvent(s),as=null}else return t=wi(l),t!==null&&IA(t),e.blockedOn=l,!1;t.shift()}return!0}function zA(e,t,l){Ua(e)&&l.delete(t)}function my(){su=!1,Xn!==null&&Ua(Xn)&&(Xn=null),Zn!==null&&Ua(Zn)&&(Zn=null),Wn!==null&&Ua(Wn)&&(Wn=null),Ao.forEach(zA),po.forEach(zA)}function La(e,t){e.blockedOn===t&&(e.blockedOn=null,su||(su=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,my)))}var za=null;function GA(e){za!==e&&(za=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){za===e&&(za=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],f=e[t+2];if(typeof s!="function"){if(au(s||l)===null)continue;break}var A=wi(l);A!==null&&(e.splice(t,3),t-=3,or(A,{pending:!0,data:f,method:l.method,action:s},s,f))}}))}function cl(e){function t(_){return La(_,e)}Xn!==null&&La(Xn,e),Zn!==null&&La(Zn,e),Wn!==null&&La(Wn,e),Ao.forEach(t),po.forEach(t);for(var l=0;l<$n.length;l++){var s=$n[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<$n.length&&(l=$n[0],l.blockedOn===null);)LA(l),l.blockedOn===null&&$n.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var f=l[s],A=l[s+1],v=f[vt]||null;if(typeof A=="function")v||GA(l);else if(v){var C=null;if(A&&A.hasAttribute("formAction")){if(f=A,v=A[vt]||null)C=v.formAction;else if(au(f)!==null)continue}else C=v.action;typeof C=="function"?l[s+1]=C:(l.splice(s,3),s-=3),GA(l)}}}function qA(){function e(A){A.canIntercept&&A.info==="react-transition"&&A.intercept({handler:function(){return new Promise(function(v){return f=v})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var A=navigation.currentEntry;A&&A.url!=null&&navigation.navigate(A.url,{state:A.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function ru(e){this._internalRoot=e}Ga.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));var l=t.current,s=zt();NA(l,s,e,t,null,null)},Ga.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;NA(e.current,2,null,e,null,null),ha(),t[Ri]=null}};function Ga(e){this._internalRoot=e}Ga.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ju();e={blockedOn:null,target:e,priority:t};for(var l=0;l<$n.length&&t!==0&&t<$n[l].priority;l++);$n.splice(l,0,e),l===0&&LA(e)}};var HA=n.version;if(HA!=="19.2.0")throw Error(a(527,HA,"19.2.0"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var hy={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qa.isDisabled&&qa.supportsFiber)try{fe=qa.inject(hy),Ue=qa}catch{}}return go.createRoot=function(e,t){if(!u(e))throw Error(a(299));var l=!1,s="",f=Of,A=Jf,v=Kf;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(A=t.onCaughtError),t.onRecoverableError!==void 0&&(v=t.onRecoverableError)),t=MA(e,1,!1,null,null,l,s,null,f,A,v,qA),e[Ri]=t.current,Yr(e),new ru(t)},go.hydrateRoot=function(e,t,l){if(!u(e))throw Error(a(299));var s=!1,f="",A=Of,v=Jf,C=Kf,_=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(A=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(_=l.formState)),t=MA(e,1,!0,t,l??null,s,f,_,A,v,C,qA),t.context=RA(null),l=t.current,s=zt(),s=$a(s),f=qn(s),f.callback=null,Hn(l,f,s),l=s,t.current.lanes=l,ii(t,l),on(t),e[Ri]=t.current,Yr(e),new Ga(t)},go.version="19.2.0",go}var QA;function My(){if(QA)return fu.exports;QA=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),fu.exports=xy(),fu.exports}var Ry=My();const Ny=_m(Ry);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let wy,Iy;function Dy(){return{geminiUrl:wy,vertexUrl:Iy}}function by(i,n,o,a){var u,d;if(!(i!=null&&i.baseUrl)){const p=Dy();return n?(u=p.vertexUrl)!==null&&u!==void 0?u:o:(d=p.geminiUrl)!==null&&d!==void 0?d:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xn{}function $(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(a,u)=>{if(Object.prototype.hasOwnProperty.call(n,u)){const d=n[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function c(i,n,o){for(let d=0;d<n.length-1;d++){const p=n[d];if(p.endsWith("[]")){const h=p.slice(0,-2);if(!(h in i))if(Array.isArray(o))i[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[h])){const g=i[h];if(Array.isArray(o))for(let m=0;m<g.length;m++){const y=g[m];c(y,n.slice(d+1),o[m])}else for(const m of g)c(m,n.slice(d+1),o)}return}else if(p.endsWith("[0]")){const h=p.slice(0,-3);h in i||(i[h]=[{}]);const g=i[h];c(g[0],n.slice(d+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=n[n.length-1],u=i[a];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function r(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let a=0;a<n.length;a++){if(typeof i!="object"||i===null)return o;const u=n[a];if(u.endsWith("[]")){const d=u.slice(0,-2);if(d in i){const p=i[d];return Array.isArray(p)?p.map(h=>r(h,n.slice(a+1),o)):o}else return o}else i=i[u]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function Uy(i,n){for(const[o,a]of Object.entries(n)){const u=o.split("."),d=a.split("."),p=new Set;let h=-1;for(let g=0;g<u.length;g++)if(u[g]==="*"){h=g;break}if(h!==-1&&d.length>h)for(let g=h;g<d.length;g++){const m=d[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&p.add(m)}yu(i,u,d,0,p)}}function yu(i,n,o,a,u){if(a>=n.length||typeof i!="object"||i===null)return;const d=n[a];if(d.endsWith("[]")){const p=d.slice(0,-2),h=i;if(p in h&&Array.isArray(h[p]))for(const g of h[p])yu(g,n,o,a+1,u)}else if(d==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,h=Object.keys(p).filter(m=>!m.startsWith("_")&&!u.has(m)),g={};for(const m of h)g[m]=p[m];for(const[m,y]of Object.entries(g)){const T=[];for(const E of o.slice(a))E==="*"?T.push(m):T.push(E);c(p,T,y)}for(const m of h)delete p[m]}}else{const p=i;d in p&&yu(p[d],n,o,a+1,u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ly(i){const n={},o=r(i,["operationName"]);o!=null&&c(n,["operationName"],o);const a=r(i,["resourceName"]);return a!=null&&c(n,["_url","resourceName"],a),n}function zy(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response","generateVideoResponse"]);return p!=null&&c(n,["response"],qy(p)),n}function Gy(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response"]);return p!=null&&c(n,["response"],Hy(p)),n}function qy(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Vy(p))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function Hy(i){const n={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>Py(p))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function Vy(i){const n={},o=r(i,["video"]);return o!=null&&c(n,["video"],Jy(o)),n}function Py(i){const n={},o=r(i,["_self"]);return o!=null&&c(n,["video"],Ky(o)),n}function By(i){const n={},o=r(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function ky(i){const n={},o=r(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function Yy(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response"]);return p!=null&&c(n,["response"],Fy(p)),n}function Fy(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function Mm(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response"]);return p!=null&&c(n,["response"],Oy(p)),n}function Oy(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function Jy(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const a=r(i,["encodedVideo"]);a!=null&&c(n,["videoBytes"],bu(a));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function Ky(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["videoBytes"],bu(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var XA;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(XA||(XA={}));var ZA;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(ZA||(ZA={}));var WA;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(WA||(WA={}));var Mt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Mt||(Mt={}));var $A;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})($A||($A={}));var jA;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(jA||(jA={}));var ep;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(ep||(ep={}));var tp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(tp||(tp={}));var np;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(np||(np={}));var ip;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.HIGH="HIGH"})(ip||(ip={}));var lp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(lp||(lp={}));var op;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(op||(op={}));var ap;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(ap||(ap={}));var sp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(sp||(sp={}));var rp;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(rp||(rp={}));var up;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(up||(up={}));var cp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(cp||(cp={}));var fp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(fp||(fp={}));var dp;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(dp||(dp={}));var hl;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(hl||(hl={}));var Ap;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Ap||(Ap={}));var pp;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(pp||(pp={}));var mp;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(mp||(mp={}));var vu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(vu||(vu={}));var hp;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(hp||(hp={}));var gp;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(gp||(gp={}));var yp;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(yp||(yp={}));var vp;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(vp||(vp={}));var Tp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Tp||(Tp={}));var Sp;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Sp||(Sp={}));var Ep;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Ep||(Ep={}));var Cp;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Cp||(Cp={}));var _p;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(_p||(_p={}));var xp;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(xp||(xp={}));var Mp;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Mp||(Mp={}));var Rp;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Rp||(Rp={}));var Np;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Np||(Np={}));var wp;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wp||(wp={}));var Ip;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Ip||(Ip={}));var Tu;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Tu||(Tu={}));var Dp;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Dp||(Dp={}));var bp;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(bp||(bp={}));var Up;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Up||(Up={}));var Lp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Lp||(Lp={}));var zp;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(zp||(zp={}));var Gp;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Gp||(Gp={}));var qp;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(qp||(qp={}));var Hp;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Hp||(Hp={}));var Vp;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Vp||(Vp={}));var Pp;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Pp||(Pp={}));var Bp;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Bp||(Bp={}));var kp;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(kp||(kp={}));var Yp;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Yp||(Yp={}));var Fp;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Fp||(Fp={}));var dl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(dl||(dl={}));class Su{constructor(n){const o={};for(const a of n.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class yo{get text(){var n,o,a,u,d,p,h,g;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const T=[];for(const E of(g=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[x,U]of Object.entries(E))x!=="text"&&x!=="thought"&&x!=="thoughtSignature"&&(U!==null||U!==void 0)&&T.push(x);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;y=!0,m+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var n,o,a,u,d,p,h,g;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const T of(g=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&g!==void 0?g:[]){for(const[E,x]of Object.entries(T))E!=="inlineData"&&(x!==null||x!==void 0)&&y.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var n,o,a,u,d,p,h,g;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var n,o,a,u,d,p,h,g,m;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(g=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var n,o,a,u,d,p,h,g,m;if(((u=(a=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(g=(h=(p=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||g===void 0?void 0:g.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class Op{}class Jp{}class Qy{}class Xy{}class Zy{}class Wy{}class Kp{}class Qp{}class Xp{}class $y{}class Pa{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new Pa;let u;const d=n;return o?u=Gy(d):u=zy(d),Object.assign(a,u),a}}class Zp{}class Wp{}class $p{}class jy{}class e0{}class t0{}class Uu{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new Uu,d=Yy(n);return Object.assign(a,d),a}}class n0{}class i0{}class l0{}class jp{}class o0{get text(){var n,o,a;let u="",d=!1;const p=[];for(const h of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[g,m]of Object.entries(h))g!=="text"&&g!=="thought"&&m!==null&&p.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var n,o,a;let u="";const d=[];for(const p of(a=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[h,g]of Object.entries(p))h!=="inlineData"&&g!==null&&d.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(u+=atob(p.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class a0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Lu{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const a=new Lu,d=Mm(n);return Object.assign(a,d),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function De(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(n.includes("..")||n.includes("?")||n.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function Rm(i,n){const o=De(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Nm(i){return Array.isArray(i)?i.map(n=>Ba(n)):[Ba(i)]}function Ba(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function wm(i){const n=Ba(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Im(i){const n=Ba(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function em(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Dm(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>em(n)):[em(i)]}function Eu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function tm(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function nm(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function pt(i){if(i==null)throw new Error("ContentUnion is required");return Eu(i)?i:{role:"user",parts:Dm(i)}}function zu(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const a=pt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=pt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>pt(o)):[pt(n)]}function Kt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(tm(i)||nm(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[pt(i)]}const n=[],o=[],a=Eu(i[0]);for(const u of i){const d=Eu(u);if(d!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)n.push(u);else{if(tm(u)||nm(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return a||n.push({role:"user",parts:Dm(o)}),n}function s0(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)n.type=Object.values(Mt).includes(o[0].toUpperCase())?o[0].toUpperCase():Mt.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const a of o)n.anyOf.push({type:Object.values(Mt).includes(a.toUpperCase())?a.toUpperCase():Mt.TYPE_UNSPECIFIED})}}function Al(i){const n={},o=["items"],a=["anyOf"],u=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=i.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(n.nullable=!0,i=d[1]):d[1].type==="null"&&(n.nullable=!0,i=d[0])),i.type instanceof Array&&s0(i.type,n);for(const[p,h]of Object.entries(i))if(h!=null)if(p=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;n.type=Object.values(Mt).includes(h.toUpperCase())?h.toUpperCase():Mt.TYPE_UNSPECIFIED}else if(o.includes(p))n[p]=Al(h);else if(a.includes(p)){const g=[];for(const m of h){if(m.type=="null"){n.nullable=!0;continue}g.push(Al(m))}n[p]=g}else if(u.includes(p)){const g={};for(const[m,y]of Object.entries(h))g[m]=Al(y);n[p]=g}else{if(p==="additionalProperties")continue;n[p]=h}return n}function Gu(i){return Al(i)}function qu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Hu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function gl(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Al(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Al(n.response));return i}function yl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function r0(i,n,o,a=1){const u=!n.startsWith(`${o}/`)&&n.split("/").length===a;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:u?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:u?`${o}/${n}`:n}function Mn(i,n){if(typeof n!="string")throw new Error("name must be a string");return r0(i,n,"cachedContents")}function bm(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ei(i){return bu(i)}function u0(i){return i!=null&&typeof i=="object"&&"name"in i}function c0(i){return i!=null&&typeof i=="object"&&"video"in i}function f0(i){return i!=null&&typeof i=="object"&&"uri"in i}function Um(i){var n;let o;if(u0(i)&&(o=i.name),!(f0(i)&&(o=i.uri,o===void 0))&&!(c0(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Lm(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function zm(i){for(const n of["models","tunedModels","publisherModels"])if(d0(i,n))return i[n];return[]}function d0(i,n){return i!==null&&typeof i=="object"&&n in i}function A0(i,n={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),n.behavior&&(a.behavior=n.behavior),{functionDeclarations:[a]}}function p0(i,n={}){const o=[],a=new Set;for(const u of i){const d=u.name;if(a.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);a.add(d);const p=A0(u,n);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function Gm(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(u>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function m0(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function qm(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return i;let d=!1;for(const p of u){if(typeof p!="object"||p===null)continue;const g=p.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){d=!0;break}}return d&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function vl(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Hm(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h0(i){const n={},o=r(i,["responsesFile"]);o!=null&&c(n,["fileName"],o);const a=r(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Z0(p))),c(n,["inlinedResponses"],d)}const u=r(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["inlinedEmbedContentResponses"],d)}return n}function g0(i){const n={},o=r(i,["predictionsFormat"]);o!=null&&c(n,["format"],o);const a=r(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(n,["gcsUri"],a);const u=r(i,["bigqueryDestination","outputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function y0(i){const n={},o=r(i,["format"]);o!=null&&c(n,["predictionsFormat"],o);const a=r(i,["gcsUri"]);a!=null&&c(n,["gcsDestination","outputUriPrefix"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigqueryDestination","outputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function Ha(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata","displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["metadata","state"]);u!=null&&c(n,["state"],Hm(u));const d=r(i,["metadata","createTime"]);d!=null&&c(n,["createTime"],d);const p=r(i,["metadata","endTime"]);p!=null&&c(n,["endTime"],p);const h=r(i,["metadata","updateTime"]);h!=null&&c(n,["updateTime"],h);const g=r(i,["metadata","model"]);g!=null&&c(n,["model"],g);const m=r(i,["metadata","output"]);return m!=null&&c(n,["dest"],h0(qm(m))),n}function Cu(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["state"]);u!=null&&c(n,["state"],Hm(u));const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["createTime"]);p!=null&&c(n,["createTime"],p);const h=r(i,["startTime"]);h!=null&&c(n,["startTime"],h);const g=r(i,["endTime"]);g!=null&&c(n,["endTime"],g);const m=r(i,["updateTime"]);m!=null&&c(n,["updateTime"],m);const y=r(i,["model"]);y!=null&&c(n,["model"],y);const T=r(i,["inputConfig"]);T!=null&&c(n,["src"],v0(T));const E=r(i,["outputConfig"]);E!=null&&c(n,["dest"],g0(qm(E)));const x=r(i,["completionStats"]);return x!=null&&c(n,["completionStats"],x),n}function v0(i){const n={},o=r(i,["instancesFormat"]);o!=null&&c(n,["format"],o);const a=r(i,["gcsSource","uris"]);a!=null&&c(n,["gcsUri"],a);const u=r(i,["bigquerySource","inputUri"]);return u!=null&&c(n,["bigqueryUri"],u),n}function T0(i,n){const o={};if(r(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=r(n,["fileName"]);a!=null&&c(o,["fileName"],a);const u=r(n,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>X0(i,p))),c(o,["requests","requests"],d)}return o}function S0(i){const n={},o=r(i,["format"]);o!=null&&c(n,["instancesFormat"],o);const a=r(i,["gcsUri"]);a!=null&&c(n,["gcsSource","uris"],a);const u=r(i,["bigqueryUri"]);if(u!=null&&c(n,["bigquerySource","inputUri"],u),r(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function E0(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function C0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],vl(i,a)),o}function _0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],vl(i,a)),o}function x0(i){const n={},o=r(i,["content"]);o!=null&&c(n,["content"],o);const a=r(i,["citationMetadata"]);a!=null&&c(n,["citationMetadata"],M0(a));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(n,["finishReason"],d);const p=r(i,["avgLogprobs"]);p!=null&&c(n,["avgLogprobs"],p);const h=r(i,["groundingMetadata"]);h!=null&&c(n,["groundingMetadata"],h);const g=r(i,["index"]);g!=null&&c(n,["index"],g);const m=r(i,["logprobsResult"]);m!=null&&c(n,["logprobsResult"],m);const y=r(i,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(x=>x)),c(n,["safetyRatings"],E)}const T=r(i,["urlContextMetadata"]);return T!=null&&c(n,["urlContextMetadata"],T),n}function M0(i){const n={},o=r(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["citations"],a)}return n}function Vm(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>iv(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function R0(i,n){const o={},a=r(i,["displayName"]);if(n!==void 0&&a!=null&&c(n,["batch","displayName"],a),r(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function N0(i,n){const o={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["dest"]);return n!==void 0&&u!=null&&c(n,["outputConfig"],y0(m0(u))),o}function im(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],T0(i,Gm(i,u)));const d=r(n,["config"]);return d!=null&&R0(d,o),o}function w0(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["model"],De(i,a));const u=r(n,["src"]);u!=null&&c(o,["inputConfig"],S0(Gm(i,u)));const d=r(n,["config"]);return d!=null&&N0(d,o),o}function I0(i,n){const o={},a=r(i,["displayName"]);return n!==void 0&&a!=null&&c(n,["batch","displayName"],a),o}function D0(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["src"]);u!=null&&c(o,["batch","inputConfig"],H0(i,u));const d=r(n,["config"]);return d!=null&&I0(d,o),o}function b0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],vl(i,a)),o}function U0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],vl(i,a)),o}function L0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);return d!=null&&c(n,["error"],d),n}function z0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);return d!=null&&c(n,["error"],d),n}function G0(i,n){const o={},a=r(n,["contents"]);if(a!=null){let d=zu(i,a);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["requests[]","request","content"],d)}const u=r(n,["config"]);return u!=null&&(c(o,["_self"],q0(u,o)),Uy(o,{"requests[].*":"requests[].request.*"})),o}function q0(i,n){const o={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["requests[]","taskType"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function H0(i,n){const o={},a=r(n,["fileName"]);a!=null&&c(o,["file_name"],a);const u=r(n,["inlinedRequests"]);return u!=null&&c(o,["requests"],G0(i,u)),o}function V0(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function P0(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function B0(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(n,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function k0(i,n,o){const a={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Vm(pt(u)));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const p=r(n,["topP"]);p!=null&&c(a,["topP"],p);const h=r(n,["topK"]);h!=null&&c(a,["topK"],h);const g=r(n,["candidateCount"]);g!=null&&c(a,["candidateCount"],g);const m=r(n,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const y=r(n,["stopSequences"]);y!=null&&c(a,["stopSequences"],y);const T=r(n,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=r(n,["logprobs"]);E!=null&&c(a,["logprobs"],E);const x=r(n,["presencePenalty"]);x!=null&&c(a,["presencePenalty"],x);const U=r(n,["frequencyPenalty"]);U!=null&&c(a,["frequencyPenalty"],U);const z=r(n,["seed"]);z!=null&&c(a,["seed"],z);const k=r(n,["responseMimeType"]);k!=null&&c(a,["responseMimeType"],k);const Y=r(n,["responseSchema"]);Y!=null&&c(a,["responseSchema"],Gu(Y));const Q=r(n,["responseJsonSchema"]);if(Q!=null&&c(a,["responseJsonSchema"],Q),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=r(n,["safetySettings"]);if(o!==void 0&&J!=null){let te=J;Array.isArray(te)&&(te=te.map(Se=>lv(Se))),c(o,["safetySettings"],te)}const ee=r(n,["tools"]);if(o!==void 0&&ee!=null){let te=yl(ee);Array.isArray(te)&&(te=te.map(Se=>av(gl(Se)))),c(o,["tools"],te)}const O=r(n,["toolConfig"]);if(o!==void 0&&O!=null&&c(o,["toolConfig"],ov(O)),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=r(n,["cachedContent"]);o!==void 0&&X!=null&&c(o,["cachedContent"],Mn(i,X));const B=r(n,["responseModalities"]);B!=null&&c(a,["responseModalities"],B);const j=r(n,["mediaResolution"]);j!=null&&c(a,["mediaResolution"],j);const W=r(n,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],qu(W)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=r(n,["thinkingConfig"]);se!=null&&c(a,["thinkingConfig"],se);const me=r(n,["imageConfig"]);return me!=null&&c(a,["imageConfig"],Q0(me)),a}function Y0(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>x0(m))),c(n,["candidates"],g)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const p=r(i,["responseId"]);p!=null&&c(n,["responseId"],p);const h=r(i,["usageMetadata"]);return h!=null&&c(n,["usageMetadata"],h),n}function F0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],vl(i,a)),o}function O0(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],vl(i,a)),o}function J0(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function K0(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function Q0(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const a=r(i,["imageSize"]);if(a!=null&&c(n,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function X0(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["request","model"],De(i,a));const u=r(n,["contents"]);if(u!=null){let h=Kt(u);Array.isArray(h)&&(h=h.map(g=>Vm(g))),c(o,["request","contents"],h)}const d=r(n,["metadata"]);d!=null&&c(o,["metadata"],d);const p=r(n,["config"]);return p!=null&&c(o,["request","generationConfig"],k0(i,p,r(o,["request"],{}))),o}function Z0(i){const n={},o=r(i,["response"]);o!=null&&c(n,["response"],Y0(o));const a=r(i,["error"]);return a!=null&&c(n,["error"],a),n}function W0(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);if(n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),r(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function $0(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);n!==void 0&&u!=null&&c(n,["_query","pageToken"],u);const d=r(i,["filter"]);return n!==void 0&&d!=null&&c(n,["_query","filter"],d),o}function j0(i){const n={},o=r(i,["config"]);return o!=null&&W0(o,n),n}function ev(i){const n={},o=r(i,["config"]);return o!=null&&$0(o,n),n}function tv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Ha(p))),c(n,["batchJobs"],d)}return n}function nv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>Cu(p))),c(n,["batchJobs"],d)}return n}function iv(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],V0(d));const p=r(i,["functionCall"]);p!=null&&c(n,["functionCall"],P0(p));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const g=r(i,["inlineData"]);g!=null&&c(n,["inlineData"],E0(g));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const y=r(i,["thought"]);y!=null&&c(n,["thought"],y);const T=r(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function lv(i){const n={},o=r(i,["category"]);if(o!=null&&c(n,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(n,["threshold"],a),n}function ov(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],B0(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(n,["retrievalConfig"],a),n}function av(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],J0(h));const g=r(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],K0(g));const m=r(i,["urlContext"]);return m!=null&&c(n,["urlContext"],m),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _n;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(_n||(_n={}));class Ei{constructor(n,o,a,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,a,u)}init(n,o,a){var u,d;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(d=(u=p.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sv extends xn{constructor(n){super(),this.apiClient=n,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new Ei(_n.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o)}createInlinedGenerateContentRequest(n){const o=im(this.apiClient,n),a=o._url,u=$("{model}:batchGenerateContent",a),h=o.batch.inputConfig.requests,g=h.requests,m=[];for(const y of g){const T=Object.assign({},y);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const x=T.request;x.systemInstruction=E,T.request=x}m.push(T)}return h.requests=m,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const a=o?Object.assign({},o):{},u=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${u}`),a.dest===void 0){const d=this.getGcsUri(n),p=this.getBigqueryUri(n);if(d)d.endsWith(".jsonl")?a.dest=`${d.slice(0,-6)}/dest`:a.dest=`${d}_dest_${u}`;else if(p)a.dest=`${p}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=w0(this.apiClient,n);return h=$("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>Cu(y))}else{const m=im(this.apiClient,n);return h=$("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),p.then(y=>Ha(y))}}async createEmbeddingsInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=D0(this.apiClient,n);return d=$("{model}:asyncBatchEmbedContent",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>Ha(g))}}async get(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=O0(this.apiClient,n);return h=$("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>Cu(y))}else{const m=F0(this.apiClient,n);return h=$("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),p.then(y=>Ha(y))}}async cancel(n){var o,a,u,d;let p="",h={};if(this.apiClient.isVertexAI()){const g=_0(this.apiClient,n);p=$("batchPredictionJobs/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const g=C0(this.apiClient,n);p=$("batches/{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=ev(n);return h=$("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=nv(y),E=new jp;return Object.assign(E,T),E})}else{const m=j0(n);return h=$("batches",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=tv(y),E=new jp;return Object.assign(E,T),E})}}async delete(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=U0(this.apiClient,n);return h=$("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>z0(y))}else{const m=b0(this.apiClient,n);return h=$("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>L0(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rv(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function lm(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Dv(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function uv(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const p=r(i,["contents"]);if(n!==void 0&&p!=null){let y=Kt(p);Array.isArray(y)&&(y=y.map(T=>lm(T))),c(n,["contents"],y)}const h=r(i,["systemInstruction"]);n!==void 0&&h!=null&&c(n,["systemInstruction"],lm(pt(h)));const g=r(i,["tools"]);if(n!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(T=>Uv(T))),c(n,["tools"],y)}const m=r(i,["toolConfig"]);if(n!==void 0&&m!=null&&c(n,["toolConfig"],bv(m)),r(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function cv(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);n!==void 0&&u!=null&&c(n,["expireTime"],u);const d=r(i,["displayName"]);n!==void 0&&d!=null&&c(n,["displayName"],d);const p=r(i,["contents"]);if(n!==void 0&&p!=null){let T=Kt(p);Array.isArray(T)&&(T=T.map(E=>E)),c(n,["contents"],T)}const h=r(i,["systemInstruction"]);n!==void 0&&h!=null&&c(n,["systemInstruction"],pt(h));const g=r(i,["tools"]);if(n!==void 0&&g!=null){let T=g;Array.isArray(T)&&(T=T.map(E=>Lv(E))),c(n,["tools"],T)}const m=r(i,["toolConfig"]);n!==void 0&&m!=null&&c(n,["toolConfig"],m);const y=r(i,["kmsKeyName"]);return n!==void 0&&y!=null&&c(n,["encryption_spec","kmsKeyName"],y),o}function fv(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["model"],Rm(i,a));const u=r(n,["config"]);return u!=null&&uv(u,o),o}function dv(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["model"],Rm(i,a));const u=r(n,["config"]);return u!=null&&cv(u,o),o}function Av(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],Mn(i,a)),o}function pv(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],Mn(i,a)),o}function mv(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function hv(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function gv(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function yv(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function vv(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(n,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function Tv(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=r(i,["response"]);p!=null&&c(n,["response"],p);const h=r(i,["responseJsonSchema"]);return h!=null&&c(n,["responseJsonSchema"],h),n}function Sv(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],Mn(i,a)),o}function Ev(i,n){const o={},a=r(n,["name"]);return a!=null&&c(o,["_url","name"],Mn(i,a)),o}function Cv(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function _v(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function xv(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function Mv(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function Rv(i){const n={},o=r(i,["config"]);return o!=null&&xv(o,n),n}function Nv(i){const n={},o=r(i,["config"]);return o!=null&&Mv(o,n),n}function wv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["cachedContents"],d)}return n}function Iv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["cachedContents"],d)}return n}function Dv(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],gv(d));const p=r(i,["functionCall"]);p!=null&&c(n,["functionCall"],yv(p));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const g=r(i,["inlineData"]);g!=null&&c(n,["inlineData"],rv(g));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const y=r(i,["thought"]);y!=null&&c(n,["thought"],y);const T=r(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function bv(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],vv(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(n,["retrievalConfig"],a),n}function Uv(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],Cv(h));const g=r(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],_v(g));const m=r(i,["urlContext"]);return m!=null&&c(n,["urlContext"],m),n}function Lv(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>Tv(E))),c(n,["functionDeclarations"],T)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(n,["codeExecution"],p);const h=r(i,["enterpriseWebSearch"]);h!=null&&c(n,["enterpriseWebSearch"],h);const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],g);const m=r(i,["googleSearch"]);m!=null&&c(n,["googleSearch"],m);const y=r(i,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}function zv(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function Gv(i,n){const o={},a=r(i,["ttl"]);n!==void 0&&a!=null&&c(n,["ttl"],a);const u=r(i,["expireTime"]);return n!==void 0&&u!=null&&c(n,["expireTime"],u),o}function qv(i,n){const o={},a=r(n,["name"]);a!=null&&c(o,["_url","name"],Mn(i,a));const u=r(n,["config"]);return u!=null&&zv(u,o),o}function Hv(i,n){const o={},a=r(n,["name"]);a!=null&&c(o,["_url","name"],Mn(i,a));const u=r(n,["config"]);return u!=null&&Gv(u,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vv extends xn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Ei(_n.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=dv(this.apiClient,n);return h=$("cachedContents",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>y)}else{const m=fv(this.apiClient,n);return h=$("cachedContents",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),p.then(y=>y)}}async get(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=Ev(this.apiClient,n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>y)}else{const m=Sv(this.apiClient,n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),p.then(y=>y)}}async delete(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=pv(this.apiClient,n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=hv(y),E=new Wp;return Object.assign(E,T),E})}else{const m=Av(this.apiClient,n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=mv(y),E=new Wp;return Object.assign(E,T),E})}}async update(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=Hv(this.apiClient,n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>y)}else{const m=qv(this.apiClient,n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),p.then(y=>y)}}async listInternal(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=Nv(n);return h=$("cachedContents",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=Iv(y),E=new $p;return Object.assign(E,T),E})}else{const m=Rv(n);return h=$("cachedContents",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=wv(y),E=new $p;return Object.assign(E,T),E})}}}function om(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Fe(i){return this instanceof Fe?(this.v=i,this):new Fe(i)}function pl(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,n||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",p),u[Symbol.asyncIterator]=function(){return this},u;function p(x){return function(U){return Promise.resolve(U).then(x,T)}}function h(x,U){a[x]&&(u[x]=function(z){return new Promise(function(k,Y){d.push([x,z,k,Y])>1||g(x,z)})},U&&(u[x]=U(u[x])))}function g(x,U){try{m(a[x](U))}catch(z){E(d[0][3],z)}}function m(x){x.value instanceof Fe?Promise.resolve(x.value.v).then(y,T):E(d[0][2],x)}function y(x){g("next",x)}function T(x){g("throw",x)}function E(x,U){x(U),d.shift(),d.length&&g(d[0][0],d[0][1])}}function vo(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof om=="function"?om(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(d){o[d]=i[d]&&function(p){return new Promise(function(h,g){p=i[d](p),u(h,g,p.done,p.value)})}}function u(d,p,h,g){Promise.resolve(g).then(function(m){d({value:m,done:h})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pv(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:Pm(o)}function Pm(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function Bv(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function am(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")n.push(i[a]),a++;else{const u=[];let d=!0;for(;a<o&&i[a].role==="model";)u.push(i[a]),d&&!Pm(i[a])&&(d=!1),a++;d?n.push(...u):n.pop()}return n}class kv{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new Yv(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class Yv{constructor(n,o,a,u={},d=[]){this.apiClient=n,this.modelsModule=o,this.model=a,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),Bv(d)}async sendMessage(n){var o;await this.sendPromise;const a=pt(n.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,p,h;const g=await u,m=(p=(d=g.candidates)===null||d===void 0?void 0:d[0])===null||p===void 0?void 0:p.content,y=g.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];y!=null&&(E=(h=y.slice(T))!==null&&h!==void 0?h:[]);const x=m?[m]:[];this.recordHistory(a,x,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(n){var o;await this.sendPromise;const a=pt(n.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,a)}getHistory(n=!1){const o=n?am(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){var a,u;return pl(this,arguments,function*(){var p,h,g,m;const y=[];try{for(var T=!0,E=vo(n),x;x=yield Fe(E.next()),p=x.done,!p;T=!0){m=x.value,T=!1;const U=m;if(Pv(U)){const z=(u=(a=U.candidates)===null||a===void 0?void 0:a[0])===null||u===void 0?void 0:u.content;z!==void 0&&y.push(z)}yield yield Fe(U)}}catch(U){h={error:U}}finally{try{!T&&!p&&(g=E.return)&&(yield Fe(g.call(E)))}finally{if(h)throw h.error}}this.recordHistory(o,y)})}recordHistory(n,o,a){let u=[];o.length>0&&o.every(d=>d.role!==void 0)?u=o:u.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...am(a)):this.history.push(n),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ya extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Ya.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Fv(i){const n={},o=r(i,["file"]);return o!=null&&c(n,["file"],o),n}function Ov(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Jv(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","file"],Um(o)),n}function Kv(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function Qv(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","file"],Um(o)),n}function Xv(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function Zv(i){const n={},o=r(i,["config"]);return o!=null&&Xv(o,n),n}function Wv(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["files"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $v extends xn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new Ei(_n.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Zv(n);return d=$("files",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),u.then(g=>{const m=Wv(g),y=new n0;return Object.assign(y,m),y})}}async createInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Fv(n);return d=$("upload/v1beta/files",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>{const m=Ov(g),y=new i0;return Object.assign(y,m),y})}}async get(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Qv(n);return d=$("files/{file}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Jv(n);return d=$("files/{file}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),u.then(g=>{const m=Kv(g),y=new l0;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Va(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function jv(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>mT(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function eT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function tT(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function nT(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=r(i,["response"]);p!=null&&c(n,["response"],p);const h=r(i,["responseJsonSchema"]);return h!=null&&c(n,["responseJsonSchema"],h),n}function iT(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const a=r(i,["responseJsonSchema"]);a!=null&&c(n,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(n,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const p=r(i,["enableAffectiveDialog"]);p!=null&&c(n,["enableAffectiveDialog"],p);const h=r(i,["frequencyPenalty"]);h!=null&&c(n,["frequencyPenalty"],h);const g=r(i,["logprobs"]);g!=null&&c(n,["logprobs"],g);const m=r(i,["maxOutputTokens"]);m!=null&&c(n,["maxOutputTokens"],m);const y=r(i,["mediaResolution"]);y!=null&&c(n,["mediaResolution"],y);const T=r(i,["presencePenalty"]);T!=null&&c(n,["presencePenalty"],T);const E=r(i,["responseLogprobs"]);E!=null&&c(n,["responseLogprobs"],E);const x=r(i,["responseMimeType"]);x!=null&&c(n,["responseMimeType"],x);const U=r(i,["responseModalities"]);U!=null&&c(n,["responseModalities"],U);const z=r(i,["responseSchema"]);z!=null&&c(n,["responseSchema"],z);const k=r(i,["routingConfig"]);k!=null&&c(n,["routingConfig"],k);const Y=r(i,["seed"]);Y!=null&&c(n,["seed"],Y);const Q=r(i,["speechConfig"]);Q!=null&&c(n,["speechConfig"],Bm(Q));const J=r(i,["stopSequences"]);J!=null&&c(n,["stopSequences"],J);const ee=r(i,["temperature"]);ee!=null&&c(n,["temperature"],ee);const O=r(i,["thinkingConfig"]);O!=null&&c(n,["thinkingConfig"],O);const X=r(i,["topK"]);X!=null&&c(n,["topK"],X);const B=r(i,["topP"]);if(B!=null&&c(n,["topP"],B),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function lT(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function oT(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function aT(i,n){const o={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=r(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const h=r(i,["topK"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","topK"],h);const g=r(i,["maxOutputTokens"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","maxOutputTokens"],g);const m=r(i,["mediaResolution"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","mediaResolution"],m);const y=r(i,["seed"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","seed"],y);const T=r(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],Hu(T));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const x=r(i,["enableAffectiveDialog"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],x);const U=r(i,["systemInstruction"]);n!==void 0&&U!=null&&c(n,["setup","systemInstruction"],jv(pt(U)));const z=r(i,["tools"]);if(n!==void 0&&z!=null){let X=yl(z);Array.isArray(X)&&(X=X.map(B=>gT(gl(B)))),c(n,["setup","tools"],X)}const k=r(i,["sessionResumption"]);n!==void 0&&k!=null&&c(n,["setup","sessionResumption"],hT(k));const Y=r(i,["inputAudioTranscription"]);n!==void 0&&Y!=null&&c(n,["setup","inputAudioTranscription"],Y);const Q=r(i,["outputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","outputAudioTranscription"],Q);const J=r(i,["realtimeInputConfig"]);n!==void 0&&J!=null&&c(n,["setup","realtimeInputConfig"],J);const ee=r(i,["contextWindowCompression"]);n!==void 0&&ee!=null&&c(n,["setup","contextWindowCompression"],ee);const O=r(i,["proactivity"]);return n!==void 0&&O!=null&&c(n,["setup","proactivity"],O),o}function sT(i,n){const o={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],iT(a));const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=r(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const h=r(i,["topK"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","topK"],h);const g=r(i,["maxOutputTokens"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","maxOutputTokens"],g);const m=r(i,["mediaResolution"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","mediaResolution"],m);const y=r(i,["seed"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","seed"],y);const T=r(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],Bm(Hu(T)));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const x=r(i,["enableAffectiveDialog"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],x);const U=r(i,["systemInstruction"]);n!==void 0&&U!=null&&c(n,["setup","systemInstruction"],pt(U));const z=r(i,["tools"]);if(n!==void 0&&z!=null){let X=yl(z);Array.isArray(X)&&(X=X.map(B=>yT(gl(B)))),c(n,["setup","tools"],X)}const k=r(i,["sessionResumption"]);n!==void 0&&k!=null&&c(n,["setup","sessionResumption"],k);const Y=r(i,["inputAudioTranscription"]);n!==void 0&&Y!=null&&c(n,["setup","inputAudioTranscription"],Y);const Q=r(i,["outputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","outputAudioTranscription"],Q);const J=r(i,["realtimeInputConfig"]);n!==void 0&&J!=null&&c(n,["setup","realtimeInputConfig"],J);const ee=r(i,["contextWindowCompression"]);n!==void 0&&ee!=null&&c(n,["setup","contextWindowCompression"],ee);const O=r(i,["proactivity"]);return n!==void 0&&O!=null&&c(n,["setup","proactivity"],O),o}function rT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["setup","model"],De(i,a));const u=r(n,["config"]);return u!=null&&c(o,["config"],aT(u,o)),o}function uT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["setup","model"],De(i,a));const u=r(n,["config"]);return u!=null&&c(o,["config"],sT(u,o)),o}function cT(i){const n={},o=r(i,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function fT(i){const n={},o=r(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["weightedPrompts"],a)}return n}function dT(i){const n={},o=r(i,["media"]);if(o!=null){let m=Nm(o);Array.isArray(m)&&(m=m.map(y=>Va(y))),c(n,["mediaChunks"],m)}const a=r(i,["audio"]);a!=null&&c(n,["audio"],Va(Im(a)));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(n,["video"],Va(wm(d)));const p=r(i,["text"]);p!=null&&c(n,["text"],p);const h=r(i,["activityStart"]);h!=null&&c(n,["activityStart"],h);const g=r(i,["activityEnd"]);return g!=null&&c(n,["activityEnd"],g),n}function AT(i){const n={},o=r(i,["media"]);if(o!=null){let m=Nm(o);Array.isArray(m)&&(m=m.map(y=>y)),c(n,["mediaChunks"],m)}const a=r(i,["audio"]);a!=null&&c(n,["audio"],Im(a));const u=r(i,["audioStreamEnd"]);u!=null&&c(n,["audioStreamEnd"],u);const d=r(i,["video"]);d!=null&&c(n,["video"],wm(d));const p=r(i,["text"]);p!=null&&c(n,["text"],p);const h=r(i,["activityStart"]);h!=null&&c(n,["activityStart"],h);const g=r(i,["activityEnd"]);return g!=null&&c(n,["activityEnd"],g),n}function pT(i){const n={},o=r(i,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const a=r(i,["serverContent"]);a!=null&&c(n,["serverContent"],a);const u=r(i,["toolCall"]);u!=null&&c(n,["toolCall"],u);const d=r(i,["toolCallCancellation"]);d!=null&&c(n,["toolCallCancellation"],d);const p=r(i,["usageMetadata"]);p!=null&&c(n,["usageMetadata"],vT(p));const h=r(i,["goAway"]);h!=null&&c(n,["goAway"],h);const g=r(i,["sessionResumptionUpdate"]);return g!=null&&c(n,["sessionResumptionUpdate"],g),n}function mT(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],eT(d));const p=r(i,["functionCall"]);p!=null&&c(n,["functionCall"],tT(p));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const g=r(i,["inlineData"]);g!=null&&c(n,["inlineData"],Va(g));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const y=r(i,["thought"]);y!=null&&c(n,["thought"],y);const T=r(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function hT(i){const n={},o=r(i,["handle"]);if(o!=null&&c(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Bm(i){const n={},o=r(i,["languageCode"]);o!=null&&c(n,["languageCode"],o);const a=r(i,["voiceConfig"]);if(a!=null&&c(n,["voiceConfig"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function gT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],lT(h));const g=r(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],oT(g));const m=r(i,["urlContext"]);return m!=null&&c(n,["urlContext"],m),n}function yT(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>nT(E))),c(n,["functionDeclarations"],T)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(n,["codeExecution"],p);const h=r(i,["enterpriseWebSearch"]);h!=null&&c(n,["enterpriseWebSearch"],h);const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],g);const m=r(i,["googleSearch"]);m!=null&&c(n,["googleSearch"],m);const y=r(i,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}function vT(i){const n={},o=r(i,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const a=r(i,["cachedContentTokenCount"]);a!=null&&c(n,["cachedContentTokenCount"],a);const u=r(i,["candidatesTokenCount"]);u!=null&&c(n,["responseTokenCount"],u);const d=r(i,["toolUsePromptTokenCount"]);d!=null&&c(n,["toolUsePromptTokenCount"],d);const p=r(i,["thoughtsTokenCount"]);p!=null&&c(n,["thoughtsTokenCount"],p);const h=r(i,["totalTokenCount"]);h!=null&&c(n,["totalTokenCount"],h);const g=r(i,["promptTokensDetails"]);if(g!=null){let x=g;Array.isArray(x)&&(x=x.map(U=>U)),c(n,["promptTokensDetails"],x)}const m=r(i,["cacheTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(U=>U)),c(n,["cacheTokensDetails"],x)}const y=r(i,["candidatesTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(U=>U)),c(n,["responseTokensDetails"],x)}const T=r(i,["toolUsePromptTokensDetails"]);if(T!=null){let x=T;Array.isArray(x)&&(x=x.map(U=>U)),c(n,["toolUsePromptTokensDetails"],x)}const E=r(i,["trafficType"]);return E!=null&&c(n,["trafficType"],E),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TT(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function ST(i){const n={},o=r(i,["content"]);o!=null&&c(n,["content"],o);const a=r(i,["citationMetadata"]);a!=null&&c(n,["citationMetadata"],ET(a));const u=r(i,["tokenCount"]);u!=null&&c(n,["tokenCount"],u);const d=r(i,["finishReason"]);d!=null&&c(n,["finishReason"],d);const p=r(i,["avgLogprobs"]);p!=null&&c(n,["avgLogprobs"],p);const h=r(i,["groundingMetadata"]);h!=null&&c(n,["groundingMetadata"],h);const g=r(i,["index"]);g!=null&&c(n,["index"],g);const m=r(i,["logprobsResult"]);m!=null&&c(n,["logprobsResult"],m);const y=r(i,["safetyRatings"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(x=>x)),c(n,["safetyRatings"],E)}const T=r(i,["urlContextMetadata"]);return T!=null&&c(n,["urlContextMetadata"],T),n}function ET(i){const n={},o=r(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>u)),c(n,["citations"],a)}return n}function CT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["contents"]);if(u!=null){let d=Kt(u);Array.isArray(d)&&(d=d.map(p=>p)),c(o,["contents"],d)}return o}function _T(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["tokensInfo"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["tokensInfo"],u)}return n}function xT(i){const n={},o=r(i,["values"]);o!=null&&c(n,["values"],o);const a=r(i,["statistics"]);return a!=null&&c(n,["statistics"],MT(a)),n}function MT(i){const n={},o=r(i,["truncated"]);o!=null&&c(n,["truncated"],o);const a=r(i,["token_count"]);return a!=null&&c(n,["tokenCount"],a),n}function Fa(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>zS(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function RT(i){const n={},o=r(i,["controlType"]);o!=null&&c(n,["controlType"],o);const a=r(i,["enableControlImageComputation"]);return a!=null&&c(n,["computeControl"],a),n}function NT(i){const n={};if(r(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function wT(i,n){const o={},a=r(i,["systemInstruction"]);n!==void 0&&a!=null&&c(n,["systemInstruction"],pt(a));const u=r(i,["tools"]);if(n!==void 0&&u!=null){let p=u;Array.isArray(p)&&(p=p.map(h=>Jm(h))),c(n,["tools"],p)}const d=r(i,["generationConfig"]);return n!==void 0&&d!=null&&c(n,["generationConfig"],TS(d)),o}function IT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["contents"]);if(u!=null){let p=Kt(u);Array.isArray(p)&&(p=p.map(h=>Fa(h))),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&NT(d),o}function DT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["contents"]);if(u!=null){let p=Kt(u);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&wT(d,o),o}function bT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["totalTokens"]);a!=null&&c(n,["totalTokens"],a);const u=r(i,["cachedContentTokenCount"]);return u!=null&&c(n,["cachedContentTokenCount"],u),n}function UT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["totalTokens"]);return a!=null&&c(n,["totalTokens"],a),n}function LT(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],De(i,a)),o}function zT(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],De(i,a)),o}function GT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function qT(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function HT(i,n){const o={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const p=r(i,["aspectRatio"]);n!==void 0&&p!=null&&c(n,["parameters","aspectRatio"],p);const h=r(i,["guidanceScale"]);n!==void 0&&h!=null&&c(n,["parameters","guidanceScale"],h);const g=r(i,["seed"]);n!==void 0&&g!=null&&c(n,["parameters","seed"],g);const m=r(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&c(n,["parameters","safetySetting"],m);const y=r(i,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const T=r(i,["includeSafetyAttributes"]);n!==void 0&&T!=null&&c(n,["parameters","includeSafetyAttributes"],T);const E=r(i,["includeRaiReason"]);n!==void 0&&E!=null&&c(n,["parameters","includeRaiReason"],E);const x=r(i,["language"]);n!==void 0&&x!=null&&c(n,["parameters","language"],x);const U=r(i,["outputMimeType"]);n!==void 0&&U!=null&&c(n,["parameters","outputOptions","mimeType"],U);const z=r(i,["outputCompressionQuality"]);n!==void 0&&z!=null&&c(n,["parameters","outputOptions","compressionQuality"],z);const k=r(i,["addWatermark"]);n!==void 0&&k!=null&&c(n,["parameters","addWatermark"],k);const Y=r(i,["labels"]);n!==void 0&&Y!=null&&c(n,["labels"],Y);const Q=r(i,["editMode"]);n!==void 0&&Q!=null&&c(n,["parameters","editMode"],Q);const J=r(i,["baseSteps"]);return n!==void 0&&J!=null&&c(n,["parameters","editConfig","baseSteps"],J),o}function VT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["referenceImages"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>BS(g))),c(o,["instances[0]","referenceImages"],h)}const p=r(n,["config"]);return p!=null&&HT(p,o),o}function PT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Oa(d))),c(n,["generatedImages"],u)}return n}function BT(i,n){const o={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["requests[]","taskType"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["requests[]","title"],u);const d=r(i,["outputDimensionality"]);if(n!==void 0&&d!=null&&c(n,["requests[]","outputDimensionality"],d),r(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function kT(i,n){const o={},a=r(i,["taskType"]);n!==void 0&&a!=null&&c(n,["instances[]","task_type"],a);const u=r(i,["title"]);n!==void 0&&u!=null&&c(n,["instances[]","title"],u);const d=r(i,["outputDimensionality"]);n!==void 0&&d!=null&&c(n,["parameters","outputDimensionality"],d);const p=r(i,["mimeType"]);n!==void 0&&p!=null&&c(n,["instances[]","mimeType"],p);const h=r(i,["autoTruncate"]);return n!==void 0&&h!=null&&c(n,["parameters","autoTruncate"],h),o}function YT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["contents"]);if(u!=null){let h=zu(i,u);Array.isArray(h)&&(h=h.map(g=>g)),c(o,["requests[]","content"],h)}const d=r(n,["config"]);d!=null&&BT(d,o);const p=r(n,["model"]);return p!==void 0&&c(o,["requests[]","model"],De(i,p)),o}function FT(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["contents"]);if(u!=null){let p=zu(i,u);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["instances[]","content"],p)}const d=r(n,["config"]);return d!=null&&kT(d,o),o}function OT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function JT(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions[]","embeddings"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>xT(p))),c(n,["embeddings"],d)}const u=r(i,["metadata"]);return u!=null&&c(n,["metadata"],u),n}function KT(i){const n={},o=r(i,["endpoint"]);o!=null&&c(n,["name"],o);const a=r(i,["deployedModelId"]);return a!=null&&c(n,["deployedModelId"],a),n}function QT(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function XT(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function ZT(i){const n={},o=r(i,["mode"]);o!=null&&c(n,["mode"],o);const a=r(i,["allowedFunctionNames"]);if(a!=null&&c(n,["allowedFunctionNames"],a),r(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function WT(i){const n={};if(r(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=r(i,["description"]);o!=null&&c(n,["description"],o);const a=r(i,["name"]);a!=null&&c(n,["name"],a);const u=r(i,["parameters"]);u!=null&&c(n,["parameters"],u);const d=r(i,["parametersJsonSchema"]);d!=null&&c(n,["parametersJsonSchema"],d);const p=r(i,["response"]);p!=null&&c(n,["response"],p);const h=r(i,["responseJsonSchema"]);return h!=null&&c(n,["responseJsonSchema"],h),n}function $T(i,n,o){const a={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],Fa(pt(u)));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const p=r(n,["topP"]);p!=null&&c(a,["topP"],p);const h=r(n,["topK"]);h!=null&&c(a,["topK"],h);const g=r(n,["candidateCount"]);g!=null&&c(a,["candidateCount"],g);const m=r(n,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const y=r(n,["stopSequences"]);y!=null&&c(a,["stopSequences"],y);const T=r(n,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=r(n,["logprobs"]);E!=null&&c(a,["logprobs"],E);const x=r(n,["presencePenalty"]);x!=null&&c(a,["presencePenalty"],x);const U=r(n,["frequencyPenalty"]);U!=null&&c(a,["frequencyPenalty"],U);const z=r(n,["seed"]);z!=null&&c(a,["seed"],z);const k=r(n,["responseMimeType"]);k!=null&&c(a,["responseMimeType"],k);const Y=r(n,["responseSchema"]);Y!=null&&c(a,["responseSchema"],Gu(Y));const Q=r(n,["responseJsonSchema"]);if(Q!=null&&c(a,["responseJsonSchema"],Q),r(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=r(n,["safetySettings"]);if(o!==void 0&&J!=null){let te=J;Array.isArray(te)&&(te=te.map(Se=>kS(Se))),c(o,["safetySettings"],te)}const ee=r(n,["tools"]);if(o!==void 0&&ee!=null){let te=yl(ee);Array.isArray(te)&&(te=te.map(Se=>XS(gl(Se)))),c(o,["tools"],te)}const O=r(n,["toolConfig"]);if(o!==void 0&&O!=null&&c(o,["toolConfig"],QS(O)),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const X=r(n,["cachedContent"]);o!==void 0&&X!=null&&c(o,["cachedContent"],Mn(i,X));const B=r(n,["responseModalities"]);B!=null&&c(a,["responseModalities"],B);const j=r(n,["mediaResolution"]);j!=null&&c(a,["mediaResolution"],j);const W=r(n,["speechConfig"]);if(W!=null&&c(a,["speechConfig"],qu(W)),r(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const se=r(n,["thinkingConfig"]);se!=null&&c(a,["thinkingConfig"],se);const me=r(n,["imageConfig"]);return me!=null&&c(a,["imageConfig"],xS(me)),a}function jT(i,n,o){const a={},u=r(n,["systemInstruction"]);o!==void 0&&u!=null&&c(o,["systemInstruction"],pt(u));const d=r(n,["temperature"]);d!=null&&c(a,["temperature"],d);const p=r(n,["topP"]);p!=null&&c(a,["topP"],p);const h=r(n,["topK"]);h!=null&&c(a,["topK"],h);const g=r(n,["candidateCount"]);g!=null&&c(a,["candidateCount"],g);const m=r(n,["maxOutputTokens"]);m!=null&&c(a,["maxOutputTokens"],m);const y=r(n,["stopSequences"]);y!=null&&c(a,["stopSequences"],y);const T=r(n,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=r(n,["logprobs"]);E!=null&&c(a,["logprobs"],E);const x=r(n,["presencePenalty"]);x!=null&&c(a,["presencePenalty"],x);const U=r(n,["frequencyPenalty"]);U!=null&&c(a,["frequencyPenalty"],U);const z=r(n,["seed"]);z!=null&&c(a,["seed"],z);const k=r(n,["responseMimeType"]);k!=null&&c(a,["responseMimeType"],k);const Y=r(n,["responseSchema"]);Y!=null&&c(a,["responseSchema"],Gu(Y));const Q=r(n,["responseJsonSchema"]);Q!=null&&c(a,["responseJsonSchema"],Q);const J=r(n,["routingConfig"]);J!=null&&c(a,["routingConfig"],J);const ee=r(n,["modelSelectionConfig"]);ee!=null&&c(a,["modelConfig"],ee);const O=r(n,["safetySettings"]);if(o!==void 0&&O!=null){let L=O;Array.isArray(L)&&(L=L.map(Z=>Z)),c(o,["safetySettings"],L)}const X=r(n,["tools"]);if(o!==void 0&&X!=null){let L=yl(X);Array.isArray(L)&&(L=L.map(Z=>Jm(gl(Z)))),c(o,["tools"],L)}const B=r(n,["toolConfig"]);o!==void 0&&B!=null&&c(o,["toolConfig"],B);const j=r(n,["labels"]);o!==void 0&&j!=null&&c(o,["labels"],j);const W=r(n,["cachedContent"]);o!==void 0&&W!=null&&c(o,["cachedContent"],Mn(i,W));const se=r(n,["responseModalities"]);se!=null&&c(a,["responseModalities"],se);const me=r(n,["mediaResolution"]);me!=null&&c(a,["mediaResolution"],me);const te=r(n,["speechConfig"]);te!=null&&c(a,["speechConfig"],Om(qu(te)));const Se=r(n,["audioTimestamp"]);Se!=null&&c(a,["audioTimestamp"],Se);const Ne=r(n,["thinkingConfig"]);Ne!=null&&c(a,["thinkingConfig"],Ne);const he=r(n,["imageConfig"]);return he!=null&&c(a,["imageConfig"],MS(he)),a}function sm(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["contents"]);if(u!=null){let p=Kt(u);Array.isArray(p)&&(p=p.map(h=>Fa(h))),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&c(o,["generationConfig"],$T(i,d,o)),o}function rm(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["contents"]);if(u!=null){let p=Kt(u);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["contents"],p)}const d=r(n,["config"]);return d!=null&&c(o,["generationConfig"],jT(i,d,o)),o}function um(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(m=>ST(m))),c(n,["candidates"],g)}const u=r(i,["modelVersion"]);u!=null&&c(n,["modelVersion"],u);const d=r(i,["promptFeedback"]);d!=null&&c(n,["promptFeedback"],d);const p=r(i,["responseId"]);p!=null&&c(n,["responseId"],p);const h=r(i,["usageMetadata"]);return h!=null&&c(n,["usageMetadata"],h),n}function cm(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["candidates"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(y=>y)),c(n,["candidates"],m)}const u=r(i,["createTime"]);u!=null&&c(n,["createTime"],u);const d=r(i,["modelVersion"]);d!=null&&c(n,["modelVersion"],d);const p=r(i,["promptFeedback"]);p!=null&&c(n,["promptFeedback"],p);const h=r(i,["responseId"]);h!=null&&c(n,["responseId"],h);const g=r(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function eS(i,n){const o={};if(r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=r(i,["numberOfImages"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["aspectRatio"]);n!==void 0&&u!=null&&c(n,["parameters","aspectRatio"],u);const d=r(i,["guidanceScale"]);if(n!==void 0&&d!=null&&c(n,["parameters","guidanceScale"],d),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=r(i,["safetyFilterLevel"]);n!==void 0&&p!=null&&c(n,["parameters","safetySetting"],p);const h=r(i,["personGeneration"]);n!==void 0&&h!=null&&c(n,["parameters","personGeneration"],h);const g=r(i,["includeSafetyAttributes"]);n!==void 0&&g!=null&&c(n,["parameters","includeSafetyAttributes"],g);const m=r(i,["includeRaiReason"]);n!==void 0&&m!=null&&c(n,["parameters","includeRaiReason"],m);const y=r(i,["language"]);n!==void 0&&y!=null&&c(n,["parameters","language"],y);const T=r(i,["outputMimeType"]);n!==void 0&&T!=null&&c(n,["parameters","outputOptions","mimeType"],T);const E=r(i,["outputCompressionQuality"]);if(n!==void 0&&E!=null&&c(n,["parameters","outputOptions","compressionQuality"],E),r(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=r(i,["imageSize"]);if(n!==void 0&&x!=null&&c(n,["parameters","sampleImageSize"],x),r(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function tS(i,n){const o={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["negativePrompt"]);n!==void 0&&u!=null&&c(n,["parameters","negativePrompt"],u);const d=r(i,["numberOfImages"]);n!==void 0&&d!=null&&c(n,["parameters","sampleCount"],d);const p=r(i,["aspectRatio"]);n!==void 0&&p!=null&&c(n,["parameters","aspectRatio"],p);const h=r(i,["guidanceScale"]);n!==void 0&&h!=null&&c(n,["parameters","guidanceScale"],h);const g=r(i,["seed"]);n!==void 0&&g!=null&&c(n,["parameters","seed"],g);const m=r(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&c(n,["parameters","safetySetting"],m);const y=r(i,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const T=r(i,["includeSafetyAttributes"]);n!==void 0&&T!=null&&c(n,["parameters","includeSafetyAttributes"],T);const E=r(i,["includeRaiReason"]);n!==void 0&&E!=null&&c(n,["parameters","includeRaiReason"],E);const x=r(i,["language"]);n!==void 0&&x!=null&&c(n,["parameters","language"],x);const U=r(i,["outputMimeType"]);n!==void 0&&U!=null&&c(n,["parameters","outputOptions","mimeType"],U);const z=r(i,["outputCompressionQuality"]);n!==void 0&&z!=null&&c(n,["parameters","outputOptions","compressionQuality"],z);const k=r(i,["addWatermark"]);n!==void 0&&k!=null&&c(n,["parameters","addWatermark"],k);const Y=r(i,["labels"]);n!==void 0&&Y!=null&&c(n,["labels"],Y);const Q=r(i,["imageSize"]);n!==void 0&&Q!=null&&c(n,["parameters","sampleImageSize"],Q);const J=r(i,["enhancePrompt"]);return n!==void 0&&J!=null&&c(n,["parameters","enhancePrompt"],J),o}function nS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&eS(d,o),o}function iS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["config"]);return d!=null&&tS(d,o),o}function lS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>hS(p))),c(n,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],Ym(u)),n}function oS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>Oa(p))),c(n,["generatedImages"],d)}const u=r(i,["positivePromptSafetyAttributes"]);return u!=null&&c(n,["positivePromptSafetyAttributes"],Fm(u)),n}function aS(i,n){const o={},a=r(i,["numberOfVideos"]);if(n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a),r(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=r(i,["durationSeconds"]);if(n!==void 0&&u!=null&&c(n,["parameters","durationSeconds"],u),r(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=r(i,["aspectRatio"]);n!==void 0&&d!=null&&c(n,["parameters","aspectRatio"],d);const p=r(i,["resolution"]);n!==void 0&&p!=null&&c(n,["parameters","resolution"],p);const h=r(i,["personGeneration"]);if(n!==void 0&&h!=null&&c(n,["parameters","personGeneration"],h),r(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=r(i,["negativePrompt"]);n!==void 0&&g!=null&&c(n,["parameters","negativePrompt"],g);const m=r(i,["enhancePrompt"]);if(n!==void 0&&m!=null&&c(n,["parameters","enhancePrompt"],m),r(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=r(i,["lastFrame"]);n!==void 0&&y!=null&&c(n,["instances[0]","lastFrame"],Ja(y));const T=r(i,["referenceImages"]);if(n!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(x=>rE(x))),c(n,["instances[0]","referenceImages"],E)}if(r(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function sS(i,n){const o={},a=r(i,["numberOfVideos"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["outputGcsUri"]);n!==void 0&&u!=null&&c(n,["parameters","storageUri"],u);const d=r(i,["fps"]);n!==void 0&&d!=null&&c(n,["parameters","fps"],d);const p=r(i,["durationSeconds"]);n!==void 0&&p!=null&&c(n,["parameters","durationSeconds"],p);const h=r(i,["seed"]);n!==void 0&&h!=null&&c(n,["parameters","seed"],h);const g=r(i,["aspectRatio"]);n!==void 0&&g!=null&&c(n,["parameters","aspectRatio"],g);const m=r(i,["resolution"]);n!==void 0&&m!=null&&c(n,["parameters","resolution"],m);const y=r(i,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const T=r(i,["pubsubTopic"]);n!==void 0&&T!=null&&c(n,["parameters","pubsubTopic"],T);const E=r(i,["negativePrompt"]);n!==void 0&&E!=null&&c(n,["parameters","negativePrompt"],E);const x=r(i,["enhancePrompt"]);n!==void 0&&x!=null&&c(n,["parameters","enhancePrompt"],x);const U=r(i,["generateAudio"]);n!==void 0&&U!=null&&c(n,["parameters","generateAudio"],U);const z=r(i,["lastFrame"]);n!==void 0&&z!=null&&c(n,["instances[0]","lastFrame"],$t(z));const k=r(i,["referenceImages"]);if(n!==void 0&&k!=null){let J=k;Array.isArray(J)&&(J=J.map(ee=>uE(ee))),c(n,["instances[0]","referenceImages"],J)}const Y=r(i,["mask"]);n!==void 0&&Y!=null&&c(n,["instances[0]","mask"],sE(Y));const Q=r(i,["compressionQuality"]);return n!==void 0&&Q!=null&&c(n,["parameters","compressionQuality"],Q),o}function rS(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response","generateVideoResponse"]);return p!=null&&c(n,["response"],dS(p)),n}function uS(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response"]);return p!=null&&c(n,["response"],AS(p)),n}function cS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(o,["instances[0]","image"],Ja(d));const p=r(n,["video"]);p!=null&&c(o,["instances[0]","video"],Km(p));const h=r(n,["source"]);h!=null&&pS(h,o);const g=r(n,["config"]);return g!=null&&aS(g,o),o}function fS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["prompt"]);u!=null&&c(o,["instances[0]","prompt"],u);const d=r(n,["image"]);d!=null&&c(o,["instances[0]","image"],$t(d));const p=r(n,["video"]);p!=null&&c(o,["instances[0]","video"],Qm(p));const h=r(n,["source"]);h!=null&&mS(h,o);const g=r(n,["config"]);return g!=null&&sS(g,o),o}function dS(i){const n={},o=r(i,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>yS(p))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function AS(i){const n={},o=r(i,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(p=>vS(p))),c(n,["generatedVideos"],d)}const a=r(i,["raiMediaFilteredCount"]);a!=null&&c(n,["raiMediaFilteredCount"],a);const u=r(i,["raiMediaFilteredReasons"]);return u!=null&&c(n,["raiMediaFilteredReasons"],u),n}function pS(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],Ja(u));const d=r(i,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],Km(d)),o}function mS(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],$t(u));const d=r(i,["video"]);return n!==void 0&&d!=null&&c(n,["instances[0]","video"],Qm(d)),o}function hS(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["image"],RS(o));const a=r(i,["raiFilteredReason"]);a!=null&&c(n,["raiFilteredReason"],a);const u=r(i,["_self"]);return u!=null&&c(n,["safetyAttributes"],Ym(u)),n}function Oa(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["image"],km(o));const a=r(i,["raiFilteredReason"]);a!=null&&c(n,["raiFilteredReason"],a);const u=r(i,["_self"]);u!=null&&c(n,["safetyAttributes"],Fm(u));const d=r(i,["prompt"]);return d!=null&&c(n,["enhancedPrompt"],d),n}function gS(i){const n={},o=r(i,["_self"]);o!=null&&c(n,["mask"],km(o));const a=r(i,["labels"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(n,["labels"],u)}return n}function yS(i){const n={},o=r(i,["video"]);return o!=null&&c(n,["video"],oE(o)),n}function vS(i){const n={},o=r(i,["_self"]);return o!=null&&c(n,["video"],aE(o)),n}function TS(i){const n={},o=r(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const a=r(i,["responseJsonSchema"]);a!=null&&c(n,["responseJsonSchema"],a);const u=r(i,["audioTimestamp"]);u!=null&&c(n,["audioTimestamp"],u);const d=r(i,["candidateCount"]);d!=null&&c(n,["candidateCount"],d);const p=r(i,["enableAffectiveDialog"]);p!=null&&c(n,["enableAffectiveDialog"],p);const h=r(i,["frequencyPenalty"]);h!=null&&c(n,["frequencyPenalty"],h);const g=r(i,["logprobs"]);g!=null&&c(n,["logprobs"],g);const m=r(i,["maxOutputTokens"]);m!=null&&c(n,["maxOutputTokens"],m);const y=r(i,["mediaResolution"]);y!=null&&c(n,["mediaResolution"],y);const T=r(i,["presencePenalty"]);T!=null&&c(n,["presencePenalty"],T);const E=r(i,["responseLogprobs"]);E!=null&&c(n,["responseLogprobs"],E);const x=r(i,["responseMimeType"]);x!=null&&c(n,["responseMimeType"],x);const U=r(i,["responseModalities"]);U!=null&&c(n,["responseModalities"],U);const z=r(i,["responseSchema"]);z!=null&&c(n,["responseSchema"],z);const k=r(i,["routingConfig"]);k!=null&&c(n,["routingConfig"],k);const Y=r(i,["seed"]);Y!=null&&c(n,["seed"],Y);const Q=r(i,["speechConfig"]);Q!=null&&c(n,["speechConfig"],Om(Q));const J=r(i,["stopSequences"]);J!=null&&c(n,["stopSequences"],J);const ee=r(i,["temperature"]);ee!=null&&c(n,["temperature"],ee);const O=r(i,["thinkingConfig"]);O!=null&&c(n,["thinkingConfig"],O);const X=r(i,["topK"]);X!=null&&c(n,["topK"],X);const B=r(i,["topP"]);if(B!=null&&c(n,["topP"],B),r(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function SS(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],De(i,a)),o}function ES(i,n){const o={},a=r(n,["model"]);return a!=null&&c(o,["_url","name"],De(i,a)),o}function CS(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function _S(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function xS(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const a=r(i,["imageSize"]);if(a!=null&&c(n,["imageSize"],a),r(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(r(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function MS(i){const n={},o=r(i,["aspectRatio"]);o!=null&&c(n,["aspectRatio"],o);const a=r(i,["imageSize"]);a!=null&&c(n,["imageSize"],a);const u=r(i,["outputMimeType"]);u!=null&&c(n,["imageOutputOptions","mimeType"],u);const d=r(i,["outputCompressionQuality"]);return d!=null&&c(n,["imageOutputOptions","compressionQuality"],d),n}function RS(i){const n={},o=r(i,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],ei(o));const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function km(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["imageBytes"],ei(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function Ja(i){const n={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=r(i,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],ei(o));const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function $t(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const a=r(i,["imageBytes"]);a!=null&&c(n,["bytesBase64Encoded"],ei(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function NS(i,n,o){const a={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=r(n,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const h=r(n,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],Lm(i,h)),a}function wS(i,n,o){const a={},u=r(n,["pageSize"]);o!==void 0&&u!=null&&c(o,["_query","pageSize"],u);const d=r(n,["pageToken"]);o!==void 0&&d!=null&&c(o,["_query","pageToken"],d);const p=r(n,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const h=r(n,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],Lm(i,h)),a}function IS(i,n){const o={},a=r(n,["config"]);return a!=null&&NS(i,a,o),o}function DS(i,n){const o={},a=r(n,["config"]);return a!=null&&wS(i,a,o),o}function bS(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=zm(u);Array.isArray(d)&&(d=d.map(p=>_u(p))),c(n,["models"],d)}return n}function US(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["_self"]);if(u!=null){let d=zm(u);Array.isArray(d)&&(d=d.map(p=>xu(p))),c(n,["models"],d)}return n}function LS(i){const n={},o=r(i,["maskMode"]);o!=null&&c(n,["maskMode"],o);const a=r(i,["segmentationClasses"]);a!=null&&c(n,["maskClasses"],a);const u=r(i,["maskDilation"]);return u!=null&&c(n,["dilation"],u),n}function _u(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const d=r(i,["version"]);d!=null&&c(n,["version"],d);const p=r(i,["_self"]);p!=null&&c(n,["tunedModelInfo"],ZS(p));const h=r(i,["inputTokenLimit"]);h!=null&&c(n,["inputTokenLimit"],h);const g=r(i,["outputTokenLimit"]);g!=null&&c(n,["outputTokenLimit"],g);const m=r(i,["supportedGenerationMethods"]);m!=null&&c(n,["supportedActions"],m);const y=r(i,["temperature"]);y!=null&&c(n,["temperature"],y);const T=r(i,["maxTemperature"]);T!=null&&c(n,["maxTemperature"],T);const E=r(i,["topP"]);E!=null&&c(n,["topP"],E);const x=r(i,["topK"]);x!=null&&c(n,["topK"],x);const U=r(i,["thinking"]);return U!=null&&c(n,["thinking"],U),n}function xu(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["displayName"]);a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);u!=null&&c(n,["description"],u);const d=r(i,["versionId"]);d!=null&&c(n,["version"],d);const p=r(i,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>KT(E))),c(n,["endpoints"],T)}const h=r(i,["labels"]);h!=null&&c(n,["labels"],h);const g=r(i,["_self"]);g!=null&&c(n,["tunedModelInfo"],WS(g));const m=r(i,["defaultCheckpointId"]);m!=null&&c(n,["defaultCheckpointId"],m);const y=r(i,["checkpoints"]);if(y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>E)),c(n,["checkpoints"],T)}return n}function zS(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],QT(d));const p=r(i,["functionCall"]);p!=null&&c(n,["functionCall"],XT(p));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const g=r(i,["inlineData"]);g!=null&&c(n,["inlineData"],TT(g));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const y=r(i,["thought"]);y!=null&&c(n,["thought"],y);const T=r(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function GS(i){const n={},o=r(i,["productImage"]);return o!=null&&c(n,["image"],$t(o)),n}function qS(i,n){const o={},a=r(i,["numberOfImages"]);n!==void 0&&a!=null&&c(n,["parameters","sampleCount"],a);const u=r(i,["baseSteps"]);n!==void 0&&u!=null&&c(n,["parameters","baseSteps"],u);const d=r(i,["outputGcsUri"]);n!==void 0&&d!=null&&c(n,["parameters","storageUri"],d);const p=r(i,["seed"]);n!==void 0&&p!=null&&c(n,["parameters","seed"],p);const h=r(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const g=r(i,["personGeneration"]);n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g);const m=r(i,["addWatermark"]);n!==void 0&&m!=null&&c(n,["parameters","addWatermark"],m);const y=r(i,["outputMimeType"]);n!==void 0&&y!=null&&c(n,["parameters","outputOptions","mimeType"],y);const T=r(i,["outputCompressionQuality"]);n!==void 0&&T!=null&&c(n,["parameters","outputOptions","compressionQuality"],T);const E=r(i,["enhancePrompt"]);n!==void 0&&E!=null&&c(n,["parameters","enhancePrompt"],E);const x=r(i,["labels"]);return n!==void 0&&x!=null&&c(n,["labels"],x),o}function HS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["source"]);u!=null&&PS(u,o);const d=r(n,["config"]);return d!=null&&qS(d,o),o}function VS(i){const n={},o=r(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>Oa(u))),c(n,["generatedImages"],a)}return n}function PS(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["personImage"]);n!==void 0&&u!=null&&c(n,["instances[0]","personImage","image"],$t(u));const d=r(i,["productImages"]);if(n!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>GS(h))),c(n,["instances[0]","productImages"],p)}return o}function BS(i){const n={},o=r(i,["referenceImage"]);o!=null&&c(n,["referenceImage"],$t(o));const a=r(i,["referenceId"]);a!=null&&c(n,["referenceId"],a);const u=r(i,["referenceType"]);u!=null&&c(n,["referenceType"],u);const d=r(i,["maskImageConfig"]);d!=null&&c(n,["maskImageConfig"],LS(d));const p=r(i,["controlImageConfig"]);p!=null&&c(n,["controlImageConfig"],RT(p));const h=r(i,["styleImageConfig"]);h!=null&&c(n,["styleImageConfig"],h);const g=r(i,["subjectImageConfig"]);return g!=null&&c(n,["subjectImageConfig"],g),n}function Ym(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(n,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function Fm(i){const n={},o=r(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const a=r(i,["safetyAttributes","scores"]);a!=null&&c(n,["scores"],a);const u=r(i,["contentType"]);return u!=null&&c(n,["contentType"],u),n}function kS(i){const n={},o=r(i,["category"]);if(o!=null&&c(n,["category"],o),r(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=r(i,["threshold"]);return a!=null&&c(n,["threshold"],a),n}function YS(i){const n={},o=r(i,["image"]);return o!=null&&c(n,["image"],$t(o)),n}function FS(i,n){const o={},a=r(i,["mode"]);n!==void 0&&a!=null&&c(n,["parameters","mode"],a);const u=r(i,["maxPredictions"]);n!==void 0&&u!=null&&c(n,["parameters","maxPredictions"],u);const d=r(i,["confidenceThreshold"]);n!==void 0&&d!=null&&c(n,["parameters","confidenceThreshold"],d);const p=r(i,["maskDilation"]);n!==void 0&&p!=null&&c(n,["parameters","maskDilation"],p);const h=r(i,["binaryColorThreshold"]);n!==void 0&&h!=null&&c(n,["parameters","binaryColorThreshold"],h);const g=r(i,["labels"]);return n!==void 0&&g!=null&&c(n,["labels"],g),o}function OS(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["source"]);u!=null&&KS(u,o);const d=r(n,["config"]);return d!=null&&FS(d,o),o}function JS(i){const n={},o=r(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(u=>gS(u))),c(n,["generatedMasks"],a)}return n}function KS(i,n){const o={},a=r(i,["prompt"]);n!==void 0&&a!=null&&c(n,["instances[0]","prompt"],a);const u=r(i,["image"]);n!==void 0&&u!=null&&c(n,["instances[0]","image"],$t(u));const d=r(i,["scribbleImage"]);return n!==void 0&&d!=null&&c(n,["instances[0]","scribble"],YS(d)),o}function Om(i){const n={},o=r(i,["languageCode"]);o!=null&&c(n,["languageCode"],o);const a=r(i,["voiceConfig"]);if(a!=null&&c(n,["voiceConfig"],a),r(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function QS(i){const n={},o=r(i,["functionCallingConfig"]);o!=null&&c(n,["functionCallingConfig"],ZT(o));const a=r(i,["retrievalConfig"]);return a!=null&&c(n,["retrievalConfig"],a),n}function XS(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],CS(h));const g=r(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],_S(g));const m=r(i,["urlContext"]);return m!=null&&c(n,["urlContext"],m),n}function Jm(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(E=>WT(E))),c(n,["functionDeclarations"],T)}const a=r(i,["retrieval"]);a!=null&&c(n,["retrieval"],a);const u=r(i,["googleSearchRetrieval"]);u!=null&&c(n,["googleSearchRetrieval"],u);const d=r(i,["computerUse"]);if(d!=null&&c(n,["computerUse"],d),r(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const p=r(i,["codeExecution"]);p!=null&&c(n,["codeExecution"],p);const h=r(i,["enterpriseWebSearch"]);h!=null&&c(n,["enterpriseWebSearch"],h);const g=r(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],g);const m=r(i,["googleSearch"]);m!=null&&c(n,["googleSearch"],m);const y=r(i,["urlContext"]);return y!=null&&c(n,["urlContext"],y),n}function ZS(i){const n={},o=r(i,["baseModel"]);o!=null&&c(n,["baseModel"],o);const a=r(i,["createTime"]);a!=null&&c(n,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function WS(i){const n={},o=r(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(n,["baseModel"],o);const a=r(i,["createTime"]);a!=null&&c(n,["createTime"],a);const u=r(i,["updateTime"]);return u!=null&&c(n,["updateTime"],u),n}function $S(i,n){const o={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function jS(i,n){const o={},a=r(i,["displayName"]);n!==void 0&&a!=null&&c(n,["displayName"],a);const u=r(i,["description"]);n!==void 0&&u!=null&&c(n,["description"],u);const d=r(i,["defaultCheckpointId"]);return n!==void 0&&d!=null&&c(n,["defaultCheckpointId"],d),o}function eE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","name"],De(i,a));const u=r(n,["config"]);return u!=null&&$S(u,o),o}function tE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["config"]);return u!=null&&jS(u,o),o}function nE(i,n){const o={},a=r(i,["outputGcsUri"]);n!==void 0&&a!=null&&c(n,["parameters","storageUri"],a);const u=r(i,["safetyFilterLevel"]);n!==void 0&&u!=null&&c(n,["parameters","safetySetting"],u);const d=r(i,["personGeneration"]);n!==void 0&&d!=null&&c(n,["parameters","personGeneration"],d);const p=r(i,["includeRaiReason"]);n!==void 0&&p!=null&&c(n,["parameters","includeRaiReason"],p);const h=r(i,["outputMimeType"]);n!==void 0&&h!=null&&c(n,["parameters","outputOptions","mimeType"],h);const g=r(i,["outputCompressionQuality"]);n!==void 0&&g!=null&&c(n,["parameters","outputOptions","compressionQuality"],g);const m=r(i,["enhanceInputImage"]);n!==void 0&&m!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],m);const y=r(i,["imagePreservationFactor"]);n!==void 0&&y!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],y);const T=r(i,["labels"]);n!==void 0&&T!=null&&c(n,["labels"],T);const E=r(i,["numberOfImages"]);n!==void 0&&E!=null&&c(n,["parameters","sampleCount"],E);const x=r(i,["mode"]);return n!==void 0&&x!=null&&c(n,["parameters","mode"],x),o}function iE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["_url","model"],De(i,a));const u=r(n,["image"]);u!=null&&c(o,["instances[0]","image"],$t(u));const d=r(n,["upscaleFactor"]);d!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],d);const p=r(n,["config"]);return p!=null&&nE(p,o),o}function lE(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["predictions"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>Oa(d))),c(n,["generatedImages"],u)}return n}function oE(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const a=r(i,["encodedVideo"]);a!=null&&c(n,["videoBytes"],ei(a));const u=r(i,["encoding"]);return u!=null&&c(n,["mimeType"],u),n}function aE(i){const n={},o=r(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const a=r(i,["bytesBase64Encoded"]);a!=null&&c(n,["videoBytes"],ei(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}function sE(i){const n={},o=r(i,["image"]);o!=null&&c(n,["_self"],$t(o));const a=r(i,["maskMode"]);return a!=null&&c(n,["maskMode"],a),n}function rE(i){const n={},o=r(i,["image"]);o!=null&&c(n,["image"],Ja(o));const a=r(i,["referenceType"]);return a!=null&&c(n,["referenceType"],a),n}function uE(i){const n={},o=r(i,["image"]);o!=null&&c(n,["image"],$t(o));const a=r(i,["referenceType"]);return a!=null&&c(n,["referenceType"],a),n}function Km(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["uri"],o);const a=r(i,["videoBytes"]);a!=null&&c(n,["encodedVideo"],ei(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["encoding"],u),n}function Qm(i){const n={},o=r(i,["uri"]);o!=null&&c(n,["gcsUri"],o);const a=r(i,["videoBytes"]);a!=null&&c(n,["bytesBase64Encoded"],ei(a));const u=r(i,["mimeType"]);return u!=null&&c(n,["mimeType"],u),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cE="Content-Type",fE="X-Server-Timeout",dE="User-Agent",Mu="x-goog-api-client",AE="1.30.0",pE=`google-genai-sdk/${AE}`,mE="v1beta1",hE="v1beta",fm=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class gE{constructor(n){var o,a;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:mE,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:hE,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&a.push(n.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,a){const u=[this.getRequestUrlInternal(o)];return a&&u.push(this.getBaseResourcePath()),n!==""&&u.push(n),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,a);if(n.queryParams)for(const[p,h]of Object.entries(n.queryParams))u.searchParams.append(p,String(h));let d={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=n.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),n.abortSignal),this.unaryApiCall(u,d,n.httpMethod)}patchHttpOptions(n,o){const a=JSON.parse(JSON.stringify(n));for(const[u,d]of Object.entries(o))typeof d=="object"?a[u]=Object.assign(Object.assign({},a[u]),d):d!==void 0&&(a[u]=d);return a}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const a=this.shouldPrependVertexProjectPath(n),u=this.constructUrl(n.path,o,a);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=n.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,u.toString(),n.abortSignal),this.streamApiCall(u,d,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,a,u){if(o&&o.timeout||u){const d=new AbortController,p=d.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>d.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}u&&u.addEventListener("abort",()=>{d.abort()}),n.signal=p}return o&&o.extraBody!==null&&yE(n,o.extraBody),n.headers=await this.getHeadersInternal(o,a),n}async unaryApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await dm(u),new Su(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(n,o,a){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:a})).then(async u=>(await dm(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(n){var o;return pl(this,arguments,function*(){const u=(o=n==null?void 0:n.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let p="";for(;;){const{done:h,value:g}=yield Fe(u.read());if(h){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=d.decode(g,{stream:!0});try{const T=JSON.parse(m);if("error"in T){const E=JSON.parse(JSON.stringify(T.error)),x=E.status,U=E.code,z=`got status: ${x}. ${JSON.stringify(T)}`;if(U>=400&&U<600)throw new Ya({message:z,status:U})}}catch(T){if(T.name==="ApiError")throw T}p+=m;let y=p.match(fm);for(;y;){const T=y[1];try{const E=new Response(T,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Fe(new Su(E)),p=p.slice(y[0].length),y=p.match(fm)}catch(E){throw new Error(`exception parsing stream chunk ${T}. ${E}`)}}}}finally{u.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const n={},o=pE+" "+this.clientOptions.userAgentExtra;return n[dE]=o,n[Mu]=o,n[cE]="application/json",n}async getHeadersInternal(n,o){const a=new Headers;if(n&&n.headers){for(const[u,d]of Object.entries(n.headers))a.append(u,d);n.timeout&&n.timeout>0&&a.append(fE,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(n){var o;let a="";return typeof n=="string"&&(a=n.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(n,o){var a;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,p=await d.stat(n);u.sizeBytes=String(p.size);const h=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=h;const g={file:u},m=this.getFileName(n),y=$("upload/v1beta/files",g._url),T=await this.fetchUploadUrl(y,u.sizeBytes,u.mimeType,m,g,o==null?void 0:o.httpOptions);return d.upload(n,T,this)}async uploadFileToFileSearchStore(n,o,a){var u;const d=this.clientOptions.uploader,p=await d.stat(o),h=String(p.size),g=(u=a==null?void 0:a.mimeType)!==null&&u!==void 0?u:p.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${n}:uploadToFileSearchStore`,y=this.getFileName(o),T={};a!=null&&a.customMetadata&&(T.customMetadata=a.customMetadata),a!=null&&a.chunkingConfig&&(T.chunkingConfig=a.chunkingConfig);const E=await this.fetchUploadUrl(m,h,g,y,T,a==null?void 0:a.httpOptions);return d.uploadToFileSearchStore(o,E,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,a,u,d,p){var h;let g={};p?g=p:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},u?{"X-Goog-Upload-File-Name":u}:{})};const m=await this.request({path:n,body:JSON.stringify(d),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function dm(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const u=JSON.stringify(a);throw o>=400&&o<600?new Ya({message:u,status:o}):new Error(u)}}function yE(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const d=JSON.parse(i.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(d,p){const h=Object.assign({},d);for(const g in p)if(Object.prototype.hasOwnProperty.call(p,g)){const m=p[g],y=h[g];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?h[g]=a(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),h[g]=m)}return h}const u=a(o,n);i.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vE="mcp_used/unknown";let TE=!1;function Xm(i){for(const n of i)if(SE(n)||typeof n=="object"&&"inputSchema"in n)return!0;return TE}function Zm(i){var n;const o=(n=i[Mu])!==null&&n!==void 0?n:"";i[Mu]=(o+` ${vE}`).trimStart()}function SE(i){return i!==null&&typeof i=="object"&&i instanceof Vu}function EE(i,n=100){return pl(this,arguments,function*(){let a,u=0;for(;u<n;){const d=yield Fe(i.listTools({cursor:a}));for(const p of d.tools)yield yield Fe(p),u++;if(!d.nextCursor)break;a=d.nextCursor}})}class Vu{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new Vu(n,o)}async initialize(){var n,o,a,u;if(this.mcpTools.length>0)return;const d={},p=[];for(const y of this.mcpClients)try{for(var h=!0,g=(o=void 0,vo(EE(y))),m;m=await g.next(),n=m.done,!n;h=!0){u=m.value,h=!1;const T=u;p.push(T);const E=T.name;if(d[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);d[E]=y}}catch(T){o={error:T}}finally{try{!h&&!n&&(a=g.return)&&await a.call(g)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),p0(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const a of n)if(a.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[a.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const p=await u.callTool({name:a.name,arguments:a.args},void 0,d);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function CE(i,n,o){const a=new a0;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data),Object.assign(a,u),n(a)}class _E{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a}async connect(n){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),p=RE(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),g=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const y=new Promise(J=>{m=J}),T=n.callbacks,E=function(){m({})},x=this.apiClient,U={onopen:E,onmessage:J=>{CE(x,T.onmessage,J)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(J){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(J){}},z=this.webSocketFactory.create(g,ME(p),U);z.connect(),await y;const Q={setup:{model:De(this.apiClient,n.model)}};return z.send(JSON.stringify(Q)),new xE(z,this.apiClient)}}class xE{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=fT(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=cT(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(dl.PLAY)}pause(){this.sendPlaybackControl(dl.PAUSE)}stop(){this.sendPlaybackControl(dl.STOP)}resetContext(){this.sendPlaybackControl(dl.RESET_CONTEXT)}close(){this.conn.close()}}function ME(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function RE(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const NE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function wE(i,n,o){const a=new o0;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const d=JSON.parse(u);if(i.isVertexAI()){const p=pT(d);Object.assign(a,p)}else Object.assign(a,d);n(a)}class IE{constructor(n,o,a){this.apiClient=n,this.auth=o,this.webSocketFactory=a,this.music=new _E(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,a,u,d,p,h;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const T=this.apiClient.getHeaders();n.config&&n.config.tools&&Xm(n.config.tools)&&Zm(T);const E=LE(T);if(this.apiClient.isVertexAI())y=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,y);else{const W=this.apiClient.getApiKey();let se="BidiGenerateContent",me="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),se="BidiGenerateContentConstrained",me="access_token"),y=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${se}?${me}=${W}`}let x=()=>{};const U=new Promise(W=>{x=W}),z=n.callbacks,k=function(){var W;(W=z==null?void 0:z.onopen)===null||W===void 0||W.call(z),x({})},Y=this.apiClient,Q={onopen:k,onmessage:W=>{wE(Y,z.onmessage,W)},onerror:(o=z==null?void 0:z.onerror)!==null&&o!==void 0?o:function(W){},onclose:(a=z==null?void 0:z.onclose)!==null&&a!==void 0?a:function(W){}},J=this.webSocketFactory.create(y,UE(E),Q);J.connect(),await U;let ee=De(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&ee.startsWith("publishers/")){const W=this.apiClient.getProject(),se=this.apiClient.getLocation();ee=`projects/${W}/locations/${se}/`+ee}let O={};this.apiClient.isVertexAI()&&((u=n.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[hl.AUDIO]}:n.config.responseModalities=[hl.AUDIO]),!((d=n.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const X=(h=(p=n.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[],B=[];for(const W of X)if(this.isCallableTool(W)){const se=W;B.push(await se.tool())}else B.push(W);B.length>0&&(n.config.tools=B);const j={model:ee,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?O=uT(this.apiClient,j):O=rT(this.apiClient,j),delete O.config,J.send(JSON.stringify(O)),new bE(J,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const DE={turnComplete:!0};class bE{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Kt(o.turns),n.isVertexAI()||(a=a.map(u=>Fa(u)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const d of a){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!n.isVertexAI()&&!("id"in d))throw new Error(NE)}return{toolResponse:{functionResponses:a}}}sendClientContent(n){n=Object.assign(Object.assign({},DE),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:AT(n)}:o={realtimeInput:dT(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function UE(i){const n={};return i.forEach((o,a)=>{n[a]=o}),n}function LE(i){const n=new Headers;for(const[o,a]of Object.entries(i))n.append(o,a);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Am=10;function pm(i){var n,o,a;if(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let u=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(ml(p)){u=!0;break}if(!u)return!0;const d=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function ml(i){return"callTool"in i&&typeof i.callTool=="function"}function zE(i){var n,o,a;return(a=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(u=>ml(u)))!==null&&a!==void 0?a:!1}function mm(i){var n;const o=[];return!((n=i==null?void 0:i.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((a,u)=>{if(ml(a))return;const d=a;d.functionDeclarations&&d.functionDeclarations.length>0&&o.push(u)}),o}function hm(i){var n;return!(!((n=i==null?void 0:i.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class GE extends xn{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var a,u,d,p,h;const g=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!zE(o)||pm(o.config))return await this.generateContentInternal(g);const m=mm(o);if(m.length>0){const z=m.map(k=>`tools[${k}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${z}.`)}let y,T;const E=Kt(g.contents),x=(d=(u=(a=g.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:Am;let U=0;for(;U<x&&(y=await this.generateContentInternal(g),!(!y.functionCalls||y.functionCalls.length===0));){const z=y.candidates[0].content,k=[];for(const Y of(h=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[])if(ml(Y)){const J=await Y.callTool(y.functionCalls);k.push(...J)}U++,T={role:"user",parts:k},g.contents=Kt(g.contents),g.contents.push(z),g.contents.push(T),hm(g.config)&&(E.push(z),E.push(T))}return hm(g.config)&&(y.automaticFunctionCallingHistory=E),y},this.generateContentStream=async o=>{var a,u,d,p,h;if(this.maybeMoveToResponseJsonSchem(o),pm(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const g=mm(o);if(g.length>0){const T=g.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(d=(u=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||u===void 0?void 0:u.functionCallingConfig)===null||d===void 0?void 0:d.streamFunctionCallArguments,y=(h=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var u;let d;const p=[];if(a!=null&&a.generatedImages)for(const g of a.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((u=g==null?void 0:g.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=g==null?void 0:g.safetyAttributes:p.push(g);let h;return d?h={generatedImages:p,positivePromptSafetyAttributes:d,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new Ei(_n.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{var a,u,d,p,h,g;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((u=o.video)===null||u===void 0)&&u.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(d=o.source)===null||d===void 0?void 0:d.video)===null||p===void 0)&&p.uri&&(!((g=(h=o.source)===null||h===void 0?void 0:h.video)===null||g===void 0)&&g.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,a,u;const d=(o=n.config)===null||o===void 0?void 0:o.tools;if(!d)return n;const p=await Promise.all(d.map(async g=>ml(g)?await g.tool():g)),h={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:p})};if(h.config.tools=p,n.config&&n.config.tools&&Xm(n.config.tools)){const g=(u=(a=n.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&u!==void 0?u:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Zm(m),h.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(n){var o,a,u;const d=new Map;for(const p of(a=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(ml(p)){const h=p,g=await h.tool();for(const m of(u=g.functionDeclarations)!==null&&u!==void 0?u:[]){if(!m.name)throw new Error("Function declaration name is required.");if(d.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);d.set(m.name,h)}}return d}async processAfcStream(n){var o,a,u;const d=(u=(a=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&u!==void 0?u:Am;let p=!1,h=0;const g=await this.initAfcToolsMap(n);return(function(m,y,T){var E,x;return pl(this,arguments,function*(){for(var U,z,k,Y;h<d;){p&&(h++,p=!1);const O=yield Fe(m.processParamsMaybeAddMcpUsage(T)),X=yield Fe(m.generateContentStreamInternal(O)),B=[],j=[];try{for(var Q=!0,J=(z=void 0,vo(X)),ee;ee=yield Fe(J.next()),U=ee.done,!U;Q=!0){Y=ee.value,Q=!1;const W=Y;if(yield yield Fe(W),W.candidates&&(!((E=W.candidates[0])===null||E===void 0)&&E.content)){j.push(W.candidates[0].content);for(const se of(x=W.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(h<d&&se.functionCall){if(!se.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(se.functionCall.name)){const me=yield Fe(y.get(se.functionCall.name).callTool([se.functionCall]));B.push(...me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${se.functionCall.name}`)}}}}catch(W){z={error:W}}finally{try{!Q&&!U&&(k=J.return)&&(yield Fe(k.call(J)))}finally{if(z)throw z.error}}if(B.length>0){p=!0;const W=new yo;W.candidates=[{content:{role:"user",parts:B}}],yield yield Fe(W);const se=[];se.push(...j),se.push({role:"user",parts:B});const me=Kt(T.contents).concat(se);T.contents=me}else break}})})(this,g,n)}async generateContentInternal(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=rm(this.apiClient,n);return h=$("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=cm(y),E=new yo;return Object.assign(E,T),E})}else{const m=sm(this.apiClient,n);return h=$("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=um(y),E=new yo;return Object.assign(E,T),E})}}async generateContentStreamInternal(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=rm(this.apiClient,n);return h=$("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(T){return pl(this,arguments,function*(){var E,x,U,z;try{for(var k=!0,Y=vo(T),Q;Q=yield Fe(Y.next()),E=Q.done,!E;k=!0){z=Q.value,k=!1;const J=z,ee=cm(yield Fe(J.json()));ee.sdkHttpResponse={headers:J.headers};const O=new yo;Object.assign(O,ee),yield yield Fe(O)}}catch(J){x={error:J}}finally{try{!k&&!E&&(U=Y.return)&&(yield Fe(U.call(Y)))}finally{if(x)throw x.error}}})})}else{const m=sm(this.apiClient,n);return h=$("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.requestStream({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}),p.then(function(T){return pl(this,arguments,function*(){var E,x,U,z;try{for(var k=!0,Y=vo(T),Q;Q=yield Fe(Y.next()),E=Q.done,!E;k=!0){z=Q.value,k=!1;const J=z,ee=um(yield Fe(J.json()));ee.sdkHttpResponse={headers:J.headers};const O=new yo;Object.assign(O,ee),yield yield Fe(O)}}catch(J){x={error:J}}finally{try{!k&&!E&&(U=Y.return)&&(yield Fe(U.call(Y)))}finally{if(x)throw x.error}}})})}}async embedContent(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=FT(this.apiClient,n);return h=$("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=JT(y),E=new Op;return Object.assign(E,T),E})}else{const m=YT(this.apiClient,n);return h=$("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=OT(y),E=new Op;return Object.assign(E,T),E})}}async generateImagesInternal(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=iS(this.apiClient,n);return h=$("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=oS(y),E=new Jp;return Object.assign(E,T),E})}else{const m=nS(this.apiClient,n);return h=$("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=lS(y),E=new Jp;return Object.assign(E,T),E})}}async editImageInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=VT(this.apiClient,n);return d=$("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),u.then(g=>{const m=PT(g),y=new Qy;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=iE(this.apiClient,n);return d=$("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),u.then(g=>{const m=lE(g),y=new Xy;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=HS(this.apiClient,n);return d=$("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>{const m=VS(g),y=new Zy;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=OS(this.apiClient,n);return d=$("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>{const m=JS(g),y=new Wy;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=ES(this.apiClient,n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>xu(y))}else{const m=SS(this.apiClient,n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),p.then(y=>_u(y))}}async listInternal(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=DS(this.apiClient,n);return h=$("{models_url}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=US(y),E=new Kp;return Object.assign(E,T),E})}else{const m=IS(this.apiClient,n);return h=$("{models_url}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=bS(y),E=new Kp;return Object.assign(E,T),E})}}async update(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=tE(this.apiClient,n);return h=$("{model}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>xu(y))}else{const m=eE(this.apiClient,n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),p.then(y=>_u(y))}}async delete(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=zT(this.apiClient,n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=qT(y),E=new Qp;return Object.assign(E,T),E})}else{const m=LT(this.apiClient,n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=GT(y),E=new Qp;return Object.assign(E,T),E})}}async countTokens(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=DT(this.apiClient,n);return h=$("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=UT(y),E=new Xp;return Object.assign(E,T),E})}else{const m=IT(this.apiClient,n);return h=$("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=bT(y),E=new Xp;return Object.assign(E,T),E})}}async computeTokens(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=CT(this.apiClient,n);return d=$("{model}:computeTokens",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),u.then(g=>{const m=_T(g),y=new $y;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=fS(this.apiClient,n);return h=$("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p.then(y=>{const T=uS(y),E=new Pa;return Object.assign(E,T),E})}else{const m=cS(this.apiClient,n);return h=$("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),p.then(y=>{const T=rS(y),E=new Pa;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qE extends xn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async get(n){const o=n.operation,a=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;a&&"httpOptions"in a&&(d=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:u,_isVertexAI:!1})}}async getVideosOperationInternal(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=ky(n);return h=$("{operationName}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),p}else{const m=By(n);return h=$("{operationName}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json()),p}}async fetchPredictVideosOperationInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=Ly(n);return d=$("{resourceName}:fetchPredictOperation",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function HE(i){const n={},o=r(i,["data"]);if(o!=null&&c(n,["data"],o),r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function VE(i){const n={},o=r(i,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>QE(d))),c(n,["parts"],u)}const a=r(i,["role"]);return a!=null&&c(n,["role"],a),n}function PE(i,n,o){const a={},u=r(n,["expireTime"]);o!==void 0&&u!=null&&c(o,["expireTime"],u);const d=r(n,["newSessionExpireTime"]);o!==void 0&&d!=null&&c(o,["newSessionExpireTime"],d);const p=r(n,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const h=r(n,["liveConnectConstraints"]);o!==void 0&&h!=null&&c(o,["bidiGenerateContentSetup"],KE(i,h));const g=r(n,["lockAdditionalFields"]);return o!==void 0&&g!=null&&c(o,["fieldMask"],g),a}function BE(i,n){const o={},a=r(n,["config"]);return a!=null&&c(o,["config"],PE(i,a,o)),o}function kE(i){const n={};if(r(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=r(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const a=r(i,["mimeType"]);return a!=null&&c(n,["mimeType"],a),n}function YE(i){const n={},o=r(i,["id"]);o!=null&&c(n,["id"],o);const a=r(i,["args"]);a!=null&&c(n,["args"],a);const u=r(i,["name"]);if(u!=null&&c(n,["name"],u),r(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(r(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function FE(i){const n={};if(r(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=r(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function OE(i){const n={};if(r(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(r(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=r(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function JE(i,n){const o={},a=r(i,["generationConfig"]);n!==void 0&&a!=null&&c(n,["setup","generationConfig"],a);const u=r(i,["responseModalities"]);n!==void 0&&u!=null&&c(n,["setup","generationConfig","responseModalities"],u);const d=r(i,["temperature"]);n!==void 0&&d!=null&&c(n,["setup","generationConfig","temperature"],d);const p=r(i,["topP"]);n!==void 0&&p!=null&&c(n,["setup","generationConfig","topP"],p);const h=r(i,["topK"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","topK"],h);const g=r(i,["maxOutputTokens"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","maxOutputTokens"],g);const m=r(i,["mediaResolution"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","mediaResolution"],m);const y=r(i,["seed"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","seed"],y);const T=r(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],Hu(T));const E=r(i,["thinkingConfig"]);n!==void 0&&E!=null&&c(n,["setup","generationConfig","thinkingConfig"],E);const x=r(i,["enableAffectiveDialog"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],x);const U=r(i,["systemInstruction"]);n!==void 0&&U!=null&&c(n,["setup","systemInstruction"],VE(pt(U)));const z=r(i,["tools"]);if(n!==void 0&&z!=null){let X=yl(z);Array.isArray(X)&&(X=X.map(B=>ZE(gl(B)))),c(n,["setup","tools"],X)}const k=r(i,["sessionResumption"]);n!==void 0&&k!=null&&c(n,["setup","sessionResumption"],XE(k));const Y=r(i,["inputAudioTranscription"]);n!==void 0&&Y!=null&&c(n,["setup","inputAudioTranscription"],Y);const Q=r(i,["outputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","outputAudioTranscription"],Q);const J=r(i,["realtimeInputConfig"]);n!==void 0&&J!=null&&c(n,["setup","realtimeInputConfig"],J);const ee=r(i,["contextWindowCompression"]);n!==void 0&&ee!=null&&c(n,["setup","contextWindowCompression"],ee);const O=r(i,["proactivity"]);return n!==void 0&&O!=null&&c(n,["setup","proactivity"],O),o}function KE(i,n){const o={},a=r(n,["model"]);a!=null&&c(o,["setup","model"],De(i,a));const u=r(n,["config"]);return u!=null&&c(o,["config"],JE(u,o)),o}function QE(i){const n={},o=r(i,["mediaResolution"]);o!=null&&c(n,["mediaResolution"],o);const a=r(i,["codeExecutionResult"]);a!=null&&c(n,["codeExecutionResult"],a);const u=r(i,["executableCode"]);u!=null&&c(n,["executableCode"],u);const d=r(i,["fileData"]);d!=null&&c(n,["fileData"],kE(d));const p=r(i,["functionCall"]);p!=null&&c(n,["functionCall"],YE(p));const h=r(i,["functionResponse"]);h!=null&&c(n,["functionResponse"],h);const g=r(i,["inlineData"]);g!=null&&c(n,["inlineData"],HE(g));const m=r(i,["text"]);m!=null&&c(n,["text"],m);const y=r(i,["thought"]);y!=null&&c(n,["thought"],y);const T=r(i,["thoughtSignature"]);T!=null&&c(n,["thoughtSignature"],T);const E=r(i,["videoMetadata"]);return E!=null&&c(n,["videoMetadata"],E),n}function XE(i){const n={},o=r(i,["handle"]);if(o!=null&&c(n,["handle"],o),r(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function ZE(i){const n={},o=r(i,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(T=>T)),c(n,["functionDeclarations"],y)}if(r(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=r(i,["googleSearchRetrieval"]);a!=null&&c(n,["googleSearchRetrieval"],a);const u=r(i,["computerUse"]);u!=null&&c(n,["computerUse"],u);const d=r(i,["fileSearch"]);d!=null&&c(n,["fileSearch"],d);const p=r(i,["codeExecution"]);if(p!=null&&c(n,["codeExecution"],p),r(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const h=r(i,["googleMaps"]);h!=null&&c(n,["googleMaps"],FE(h));const g=r(i,["googleSearch"]);g!=null&&c(n,["googleSearch"],OE(g));const m=r(i,["urlContext"]);return m!=null&&c(n,["urlContext"],m),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WE(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const u=Object.keys(a).map(d=>`${o}.${d}`);n.push(...u)}else n.push(o)}return n.join(",")}function $E(i,n){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const d=a.setup;typeof d=="object"&&d!==null?(i.bidiGenerateContentSetup=d,o=d):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const u=i.fieldMask;if(o){const d=WE(o);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)d?i.fieldMask=d:delete i.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];u.length>0&&(h=u.map(m=>p.includes(m)?`generationConfig.${m}`:m));const g=[];d&&g.push(d),h.length>0&&g.push(...h),g.length>0?i.fieldMask=g.join(","):delete i.fieldMask}else delete i.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?i.fieldMask=u.join(","):delete i.fieldMask;return i}class jE extends xn{constructor(n){super(),this.apiClient=n}async create(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=BE(this.apiClient,n);d=$("auth_tokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query;const g=$E(h,n.config);return u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),u.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(i,n){const o={},a=r(i,["displayName"]);return n!==void 0&&a!=null&&c(n,["displayName"],a),o}function tC(i){const n={},o=r(i,["config"]);return o!=null&&eC(o,n),n}function nC(i,n){const o={},a=r(i,["force"]);return n!==void 0&&a!=null&&c(n,["_query","force"],a),o}function iC(i){const n={},o=r(i,["name"]);o!=null&&c(n,["_url","name"],o);const a=r(i,["config"]);return a!=null&&nC(a,n),n}function lC(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function oC(i,n){const o={},a=r(i,["customMetadata"]);if(n!==void 0&&a!=null){let d=a;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["customMetadata"],d)}const u=r(i,["chunkingConfig"]);return n!==void 0&&u!=null&&c(n,["chunkingConfig"],u),o}function aC(i){const n={},o=r(i,["name"]);o!=null&&c(n,["name"],o);const a=r(i,["metadata"]);a!=null&&c(n,["metadata"],a);const u=r(i,["done"]);u!=null&&c(n,["done"],u);const d=r(i,["error"]);d!=null&&c(n,["error"],d);const p=r(i,["response"]);return p!=null&&c(n,["response"],rC(p)),n}function sC(i){const n={},o=r(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const a=r(i,["fileName"]);a!=null&&c(n,["fileName"],a);const u=r(i,["config"]);return u!=null&&oC(u,n),n}function rC(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["parent"]);a!=null&&c(n,["parent"],a);const u=r(i,["documentName"]);return u!=null&&c(n,["documentName"],u),n}function uC(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function cC(i){const n={},o=r(i,["config"]);return o!=null&&uC(o,n),n}function fC(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["fileSearchStores"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["fileSearchStores"],d)}return n}function dC(i,n){const o={},a=r(i,["mimeType"]);n!==void 0&&a!=null&&c(n,["mimeType"],a);const u=r(i,["displayName"]);n!==void 0&&u!=null&&c(n,["displayName"],u);const d=r(i,["customMetadata"]);if(n!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(g=>g)),c(n,["customMetadata"],h)}const p=r(i,["chunkingConfig"]);return n!==void 0&&p!=null&&c(n,["chunkingConfig"],p),o}function AC(i){const n={},o=r(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const a=r(i,["config"]);return a!=null&&dC(a,n),n}function pC(i){const n={},o=r(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mC(i,n){const o={},a=r(i,["force"]);return n!==void 0&&a!=null&&c(n,["_query","force"],a),o}function hC(i){const n={},o=r(i,["name"]);o!=null&&c(n,["_url","name"],o);const a=r(i,["config"]);return a!=null&&mC(a,n),n}function gC(i){const n={},o=r(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function yC(i,n){const o={},a=r(i,["pageSize"]);n!==void 0&&a!=null&&c(n,["_query","pageSize"],a);const u=r(i,["pageToken"]);return n!==void 0&&u!=null&&c(n,["_query","pageToken"],u),o}function vC(i){const n={},o=r(i,["parent"]);o!=null&&c(n,["_url","parent"],o);const a=r(i,["config"]);return a!=null&&yC(a,n),n}function TC(i){const n={},o=r(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const a=r(i,["nextPageToken"]);a!=null&&c(n,["nextPageToken"],a);const u=r(i,["documents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(p=>p)),c(n,["documents"],d)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SC extends xn{constructor(n){super(),this.apiClient=n,this.list=async o=>new Ei(_n.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gC(n);return d=$("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(n){var o,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=hC(n);u=$("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=vC(n);return d=$("{parent}/documents",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>{const m=TC(g),y=new jy;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EC extends xn{constructor(n,o=new SC(n)){super(),this.apiClient=n,this.documents=o,this.list=async(a={})=>new Ei(_n.PAGED_ITEM_FILE_SEARCH_STORES,u=>this.listInternal(u),await this.listInternal(a),a)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tC(n);return d=$("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async get(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=lC(n);return d=$("{name}",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>g)}}async delete(n){var o,a;let u="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=iC(n);u=$("{name}",p._url),d=p._query,delete p._url,delete p._query,await this.apiClient.request({path:u,queryParams:d,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=cC(n);return d=$("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>{const m=fC(g),y=new e0;return Object.assign(y,m),y})}}async uploadToFileSearchStoreInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AC(n);return d=$("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>{const m=pC(g),y=new t0;return Object.assign(y,m),y})}}async importFile(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=sC(n);return d=$("{file_search_store_name}:importFile",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),u.then(g=>{const m=aC(g),y=new Uu;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function CC(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function _C(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function xC(i,n,o){const a={};if(r(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const u=r(i,["tunedModelDisplayName"]);if(n!==void 0&&u!=null&&c(n,["displayName"],u),r(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const d=r(i,["epochCount"]);n!==void 0&&d!=null&&c(n,["tuningTask","hyperparameters","epochCount"],d);const p=r(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),r(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=r(i,["batchSize"]);n!==void 0&&h!=null&&c(n,["tuningTask","hyperparameters","batchSize"],h);const g=r(i,["learningRate"]);if(n!==void 0&&g!=null&&c(n,["tuningTask","hyperparameters","learningRate"],g),r(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(r(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function MC(i,n,o){const a={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const x=r(i,["validationDataset"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec"],gm(x))}else if(u==="PREFERENCE_TUNING"){const x=r(i,["validationDataset"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec"],gm(x))}const d=r(i,["tunedModelDisplayName"]);n!==void 0&&d!=null&&c(n,["tunedModelDisplayName"],d);const p=r(i,["description"]);n!==void 0&&p!=null&&c(n,["description"],p);let h=r(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=r(i,["epochCount"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(h==="PREFERENCE_TUNING"){const x=r(i,["epochCount"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let g=r(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const x=r(i,["learningRateMultiplier"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(g==="PREFERENCE_TUNING"){const x=r(i,["learningRateMultiplier"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let m=r(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const x=r(i,["exportLastCheckpointOnly"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(m==="PREFERENCE_TUNING"){const x=r(i,["exportLastCheckpointOnly"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let y=r(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const x=r(i,["adapterSize"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(y==="PREFERENCE_TUNING"){const x=r(i,["adapterSize"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(r(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=r(i,["labels"]);n!==void 0&&T!=null&&c(n,["labels"],T);const E=r(i,["beta"]);return n!==void 0&&E!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function RC(i,n){const o={},a=r(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&HC(d);const p=r(i,["config"]);return p!=null&&xC(p,o),o}function NC(i,n){const o={},a=r(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const u=r(i,["preTunedModel"]);u!=null&&c(o,["preTunedModel"],u);const d=r(i,["trainingDataset"]);d!=null&&VC(d,o,n);const p=r(i,["config"]);return p!=null&&MC(p,o,n),o}function wC(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function IC(i,n){const o={},a=r(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function DC(i,n,o){const a={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&c(n,["_query","pageSize"],u);const d=r(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const p=r(i,["filter"]);return n!==void 0&&p!=null&&c(n,["_query","filter"],p),a}function bC(i,n,o){const a={},u=r(i,["pageSize"]);n!==void 0&&u!=null&&c(n,["_query","pageSize"],u);const d=r(i,["pageToken"]);n!==void 0&&d!=null&&c(n,["_query","pageToken"],d);const p=r(i,["filter"]);return n!==void 0&&p!=null&&c(n,["_query","filter"],p),a}function UC(i,n){const o={},a=r(i,["config"]);return a!=null&&DC(a,o),o}function LC(i,n){const o={},a=r(i,["config"]);return a!=null&&bC(a,o),o}function zC(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tunedModels"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>Wm(h))),c(o,["tuningJobs"],p)}return o}function GC(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["nextPageToken"]);u!=null&&c(o,["nextPageToken"],u);const d=r(i,["tuningJobs"]);if(d!=null){let p=d;Array.isArray(p)&&(p=p.map(h=>Ru(h))),c(o,["tuningJobs"],p)}return o}function qC(i,n){const o={},a=r(i,["name"]);a!=null&&c(o,["model"],a);const u=r(i,["name"]);return u!=null&&c(o,["endpoint"],u),o}function HC(i,n){const o={};if(r(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=r(i,["examples"]);if(a!=null){let u=a;Array.isArray(u)&&(u=u.map(d=>d)),c(o,["examples","examples"],u)}return o}function VC(i,n,o){const a={};let u=r(o,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const p=r(i,["gcsUri"]);n!==void 0&&p!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(u==="PREFERENCE_TUNING"){const p=r(i,["gcsUri"]);n!==void 0&&p!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let d=r(o,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const p=r(i,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(d==="PREFERENCE_TUNING"){const p=r(i,["vertexDatasetResource"]);n!==void 0&&p!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(r(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Wm(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],bm(d));const p=r(i,["createTime"]);p!=null&&c(o,["createTime"],p);const h=r(i,["tuningTask","startTime"]);h!=null&&c(o,["startTime"],h);const g=r(i,["tuningTask","completeTime"]);g!=null&&c(o,["endTime"],g);const m=r(i,["updateTime"]);m!=null&&c(o,["updateTime"],m);const y=r(i,["description"]);y!=null&&c(o,["description"],y);const T=r(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const E=r(i,["_self"]);return E!=null&&c(o,["tunedModel"],qC(E)),o}function Ru(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["state"]);d!=null&&c(o,["state"],bm(d));const p=r(i,["createTime"]);p!=null&&c(o,["createTime"],p);const h=r(i,["startTime"]);h!=null&&c(o,["startTime"],h);const g=r(i,["endTime"]);g!=null&&c(o,["endTime"],g);const m=r(i,["updateTime"]);m!=null&&c(o,["updateTime"],m);const y=r(i,["error"]);y!=null&&c(o,["error"],y);const T=r(i,["description"]);T!=null&&c(o,["description"],T);const E=r(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const x=r(i,["tunedModel"]);x!=null&&c(o,["tunedModel"],x);const U=r(i,["preTunedModel"]);U!=null&&c(o,["preTunedModel"],U);const z=r(i,["supervisedTuningSpec"]);z!=null&&c(o,["supervisedTuningSpec"],z);const k=r(i,["preferenceOptimizationSpec"]);k!=null&&c(o,["preferenceOptimizationSpec"],k);const Y=r(i,["tuningDataStats"]);Y!=null&&c(o,["tuningDataStats"],Y);const Q=r(i,["encryptionSpec"]);Q!=null&&c(o,["encryptionSpec"],Q);const J=r(i,["partnerModelTuningSpec"]);J!=null&&c(o,["partnerModelTuningSpec"],J);const ee=r(i,["customBaseModel"]);ee!=null&&c(o,["customBaseModel"],ee);const O=r(i,["experiment"]);O!=null&&c(o,["experiment"],O);const X=r(i,["labels"]);X!=null&&c(o,["labels"],X);const B=r(i,["outputUri"]);B!=null&&c(o,["outputUri"],B);const j=r(i,["pipelineJob"]);j!=null&&c(o,["pipelineJob"],j);const W=r(i,["serviceAccount"]);W!=null&&c(o,["serviceAccount"],W);const se=r(i,["tunedModelDisplayName"]);se!=null&&c(o,["tunedModelDisplayName"],se);const me=r(i,["veoTuningSpec"]);return me!=null&&c(o,["veoTuningSpec"],me),o}function PC(i,n){const o={},a=r(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const u=r(i,["name"]);u!=null&&c(o,["name"],u);const d=r(i,["metadata"]);d!=null&&c(o,["metadata"],d);const p=r(i,["done"]);p!=null&&c(o,["done"],p);const h=r(i,["error"]);return h!=null&&c(o,["error"],h),o}function gm(i,n){const o={},a=r(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const u=r(i,["vertexDatasetResource"]);return u!=null&&c(o,["validationDatasetUri"],u),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BC extends xn{constructor(n){super(),this.apiClient=n,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Ei(_n.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const u={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(u.checkpointId=o.config.preTunedModelCheckpointId);const d=Object.assign(Object.assign({},o),{preTunedModel:u});return d.baseModel=void 0,await this.tuneInternal(d)}else{const u=Object.assign({},o);return await this.tuneInternal(u)}else{const u=Object.assign({},o),d=await this.tuneMldevInternal(u);let p="";return d.metadata!==void 0&&d.metadata.tunedModel!==void 0?p=d.metadata.tunedModel:d.name!==void 0&&d.name.includes("/operations/")&&(p=d.name.split("/operations/")[0]),{name:p,state:vu.JOB_STATE_QUEUED}}}}async getInternal(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=IC(n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>Ru(y))}else{const m=wC(n);return h=$("{name}",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>Wm(y))}}async listInternal(n){var o,a,u,d;let p,h="",g={};if(this.apiClient.isVertexAI()){const m=LC(n);return h=$("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=GC(y),E=new Zp;return Object.assign(E,T),E})}else{const m=UC(n);return h=$("tunedModels",m._url),g=m._query,delete m._url,delete m._query,p=this.apiClient.request({path:h,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal}).then(y=>y.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:y.headers},E})),p.then(y=>{const T=zC(y),E=new Zp;return Object.assign(E,T),E})}}async cancel(n){var o,a,u,d;let p="",h={};if(this.apiClient.isVertexAI()){const g=_C(n);p=$("{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal})}else{const g=CC(n);p=$("{name}:cancel",g._url),h=g._query,delete g._url,delete g._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(u=n.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=n.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI()){const h=NC(n,n);return d=$("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),u.then(g=>Ru(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,a;let u,d="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=RC(n);return d=$("tunedModels",h._url),p=h._query,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=n.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),u.then(g=>PC(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kC{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const YC=1024*1024*8,FC=3,OC=1e3,JC=2,ka="x-goog-upload-status";async function KC(i,n,o){var a;const u=await $m(i,n,o),d=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[ka])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return d.file}async function QC(i,n,o){var a;const u=await $m(i,n,o),d=await(u==null?void 0:u.json());if(((a=u==null?void 0:u.headers)===null||a===void 0?void 0:a[ka])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Mm(d),h=new Lu;return Object.assign(h,p),h}async function $m(i,n,o){var a,u;let d=0,p=0,h=new Su(new Response),g="upload";for(d=i.size;p<d;){const m=Math.min(YC,d-p),y=i.slice(p,p+m);p+m>=d&&(g+=", finalize");let T=0,E=OC;for(;T<FC&&(h=await o.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(p),"Content-Length":String(m)}}}),!(!((a=h==null?void 0:h.headers)===null||a===void 0)&&a[ka]));)T++,await ZC(E),E=E*JC;if(p+=m,((u=h==null?void 0:h.headers)===null||u===void 0?void 0:u[ka])!=="active")break;if(d<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function XC(i){return{size:i.size,type:i.type}}function ZC(i){return new Promise(n=>setTimeout(n,i))}class WC{async upload(n,o,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await KC(n,o,a)}async uploadToFileSearchStore(n,o,a){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await QC(n,o,a)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await XC(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C{create(n,o,a){return new jC(n,o,a)}}class jC{constructor(n,o,a){this.url=n,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ym="x-goog-api-key";class e_{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(ym)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(ym,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const t_="gl-node/";class jm{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const a=by(n.httpOptions,n.vertexai,void 0,void 0);a&&(n.httpOptions?n.httpOptions.baseUrl=a:n.httpOptions={baseUrl:a}),this.apiVersion=n.apiVersion;const u=new e_(this.apiKey);this.apiClient=new gE({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:t_+"web",uploader:new WC,downloader:new kC}),this.models=new GE(this.apiClient),this.live=new IE(this.apiClient,u,new $C),this.batches=new sv(this.apiClient),this.chats=new kv(this.models,this.apiClient),this.caches=new Vv(this.apiClient),this.files=new $v(this.apiClient),this.operations=new qE(this.apiClient),this.authTokens=new jE(this.apiClient),this.tunings=new BC(this.apiClient),this.fileSearchStores=new EC(this.apiClient)}}const Pu="cortex-custom-api-key",Bu="cortex-video-api-key",eh=()=>{try{return localStorage.getItem(Pu)}catch(i){return console.error("Failed to get custom API key from localStorage",i),null}},n_=i=>{try{localStorage.setItem(Pu,i)}catch(n){console.error("Failed to set custom API key in localStorage",n)}},i_=()=>{try{localStorage.removeItem(Pu)}catch(i){console.error("Failed to clear custom API key from localStorage",i)}},Nu=()=>{try{return localStorage.getItem(Bu)}catch(i){return console.error("Failed to get video API key from localStorage",i),null}},l_=i=>{try{localStorage.setItem(Bu,i)}catch(n){console.error("Failed to set video API key in localStorage",n)}},o_=()=>{try{localStorage.removeItem(Bu)}catch(i){console.error("Failed to clear video API key from localStorage",i)}},th=()=>eh()||"PLACEHOLDER_API_KEY",ku=()=>{const i=th();return new jm({apiKey:i})},a_={name:"create_zip_file",description:"Creates a zip file containing one or more files with specified content. Use this to provide multiple files to the user, like for a coding project.",parameters:{type:Mt.OBJECT,properties:{filename:{type:Mt.STRING,description:"The name of the zip file to be created, e.g., 'project.zip'."},files:{type:Mt.ARRAY,description:"An array of file objects to be included in the zip.",items:{type:Mt.OBJECT,properties:{path:{type:Mt.STRING,description:"The full path of the file within the zip, including directories, e.g., 'src/index.js'."},content:{type:Mt.STRING,description:"The text content of the file."}},required:["path","content"]}}},required:["filename","files"]}},s_=(i,n)=>ku().chats.create({model:"gemini-2.5-flash",config:{systemInstruction:"You are Cortex, a helpful and creative AI assistant. Your responses should be engaging, informative, and friendly.",tools:n},history:i}),r_=async(i,n)=>await i.sendMessageStream({message:n}),u_=async i=>{var a,u,d;const o=await ku().models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:i},config:{responseModalities:[hl.IMAGE]}});for(const p of((d=(u=(a=o.candidates)==null?void 0:a[0])==null?void 0:u.content)==null?void 0:d.parts)||[])if(p.inlineData)return p.inlineData.data;throw new Error("Image generation failed. No image data was returned.")},c_=async i=>{var u,d,p,h,g,m;const a=(m=(g=(h=(p=(d=(u=(await ku().models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:i}]}],config:{responseModalities:[hl.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates)==null?void 0:u[0])==null?void 0:d.content)==null?void 0:p.parts)==null?void 0:h[0])==null?void 0:g.inlineData)==null?void 0:m.data;if(!a)throw new Error("Speech generation failed. No audio data was returned.");return a},f_=()=>{const i=Nu();if(!i)throw new Error("Video generation API Key not configured. Please add a key in the sidebar.");return new jm({apiKey:i})},d_=async(i,n)=>{var m,y,T,E,x;const o=f_(),d={model:i.referenceImages&&i.referenceImages.length>0?"veo-3.1-generate-preview":"veo-3.1-fast-generate-preview",prompt:i.prompt||"An amazing video.",config:{numberOfVideos:1,resolution:i.config.resolution,aspectRatio:i.config.aspectRatio}};if(i.image&&(d.image={imageBytes:i.image.data,mimeType:i.image.mimeType}),i.lastFrame&&(d.config.lastFrame={imageBytes:i.lastFrame.data,mimeType:i.lastFrame.mimeType}),i.referenceImages&&i.referenceImages.length>0){if(!i.prompt)throw new Error("A text prompt is required when using reference images.");d.config.referenceImages=i.referenceImages.map(U=>({image:{imageBytes:U.data,mimeType:U.mimeType},referenceType:Tu.ASSET})),d.config.resolution="720p",d.config.aspectRatio="16:9"}if(i.video){if(!i.prompt)throw new Error("A text prompt is required to extend a video.");d.model="veo-3.1-generate-preview",d.video=i.video,d.config.resolution="720p"}n("Sending video generation request...");let p=await o.models.generateVideos(d);n("Request accepted. Your video is in the queue.");let h="queued";for(;!p.done;){await new Promise(z=>setTimeout(z,1e4)),p=await o.operations.getVideosOperation({operation:p});const U=(m=p.metadata)==null?void 0:m.progress;if(Array.isArray(U)&&U.length>0){const z=(y=U[U.length-1])==null?void 0:y.status;z&&z!==h&&(n(`Processing: ${z.toLowerCase().replace(/_/g," ")}...`),h=z)}}n("Finalizing video...");const g=(x=(E=(T=p.response)==null?void 0:T.generatedVideos)==null?void 0:E[0])==null?void 0:x.video;if(!g||!g.uri)throw new Error("Video generation failed to return a valid video.");return{video:g,uri:g.uri}},A_={send:new Audio("data:audio/mp3;base64,SUQzBAAAAAAAI1RTSEUAAAABA1AAAP9xgRAdQwAeyYkUBMhAnwH8IeMAQBERETyR0bW9uY2MAAAAAAAAAAAAAAAAAAAAAAAMPdYgUAAAD8QABf/3AgRwc0AAAAAQCgAAAAaBqBAAAYRG/2f/8E8IIAEBEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/3AgR0GkAAAAAAAAAqgAAAAAAABpBAAAAEjEb/Z//wTQQgAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//cwIEdB+qQAAACAAADaAAAAAANpBAAAAEjEb/Z//wTwggAQE//dADtAJA4QABwHMYgY//3AgR0GkAAAAAAAAAqgAAAAAAABpBAAAAEjEb/Z//wTQQgAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"),receive:new Audio("data:audio/mp3;base64,SUQzBAAAAAAAI1RTSEUAAAABA1AAAP9xgRAdQwAeyYkUBMhAnwH8IeMAQBERETyR0bW9uY2MAAAAAAAAAAAAAAAAAAAAAAAM/dYgUAAAD8QABf/3AgRwc0AAAAAQCgAAAAaBqBAAAYRG/2f/8E8IIAEBEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/3AgR0GkAAAAAAAAAqgAAAAAAABpBAAAAEjEb/Z//wTQQgAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//cwIEdB+qQAAACAAADaAAAAAANpBAAAAEjEb/Z//wTwggAQE//dADtAJA4QABwHMYgY//3AgR0GkAAAAAAAAAqgAAAAAAABpBAAAAEjEb/Z//wTQQgAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"),switch:new Audio("data:audio/mp3;base64,SUQzBAAAAAAAI1RTSEUAAAABA1AAAP9xgRAdQwAeyYkUBMhAnwH8IeMAQBERETyR0bW9uY2MAAAAAAAAAAAAAAAAAAAAAAANA1QgUAAAD8QABf/3AgRwc0AAAAAQCgAAAAaBqBAAAYRG/2f/8E8IIAEBEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/3AgR0GkAAAAAAAAAqgAAAAAAABpBAAAAEjEb/Z//wTQQgAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//cwIEdB+qQAAACAAADaAAAAAANpBAAAAEjEb/Z//wTwggAQE//dADtAJA4QABwHMYgY//3AgR0GkAAAAAAAAAqgAAAAAAABpBAAAAEjEb/Z//wTQQgAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"),new:new Audio("data:audio/mp3;base64,SUQzBAAAAAAAI1RTSEUAAAABA1AAAP9xgRAdQwAeyYkUBMhAnwH8IeMAQBERETyR0bW9uY2MAAAAAAAAAAAAAAAAAAAAAAAMNdYgUAAAD8QABf/3AgRwc0AAAAAQCgAAAAaBqBAAAYRG/2f/8E8IIAEBEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/3AgR0GkAAAAAAAAAqgAAAAAAABpBAAAAEjEb/Z//wTQQgAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//cwIEdB+qQAAACAAADaAAAAAANpBAAAAEjEb/Z//wTwggAQE//dADtAJA4QABwHMYgY//3AgR0GkAAAAAAAAAqgAAAAAAABpBAAAAEjEb/Z//wTQQgAQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA")},Jt=i=>{const n=A_[i];n&&(n.currentTime=0,n.play().catch(o=>console.error(`Error playing sound: ${i}`,o)))},vm={role:"model",parts:[{text:"Hello! I'm Cortex, your AI assistant. You can ask me anything or switch to Image mode to generate pictures."}],displayParts:[{text:"Hello! I'm Cortex, your AI assistant. You can ask me anything or switch to Image mode to generate pictures."}],timestamp:Date.now()},mu="cortex-chat-history",Tm=35,p_=i=>{var a;const n=i.find(u=>u.role==="user"),o=((a=n==null?void 0:n.displayParts.find(u=>u.text))==null?void 0:a.text)||"New Chat";return o.length>Tm?o.substring(0,Tm)+"...":o},m_=(i,n,o)=>{var ee;const[a,u]=K.useState([]),[d,p]=K.useState(null),[h,g]=K.useState(null),[m,y]=K.useState(new Set);K.useEffect(()=>{try{const O=localStorage.getItem(mu),B=(O?JSON.parse(O):[]).filter(j=>j.userId===i);if(B.length>0){const j=[...B].sort((W,se)=>se.createdAt-W.createdAt);u(j),p(j[0].id)}else{const j=T(!0);p(j)}}catch(O){console.error("Failed to load chat history:",O);const X=T(!0);p(X)}},[i]),K.useEffect(()=>{try{const O=localStorage.getItem(mu),j=[...(O?JSON.parse(O):[]).filter(W=>W.userId!==i),...a];localStorage.setItem(mu,JSON.stringify(j))}catch(O){console.error("Failed to save chat history:",O)}},[a,i]);const T=K.useCallback((O=!1)=>{const X={id:Date.now().toString(),title:"New Chat",messages:[vm],createdAt:Date.now(),userId:i};return u(O?[X]:B=>[X,...B]),p(X.id),X.id},[i]),E=K.useCallback((O,X,B,j)=>{try{const W=X.filter(he=>B.has(he.id)),se=X.find(he=>he.id===O);if(!se)return;const me=W.flatMap(he=>he.messages.slice(1)).map(he=>({role:he.role,parts:he.parts})),te=se.messages.slice(1).map(he=>({role:he.role,parts:he.parts})),Se=[...me,...te],Ne=[{functionDeclarations:[a_]}];j&&Ne.push({googleSearch:{}}),g(s_(Se,Ne))}catch(W){console.error("Failed to create Gemini session:",W),g(null)}},[]);K.useEffect(()=>{d&&a.length>0&&E(d,a,m,n)},[d,m,a,E,n,o]);const x=K.useCallback((O,X)=>{u(B=>B.map(j=>{if(j.id===O){const W=j.messages,se=typeof X=="function"?X(W):X,me={...j,messages:se};return se.filter(te=>te.role==="user").length===1&&j.title==="New Chat"&&(me.title=p_(se)),me}return j}))},[]),U=K.useCallback(O=>{a.find(X=>X.id===O)&&p(O)},[a]),z=K.useCallback(O=>{y(X=>{const B=new Set(X);return B.delete(O),B}),u(X=>{const B=X.filter(j=>j.id!==O);if(O===d)if(B.length>0){const j=[...B].sort((W,se)=>se.createdAt-W.createdAt)[0];p(j.id)}else{const j={id:Date.now().toString(),title:"New Chat",messages:[vm],createdAt:Date.now(),userId:i};return p(j.id),[j]}return B})},[d,i]),k=K.useCallback((O,X)=>{const B=X.trim();B&&u(j=>j.map(W=>W.id===O?{...W,title:B}:W))},[]),Y=K.useCallback(O=>{y(X=>{const B=new Set(X);return B.has(O)?B.delete(O):B.add(O),B})},[]),Q=((ee=a.find(O=>O.id===d))==null?void 0:ee.messages)||[];return{sessions:a,activeSessionId:d,activeChatHistory:Q,setActiveChatHistory:O=>{d&&x(d,O)},geminiSession:h,startNewChat:T,loadChatSession:U,deleteChatSession:z,updateSessionTitle:k,contextSessionIds:m,toggleContextSession:Y}},nh=()=>S.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})}),Yu=()=>S.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",children:[S.jsxs("defs",{children:[S.jsxs("linearGradient",{id:"cortex-ring-grad",x1:"0",y1:"0",x2:"1",y2:"1",children:[S.jsx("stop",{offset:"0%",stopColor:"#FFFFFF"}),S.jsx("stop",{offset:"100%",stopColor:"#D1D5DB"})]}),S.jsxs("linearGradient",{id:"cortex-brain-grad-left",x1:"0",y1:"0",x2:"1",y2:"1",children:[S.jsx("stop",{offset:"0%",stopColor:"#38BDF8"}),S.jsx("stop",{offset:"100%",stopColor:"#6366F1"})]}),S.jsxs("linearGradient",{id:"cortex-brain-grad-right",x1:"0",y1:"1",x2:"1",y2:"0",children:[S.jsx("stop",{offset:"0%",stopColor:"#38BDF8"}),S.jsx("stop",{offset:"100%",stopColor:"#8B5CF6"})]})]}),S.jsx("circle",{cx:"12",cy:"12",r:"11",stroke:"url(#cortex-ring-grad)",strokeWidth:"1.5"}),S.jsxs("g",{children:[S.jsx("path",{d:"M11.5 5 L7 6 L5 12 L7 18 L11.5 19 V5Z",fill:"url(#cortex-brain-grad-left)"}),S.jsx("path",{d:"M11.5 5 L8 9 L5 12 L8 15 L11.5 19",stroke:"white",strokeOpacity:"0.2",strokeWidth:"0.5"}),S.jsx("path",{d:"M8 9 L11.5 12 L8 15",stroke:"white",strokeOpacity:"0.2",strokeWidth:"0.5"})]}),S.jsxs("g",{children:[S.jsx("path",{d:"M12.5 5 L17 6 L19 12 L17 18 L12.5 19 V5Z",fill:"url(#cortex-brain-grad-right)"}),S.jsx("path",{d:"M12.5 5 L16 9 L19 12 L16 15 L12.5 19",stroke:"white",strokeOpacity:"0.2",strokeWidth:"0.5"}),S.jsx("path",{d:"M16 9 L12.5 12 L16 15",stroke:"white",strokeOpacity:"0.2",strokeWidth:"0.5"})]}),S.jsxs("g",{fill:"white",transform:"translate(0, 0.5)",children:[S.jsx("path",{d:"M11.25 9 L9.5 14 H10.5 L10.8 13 H11.7 L12 14 H13 L11.25 9 Z M11.25 10.25 L11.55 12.25 H10.95 L11.25 10.25Z"}),S.jsx("rect",{x:"13.2",y:"9",width:"1.2",height:"5"})]})]}),h_=()=>S.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"})}),g_=()=>S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"})}),y_=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),ih=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),To=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}),v_=()=>S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),T_=()=>S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"})}),S_=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),E_=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),C_=()=>S.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),lh=()=>S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),__=()=>S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),x_=()=>S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})}),M_=()=>S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M11 5L6 9H2v6h4l5 4V5z"})}),R_=()=>S.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5L6 9H2v6h4l5 4V5zM17 14l-4-4m0 4l4-4"})}),N_=()=>S.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})}),w_=()=>S.jsx("svg",{className:"w-5 h-5 text-blue-500",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),I_=()=>S.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.536L16.732 3.732z"})}),D_=()=>S.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"})}),b_=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),Sm=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),U_=()=>S.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M15 9h-2a1 1 0 00-1 1v0a1 1 0 001 1h.5a1 1 0 011 1v0a1 1 0 01-1 1h-2M10.5 9.5v5"})]}),L_=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),wu=()=>S.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),Iu=()=>S.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7 .525-1.664 1.36-3.14 2.39-4.388m.02-3.468A14.64 14.64 0 0112 5c4.478 0 8.268 2.943 9.542 7a10.054 10.054 0 01-2.036 3.978M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 3l18 18"})]}),Fu=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),Ou=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})}),oh=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25z"})}),z_=()=>S.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),G_=async i=>{const n=await new Promise((o,a)=>{const u=new FileReader;u.readAsDataURL(i),u.onload=()=>o(u.result.split(",")[1]),u.onerror=d=>a(d)});return{inlineData:{mimeType:i.type,data:n}}},q_=async i=>i.type.startsWith("image/")?{image:{data:await new Promise((o,a)=>{const u=new FileReader;u.readAsDataURL(i),u.onload=()=>o(u.result),u.onerror=d=>a(d)}),mimeType:i.type}}:{file:{name:i.name,type:i.type}},H_=i=>{const{onSendMessage:n,isLoading:o,disabled:a,mode:u,onModeChange:d,webSearchEnabled:p,onWebSearchChange:h,isExtending:g,onCancelExtension:m,onAvatarChange:y}=i,[T,E]=K.useState(""),[x,U]=K.useState([]),[z,k]=K.useState(!1),[Y,Q]=K.useState({referenceImages:[],resolution:"720p",aspectRatio:"16:9"}),J=K.useRef(null),ee=K.useRef(null),O=K.useRef(null),X=K.useRef(null),B=K.useRef(null),j=K.useRef(null),W=K.useRef(null),se=K.useRef(""),me=K.useCallback(N=>{U(P=>P.filter((F,le)=>le!==N))},[]);K.useEffect(()=>{const N=window.SpeechRecognition||window.webkitSpeechRecognition;if(!N){console.warn("Speech recognition not supported in this browser.");return}const P=new N;P.continuous=!1,P.interimResults=!0,P.lang="en-US",P.onresult=F=>{let le="",ue="";for(let Oe=F.resultIndex;Oe<F.results.length;++Oe)F.results[Oe].isFinal?le+=F.results[Oe][0].transcript:ue+=F.results[Oe][0].transcript;const Ee=se.current+le+ue;E(Ee),j.current&&(j.current.style.height="auto",j.current.style.height=`${j.current.scrollHeight}px`)},P.onend=()=>{k(!1)},P.onerror=F=>{console.error("Speech recognition error:",F.error),k(!1)},W.current=P},[]);const te=()=>{if(W.current)if(z)W.current.stop();else{se.current=T?T+" ":"";try{W.current.start(),k(!0)}catch(N){console.error("Error starting speech recognition:",N)}}},Se=N=>{N.target.files&&U(P=>[...P,...Array.from(N.target.files)]),N.target&&(N.target.value="")},Ne=N=>{N.target.files&&N.target.files.length>0&&y(N.target.files[0]),N.target&&(N.target.value="")},he=(N,P)=>{if(N.target.files&&N.target.files.length>0){const F=Array.from(N.target.files);P==="start"&&Q(le=>({...le,startImage:F[0]})),P==="end"&&Q(le=>({...le,endImage:F[0]})),P==="ref"&&Q(le=>({...le,referenceImages:[...le.referenceImages,...F].slice(0,3)}))}N.target&&(N.target.value="")},L=K.useCallback(async()=>{const N=Y.startImage||Y.endImage||Y.referenceImages.length>0;if(!T.trim()&&x.length===0&&!N&&!g||o||a)return;const P=[],F=[];let le=x;if(u==="video"){const ue=[Y.startImage,Y.endImage,...Y.referenceImages].filter(Boolean);le=[...le,...ue]}for(const ue of le)P.push(await G_(ue)),F.push(await q_(ue));T.trim()&&(P.push({text:T}),F.push({text:T})),n(P,F,u==="video"?Y:void 0),E(""),U([]),Q(ue=>({...ue,startImage:null,endImage:null,referenceImages:[]}))},[T,x,o,a,n,u,Y,g]),Z=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),L())},re=N=>{const P=N.currentTarget;E(P.value),P.style.height="auto",P.style.height=`${P.scrollHeight}px`},xe=!T.trim()&&x.length===0&&(u!=="video"||!Y.startImage&&Y.referenceImages.length===0&&!g)||o||a,_e=a?"API Key not configured. Please add a custom key in the sidebar.":u==="chat"?"Message Cortex or attach files...":u==="image"?"Describe an image to generate...":g?"Describe what happens next to extend the video...":"Describe a video to generate...",R=({file:N,onRemove:P})=>S.jsxs("div",{className:"flex items-center gap-2 bg-zinc-700 text-zinc-200 text-xs px-2 py-1 rounded-full",children:[S.jsx("span",{className:"truncate max-w-28",children:N.name}),S.jsx("button",{onClick:P,className:"p-0.5 rounded-full hover:bg-zinc-600",children:S.jsx(To,{})})]});return S.jsxs("div",{className:"bg-zinc-900/70 backdrop-blur-lg border border-zinc-700 rounded-2xl p-2 flex flex-col shadow-2xl w-full max-w-4xl mx-auto",children:[S.jsxs("div",{className:"flex items-center flex-wrap gap-2 px-2 pt-1 pb-2 border-b border-zinc-700/50 mb-2",children:[S.jsxs("button",{onClick:()=>d("chat"),className:`flex items-center gap-2 px-3 py-1 text-sm rounded-lg transition-colors font-medium ${u==="chat"?"bg-blue-600 text-white":"text-zinc-400 hover:bg-zinc-700"}`,children:[S.jsx(ih,{})," Chat"]}),S.jsxs("button",{onClick:()=>d("image"),className:`flex items-center gap-2 px-3 py-1 text-sm rounded-lg transition-colors font-medium ${u==="image"?"bg-blue-600 text-white":"text-zinc-400 hover:bg-zinc-700"}`,children:[S.jsx(S_,{})," Image"]}),S.jsxs("button",{onClick:()=>d("video"),className:`flex items-center gap-2 px-3 py-1 text-sm rounded-lg transition-colors font-medium ${u==="video"?"bg-blue-600 text-white":"text-zinc-400 hover:bg-zinc-700"}`,children:[S.jsx(Fu,{})," Video"]}),u==="chat"&&S.jsxs("button",{onClick:()=>h(!p),className:`flex items-center gap-2 px-3 py-1 text-sm rounded-lg transition-colors font-medium ${p?"bg-blue-600 text-white":"text-zinc-400 hover:bg-zinc-700"}`,children:[S.jsx(b_,{})," Web Search"]})]}),u==="video"&&!g&&S.jsxs("div",{className:"px-2 py-2 border-b border-zinc-700/50 mb-2 space-y-3",children:[S.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-zinc-300 font-medium",children:"Resolution"}),S.jsxs("select",{value:Y.resolution,onChange:N=>Q(P=>({...P,resolution:N.target.value})),className:"bg-zinc-800 border border-zinc-700 rounded-md px-2 py-1 text-zinc-200",children:[S.jsx("option",{value:"720p",children:"720p"}),S.jsx("option",{value:"1080p",children:"1080p"})]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("span",{className:"text-zinc-300 font-medium",children:"Aspect Ratio"}),S.jsxs("select",{value:Y.aspectRatio,onChange:N=>Q(P=>({...P,aspectRatio:N.target.value})),className:"bg-zinc-800 border border-zinc-700 rounded-md px-2 py-1 text-zinc-200",children:[S.jsx("option",{value:"16:9",children:"16:9 Landscape"}),S.jsx("option",{value:"9:16",children:"9:16 Portrait"})]})]})]}),S.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[S.jsx("input",{type:"file",ref:O,onChange:N=>he(N,"start"),accept:"image/*",className:"hidden"}),S.jsx("button",{onClick:()=>{var N;return(N=O.current)==null?void 0:N.click()},className:"text-xs font-semibold bg-zinc-700 hover:bg-zinc-600 text-zinc-200 px-3 py-1.5 rounded-md",children:"Start Image"}),Y.startImage&&S.jsx(R,{file:Y.startImage,onRemove:()=>Q(N=>({...N,startImage:null}))}),S.jsx("input",{type:"file",ref:X,onChange:N=>he(N,"end"),accept:"image/*",className:"hidden"}),S.jsx("button",{onClick:()=>{var N;return(N=X.current)==null?void 0:N.click()},className:"text-xs font-semibold bg-zinc-700 hover:bg-zinc-600 text-zinc-200 px-3 py-1.5 rounded-md",children:"End Image"}),Y.endImage&&S.jsx(R,{file:Y.endImage,onRemove:()=>Q(N=>({...N,endImage:null}))}),S.jsx("input",{type:"file",ref:B,onChange:N=>he(N,"ref"),accept:"image/*",multiple:!0,className:"hidden"}),S.jsxs("button",{onClick:()=>{var N;return(N=B.current)==null?void 0:N.click()},className:"text-xs font-semibold bg-zinc-700 hover:bg-zinc-600 text-zinc-200 px-3 py-1.5 rounded-md",children:["Ref Images (",Y.referenceImages.length,"/3)"]}),Y.referenceImages.map((N,P)=>S.jsx(R,{file:N,onRemove:()=>Q(F=>({...F,referenceImages:F.referenceImages.filter((le,ue)=>ue!==P)}))},P))]})]}),u==="video"&&g&&S.jsxs("div",{className:"px-3 py-2 border-b border-zinc-700/50 mb-2 flex items-center justify-between gap-2 text-sm bg-yellow-900/40 rounded-lg",children:[S.jsx("p",{className:"font-medium text-yellow-300",children:"Extending previous video."}),S.jsx("button",{onClick:m,className:"text-xs font-semibold text-zinc-300 hover:text-white hover:underline shrink-0",children:"Cancel"})]}),x.length>0&&S.jsx("div",{className:"p-2 flex flex-wrap gap-2",children:x.map((N,P)=>{var F;return S.jsxs("div",{className:"relative w-20 h-20 bg-zinc-800 rounded-lg flex items-center justify-center p-1",children:[N.type.startsWith("image/")?S.jsx("img",{src:URL.createObjectURL(N),alt:N.name,className:"max-w-full max-h-full rounded object-contain"}):S.jsxs("div",{className:"text-center text-zinc-300 text-xs break-words",children:[S.jsx("p",{className:"font-bold",children:(F=N.name.split(".").pop())==null?void 0:F.toUpperCase()}),S.jsx("p",{className:"truncate",children:N.name})]}),S.jsx("button",{onClick:()=>me(P),className:"absolute -top-1 -right-1 p-0.5 bg-red-600 rounded-full text-white hover:bg-red-500 transition-colors","aria-label":`Remove ${N.name}`,children:S.jsx(To,{})})]},P)})}),S.jsxs("div",{className:"flex items-end gap-2 p-2",children:[S.jsx("button",{onClick:()=>{var N;return(N=ee.current)==null?void 0:N.click()},className:"p-2 text-zinc-400 hover:text-white transition-colors disabled:opacity-50",disabled:o||a,"aria-label":"Change avatar",children:S.jsx(__,{})}),S.jsx("input",{type:"file",ref:ee,onChange:Ne,className:"hidden",accept:"image/*"}),S.jsx("button",{onClick:()=>{var N;return(N=J.current)==null?void 0:N.click()},className:"p-2 text-zinc-400 hover:text-white transition-colors disabled:opacity-50",disabled:o||a,"aria-label":"Attach file",children:S.jsx(g_,{})}),S.jsx("input",{type:"file",ref:J,onChange:Se,multiple:!0,className:"hidden"}),S.jsx("textarea",{ref:j,value:T,onChange:re,onKeyDown:Z,placeholder:_e,className:"flex-1 bg-transparent resize-none outline-none text-zinc-100 placeholder-zinc-500 max-h-48 ring-0 focus:ring-0",rows:1,disabled:o||a}),S.jsx("button",{onClick:te,disabled:o||a,className:`p-2 rounded-full transition-colors disabled:opacity-50 disabled:cursor-not-allowed ${z?"bg-red-600 text-white":"text-zinc-400 hover:text-white"}`,"aria-label":z?"Stop recording":"Start recording",children:S.jsx(T_,{})}),S.jsx("button",{onClick:L,disabled:xe,className:"p-2 rounded-full bg-blue-600 text-white disabled:bg-zinc-700 disabled:cursor-not-allowed hover:bg-blue-700 transition-colors","aria-label":o?"Processing request":"Send message",children:o?S.jsx(C_,{}):S.jsx(h_,{})})]})]})},Em=["Contacting the creative AI...","Sketching the initial concept...","Adding colors and textures...","Applying the final touches...","Almost ready..."],V_=({prompt:i})=>{const[n,o]=K.useState(0);return K.useEffect(()=>{const a=setInterval(()=>{o(u=>u>=Em.length-1?u:u+1)},2500);return()=>clearInterval(a)},[]),S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("p",{className:"text-sm text-zinc-400 italic",children:i?`Generating an image of "${i.substring(0,50)}${i.length>50?"...":""}"`:"Generating image..."}),S.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 overflow-hidden",children:S.jsx("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"100%"}})}),S.jsx("p",{className:"text-xs text-zinc-400 text-center font-medium",children:Em[n]})]})},P_=({prompt:i,progress:n})=>S.jsxs("div",{className:"flex flex-col gap-3",children:[S.jsx("p",{className:"text-sm text-zinc-400 italic",children:i?`Generating a video of "${i.substring(0,50)}${i.length>50?"...":""}"`:"Generating video..."}),S.jsx("div",{className:"w-full bg-zinc-700 rounded-full h-2 overflow-hidden",children:S.jsx("div",{className:"bg-blue-600 h-2 rounded-full animate-pulse",style:{width:"100%"}})}),S.jsx("p",{className:"text-xs text-zinc-400 text-center font-medium",children:n||"Contacting video service..."})]}),B_=({code:i,language:n})=>{const[o,a]=K.useState(!1),u=()=>{navigator.clipboard.writeText(i),a(!0),setTimeout(()=>a(!1),2e3)};return S.jsxs("div",{className:"bg-zinc-900 rounded-md my-2 overflow-hidden border border-zinc-800",children:[S.jsxs("div",{className:"flex justify-between items-center px-4 py-1 bg-black/30 text-xs text-zinc-400",children:[S.jsx("span",{children:n||"code"}),S.jsx("button",{onClick:u,className:"flex items-center gap-1.5 text-zinc-400 hover:text-white transition-colors disabled:opacity-50",disabled:o,children:o?S.jsxs(S.Fragment,{children:[S.jsx(lh,{}),"Copied!"]}):S.jsxs(S.Fragment,{children:[S.jsx(v_,{}),"Copy"]})})]}),S.jsx("pre",{className:"p-4 overflow-x-auto text-sm text-zinc-200",children:S.jsx("code",{className:`language-${n}`,children:i.trim()})})]})},Cm=({part:i,onExtendVideo:n})=>i.image?S.jsxs("div",{className:"relative group w-fit",children:[S.jsx("img",{src:i.image.data,alt:"Image content",className:"rounded-lg max-w-full sm:max-w-md md:max-w-lg max-h-[50vh] object-contain border-2 border-zinc-700"}),S.jsx("a",{href:i.image.data,download:`cortex-image-${Date.now()}.png`,className:"absolute bottom-2 right-2 p-2 bg-black/60 rounded-full text-white opacity-0 group-hover:opacity-100 transition-opacity hover:bg-blue-600","aria-label":"Download image",children:S.jsx(Sm,{})})]}):i.video?S.jsxs("div",{className:"relative group w-fit",children:[S.jsx("video",{src:i.video.src,controls:!0,className:"rounded-lg max-w-full sm:max-w-md md:max-w-lg max-h-[50vh] object-contain border-2 border-zinc-700"}),S.jsxs("div",{className:"absolute bottom-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.video.videoObject&&S.jsx("button",{onClick:()=>n(i.video.videoObject),className:"p-2 bg-black/60 rounded-full text-white hover:bg-blue-600","aria-label":"Extend video",children:S.jsx(Fu,{})}),S.jsx("a",{href:i.video.src,download:`cortex-video-${Date.now()}.mp4`,className:"p-2 bg-black/60 rounded-full text-white hover:bg-blue-600","aria-label":"Download video",children:S.jsx(Sm,{})})]})]}):i.file?S.jsxs("div",{className:"bg-zinc-700/50 p-3 rounded-lg border border-zinc-700",children:[S.jsx("p",{className:"text-sm font-medium text-zinc-300",children:"Attached File:"}),S.jsxs("p",{className:"text-xs text-zinc-400 truncate",children:[i.file.name," (",i.file.type,")"]})]}):null,k_=({message:i,userAvatar:n,onPlayAudio:o,currentlyPlayingId:a,onDownloadZip:u,onExtendVideo:d,onBuyPlanClick:p})=>{const{role:h,displayParts:g,isError:m,isGenerating:y,isCreditError:T,generationProgress:E,timestamp:x,functionCall:U,groundingSources:z}=i,k=h==="model",Y=a===x,Q=K.useMemo(()=>g.map(B=>B.text||"").join(""),[g]),J=K.useMemo(()=>{if(k&&T)return S.jsxs("div",{className:"flex flex-col gap-2",children:[S.jsx("p",{className:"font-semibold text-red-400",children:"API Limit Reached"}),S.jsx("p",{className:"text-zinc-300",children:"The app's shared API key has reached its daily limit. Please upgrade to continue using your own key."}),S.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 px-3 py-1.5 mt-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors self-start text-sm",children:[S.jsx(Ou,{})," Upgrade Plan"]})]});const B=g.some(te=>!te.text),j=g.some(te=>te.image),W=g.some(te=>te.video);if(k&&y){const te=j&&!W;return S.jsxs("div",{className:"flex flex-col gap-4",children:[g.map((Se,Ne)=>S.jsx(Cm,{part:Se,onExtendVideo:d},Ne)),te?S.jsx(V_,{prompt:Q}):S.jsx(P_,{prompt:Q,progress:E||""})]})}if(k&&!Q&&!B&&!U)return S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-bounce [animation-delay:-0.3s]"}),S.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-bounce [animation-delay:-0.15s]"}),S.jsx("div",{className:"h-2 w-2 bg-blue-500 rounded-full animate-bounce"})]});const me=Q.split(/(```[\w\s]*\n[\s\S]*?\n```)/g).map((te,Se)=>{if(te.startsWith("```")){const Ne=te.split(`
`),he=Ne[0].replace("```","").trim(),L=Ne.slice(1,-1).join(`
`);return S.jsx(B_,{code:L,language:he},Se)}else if(te.trim()){const Ne=te.replace(/\*\*(.*?)\*\*/g,'<strong class="font-semibold">$1</strong>');return S.jsx("p",{className:"whitespace-pre-wrap leading-relaxed",dangerouslySetInnerHTML:{__html:Ne}},Se)}return null}).filter(Boolean);return S.jsxs("div",{className:"flex flex-col gap-3",children:[g.map((te,Se)=>S.jsx(Cm,{part:te,onExtendVideo:d},Se)),me,(U==null?void 0:U.name)==="create_zip_file"&&S.jsxs("button",{onClick:()=>u(U),className:"inline-flex items-center gap-2 px-4 py-2 mt-2 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors self-start",children:[S.jsx(U_,{}),"Download ",U.args.filename||".zip file"]}),z&&z.length>0&&S.jsxs("div",{className:"mt-3 pt-3 border-t border-zinc-700/50",children:[S.jsx("h4",{className:"text-xs font-semibold text-zinc-400 mb-1.5",children:"Sources:"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:z.filter(te=>te.web).map((te,Se)=>{var Ne,he,L,Z;return S.jsxs("a",{href:(Ne=te.web)==null?void 0:Ne.uri,target:"_blank",rel:"noopener noreferrer",className:"text-xs bg-zinc-700 text-zinc-300 px-2 py-0.5 rounded-full hover:bg-zinc-600 hover:text-white transition-colors truncate",title:(he=te.web)==null?void 0:he.title,children:[Se+1,". ",((L=te.web)==null?void 0:L.title)||((Z=te.web)==null?void 0:Z.uri)&&new URL(te.web.uri).hostname]},Se)})})]})]})},[g,k,y,T,Q,U,z,u,E,d,p]),ee=k?S.jsx("div",{className:"w-8 h-8 flex-shrink-0 flex items-center justify-center rounded-full bg-gradient-to-br from-blue-500 to-sky-500 self-start text-white",children:S.jsx(Yu,{})}):n?S.jsx("img",{src:n,alt:"User Avatar",className:"w-8 h-8 flex-shrink-0 rounded-full object-cover self-start"}):S.jsx("div",{className:"w-8 h-8 flex-shrink-0 flex items-center justify-center rounded-full bg-zinc-600 self-start",children:S.jsx(nh,{})}),O=k?"bg-zinc-800 text-zinc-200":"bg-blue-600/25 text-zinc-100",X=k?"flex-row":"flex-row-reverse";return S.jsxs("div",{className:`flex items-start gap-4 w-full ${X} ${m&&!T?"text-red-400":""}`,children:[ee,S.jsx("div",{className:`flex-1 pt-0.5 rounded-xl px-4 py-3 ${O}`,children:J}),k&&Q&&!y&&!m&&S.jsx("button",{onClick:()=>o(Q,x),className:"p-2 self-center text-zinc-400 hover:bg-zinc-700 rounded-full transition-colors","aria-label":Y?"Stop audio":"Play audio",children:Y?S.jsx(w_,{}):S.jsx(N_,{})})]})},Y_=({history:i,userAvatar:n,onPlayAudio:o,currentlyPlayingId:a,onDownloadZip:u,onExtendVideo:d,onBuyPlanClick:p})=>S.jsx("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 md:p-8 space-y-6 md:space-y-8",children:i.map(h=>S.jsx(k_,{message:h,userAvatar:n,onPlayAudio:o,currentlyPlayingId:a,onDownloadZip:u,onExtendVideo:d,onBuyPlanClick:p},h.timestamp))}),F_=({onClose:i})=>{const[n,o]=K.useState("details");if(n==="payment")return S.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-8 max-w-md w-full shadow-2xl relative animate-in fade-in-0 zoom-in-95",children:[S.jsx("button",{onClick:i,className:"absolute top-4 right-4 p-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700 transition-colors",children:S.jsx(To,{})}),S.jsx("h2",{className:"text-2xl font-bold text-white text-center",children:"Complete Your Payment"}),S.jsx("p",{className:"text-zinc-400 mt-2 text-center",children:"You will be redirected to PayPal to complete your payment for the Cortex AI Personal Plan."}),S.jsx("div",{className:"mt-8",children:S.jsx("a",{href:"https://paypal.me/cortexai873",target:"_blank",rel:"noopener noreferrer",className:"w-full inline-block text-center py-3 px-4 rounded-lg bg-yellow-500 text-zinc-900 font-bold hover:bg-yellow-600 transition-colors",children:"Pay with PayPal"})}),S.jsxs("div",{className:"mt-8 text-center text-sm text-zinc-300 space-y-2",children:[S.jsxs("p",{children:[S.jsx("span",{className:"font-semibold",children:"Important:"})," Your Cortex AI plan will be linked to your PayPal account email."]}),S.jsx("p",{className:"text-zinc-400",children:"Activation may take up to 24 hours. You will receive a confirmation email with a Paid Key to activate your Subscription."})]}),S.jsx("div",{className:"mt-6 flex justify-center gap-4",children:S.jsx("button",{onClick:()=>o("details"),className:"px-6 py-2 rounded-lg bg-zinc-700 text-white font-semibold hover:bg-zinc-600 transition-colors",children:"Back"})})]})});const a=["Up to 5000 messages/month","Up to 200 image generations/month","Up to 100 video generations/month","Higher rate limits","Priority support","Early access to new features"];return S.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:S.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-8 max-w-lg w-full shadow-2xl relative animate-in fade-in-0 zoom-in-95",children:[S.jsx("button",{onClick:i,className:"absolute top-4 right-4 p-2 text-zinc-400 hover:text-white rounded-full hover:bg-zinc-700 transition-colors",children:S.jsx(To,{})}),S.jsxs("div",{className:"text-center",children:[S.jsx("div",{className:"inline-block p-4 bg-blue-600/20 rounded-full border border-blue-500/50 text-blue-400",children:S.jsx(Ou,{})}),S.jsx("h2",{className:"text-3xl font-bold text-white mt-4",children:"Personal Plan"}),S.jsx("p",{className:"text-zinc-400 mt-1",children:"Unlock the full potential of Cortex AI."})]}),S.jsx("div",{className:"mt-6 text-center",children:S.jsxs("p",{className:"text-5xl font-bold text-white",children:["$60",S.jsx("span",{className:"text-2xl font-medium text-zinc-400",children:"/month"})]})}),S.jsx("ul",{className:"mt-6 space-y-2.5",children:a.map((u,d)=>S.jsxs("li",{className:"flex items-center gap-3",children:[S.jsx("div",{className:"w-5 h-5 flex-shrink-0 flex items-center justify-center bg-green-500/20 rounded-full text-green-400",children:S.jsx(lh,{})}),S.jsx("span",{className:"text-zinc-300",children:u})]},d))}),S.jsxs("div",{className:"mt-8 flex flex-col items-center gap-4",children:[S.jsx("button",{onClick:()=>o("payment"),className:"w-full text-center px-6 py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-colors",children:"Proceed to Payment"}),S.jsx("button",{onClick:i,className:"text-sm font-medium text-zinc-400 hover:text-white transition-colors",children:"Maybe later"})]})]})})},O_=xm.memo(F_);function J_(i){const n=atob(i),o=n.length,a=new Uint8Array(o);for(let u=0;u<o;u++)a[u]=n.charCodeAt(u);return a}async function K_(i,n,o,a){const u=new Int16Array(i.buffer),d=u.length/a,p=n.createBuffer(a,d,o);for(let h=0;h<a;h++){const g=p.getChannelData(h);for(let m=0;m<d;m++)g[m]=u[m*a+h]/32768}return p}const Q_=i=>{var a;const o=`<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><rect width="100" height="100" fill="#475569" /><text x="50%" y="50%" font-family="Inter, sans-serif" font-size="50" fill="white" text-anchor="middle" dy=".3em">${((a=i==null?void 0:i[0])==null?void 0:a.toUpperCase())||"?"}</text></svg>`;return`data:image/svg+xml;base64,${btoa(o)}`},hu=async i=>({data:await new Promise((o,a)=>{const u=new FileReader;u.readAsDataURL(i),u.onload=()=>o(u.result.split(",")[1]),u.onerror=d=>a(d)}),mimeType:i.type}),gu=i=>{const n=((i==null?void 0:i.message)||"").toLowerCase();return n.includes("quota")||n.includes("billing")||n.includes("credit")||n.includes("rate limit")};function X_({user:i,onLogout:n,onAvatarChange:o}){const[a,u]=K.useState(!1),[d,p]=K.useState("chat"),[h,g]=K.useState(null),[m,y]=K.useState(!1),[T,E]=K.useState(!0),[x,U]=K.useState(null),[z,k]=K.useState(null),[Y,Q]=K.useState(!1),[J,ee]=K.useState(!1),[O,X]=K.useState(null),[B,j]=K.useState(""),[W,se]=K.useState(!1),[me,te]=K.useState(!1),[Se,Ne]=K.useState(""),[he,L]=K.useState(!1),[Z,re]=K.useState(!1),[xe,_e]=K.useState(0),{sessions:R,activeSessionId:N,activeChatHistory:P,setActiveChatHistory:F,geminiSession:le,startNewChat:ue,loadChatSession:Ee,deleteChatSession:Oe,updateSessionTitle:Je,contextSessionIds:ti,toggleContextSession:Ci}=m_(i.id,Y,xe),Rn=K.useRef(null),jt=K.useRef(null),yt=K.useRef(null);K.useEffect(()=>{document.documentElement.classList.add("dark")},[]),K.useEffect(()=>{g(i.avatar||Q_(i.username))},[i.avatar,i.username]),K.useEffect(()=>{const ne=eh();ne&&j(ne),te(!!th());const fe=Nu();fe&&Ne(fe),re(!!fe)},[xe]),K.useEffect(()=>{Rn.current&&(Rn.current.scrollTop=Rn.current.scrollHeight)},[P]),K.useEffect(()=>{const ne=()=>{jt.current||(jt.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}))};return document.addEventListener("click",ne,{once:!0}),()=>{var fe;document.removeEventListener("click",ne),(fe=jt.current)==null||fe.close()}},[]);const Tl=K.useCallback(()=>{ee(!1)},[]),Rt=K.useCallback(()=>{yt.current&&(yt.current.stop(),yt.current=null,U(null))},[]),Sl=K.useCallback(async(ne,fe)=>{if(!(!jt.current||T)){Rt(),U(fe);try{const Ue=await c_(ne),st=J_(Ue),Ze=await K_(st,jt.current,24e3,1),Nt=jt.current.createBufferSource();Nt.buffer=Ze,Nt.connect(jt.current.destination),Nt.onended=()=>{U(null),yt.current===Nt&&(yt.current=null)},Nt.start(),yt.current=Nt}catch(Ue){console.error("Failed to play audio:",Ue),U(null)}}},[T,Rt]),_i=K.useCallback(ne=>{d!==ne&&(p(ne),ne!=="video"&&X(null),T||Jt("switch"))},[T,d]),El=K.useCallback(()=>{Rt(),ue(),T||Jt("new"),y(!1)},[Rt,ue,T]),Cl=K.useCallback(ne=>{N!==ne&&(Rt(),Ee(ne),T||Jt("switch"),y(!1))},[N,Rt,Ee,T]),_l=K.useCallback(ne=>{window.confirm("Are you sure you want to delete this chat? This action cannot be undone.")&&(Oe(ne),T||Jt("send"))},[Oe,T]),So=K.useCallback(()=>{z&&z.title.trim()&&Je(z.id,z.title.trim()),k(null)},[z,Je]),Ka=ne=>{const fe=new FileReader;fe.onloadend=()=>{const Ue=fe.result;o(Ue)},fe.readAsDataURL(ne)},mt=K.useCallback(async ne=>{const{filename:fe,files:Ue}=ne.args;if(!fe||!Array.isArray(Ue))return;const st=window.JSZip;if(!st)return;const Ze=new st;Ue.forEach(ni=>Ze.file(ni.path,ni.content));const Nt=await Ze.generateAsync({type:"blob"}),en=document.createElement("a");en.href=URL.createObjectURL(Nt),en.download=fe,document.body.appendChild(en),en.click(),document.body.removeChild(en)},[]),Qa=K.useCallback(ne=>{a||(X(ne),_i("video"))},[a,_i]),Eo=K.useCallback(async(ne,fe,Ue)=>{var Ze,Nt,en,ni;if(a)return;u(!0),Rt();const st={role:"user",parts:ne,displayParts:fe,timestamp:Date.now()};if(d==="chat"&&le){T||Jt("send"),F(Me=>[...Me,st]);let ht={role:"model",parts:[{text:""}],displayParts:[{text:""}],timestamp:Date.now()+1};F(Me=>[...Me,ht]);try{const Me=await r_(le,ne);let lt="",Re,Pe;for await(const Ge of Me){const Nn=Ge.text;Nn&&(lt=Nn),Ge.functionCalls&&Ge.functionCalls.length>0&&(Re=Ge.functionCalls[0]),Pe=(en=(Nt=(Ze=Ge.candidates)==null?void 0:Ze[0])==null?void 0:Nt.groundingMetadata)==null?void 0:en.groundingChunks,ht={...ht,parts:[{text:lt}],displayParts:[{text:lt}],functionCall:Re,groundingSources:Pe},F(wn=>{const Qt=[...wn];return Qt[Qt.length-1]=ht,Qt})}T||(Jt("receive"),lt&&Sl(lt,ht.timestamp))}catch(Me){console.error("Error streaming message:",Me);const lt=gu(Me),Re=`Sorry, something went wrong. Please try again. 

${Me instanceof Error?Me.message:String(Me)}`,Pe={role:"model",parts:[{text:Re}],displayParts:[{text:Re}],timestamp:Date.now()+1,isError:!0,isCreditError:lt};F(Ge=>[...Ge.slice(0,-1),Pe])}finally{u(!1)}}else if(d==="image"){T||Jt("send"),F(Me=>[...Me,st]);const ht={role:"model",parts:ne,displayParts:fe,timestamp:Date.now()+1,isGenerating:!0};F(Me=>[...Me,ht]);try{const Me=await u_(ne),lt={role:"model",parts:[{inlineData:{data:Me,mimeType:"image/png"}}],displayParts:[{image:{data:`data:image/png;base64,${Me}`,mimeType:"image/png"}}],timestamp:Date.now()+1};F(Re=>[...Re.slice(0,-1),lt]),T||Jt("receive")}catch(Me){console.error("Error generating image:",Me);const lt=gu(Me),Re=`Sorry, I couldn't generate the image. Please try again. 

${Me instanceof Error?Me.message:String(Me)}`,Pe={role:"model",parts:[{text:Re}],displayParts:[{text:Re}],timestamp:Date.now()+1,isError:!0,isCreditError:lt};F(Ge=>[...Ge.slice(0,-1),Pe])}finally{u(!1)}}else if(d==="video"&&Ue){X(null),T||Jt("send"),F(Re=>[...Re,st]);const ht={role:"model",parts:ne,displayParts:fe,timestamp:Date.now()+1,isGenerating:!0,generationProgress:"Preparing request..."},Me=ht.timestamp;F(Re=>[...Re,ht]);const lt=Re=>{F(Pe=>Pe.map(Ge=>Ge.timestamp===Me?{...Ge,generationProgress:Re}:Ge))};try{const Re=Nu();if(!Re)throw new Error("Video API Key is not set. Please add it in the sidebar.");const Pe=O?{...Ue,video:O}:Ue,Ge={prompt:((ni=ne.find(Mi=>Mi.text))==null?void 0:ni.text)||"",config:{resolution:Pe.resolution,aspectRatio:Pe.aspectRatio}};Pe.startImage&&(Ge.image=await hu(Pe.startImage)),Pe.endImage&&(Ge.lastFrame=await hu(Pe.endImage)),Pe.referenceImages.length>0&&(Ge.referenceImages=await Promise.all(Pe.referenceImages.map(hu))),"video"in Pe&&Pe.video&&(Ge.video=Pe.video);const{video:Nn,uri:wn}=await d_(Ge,lt),ii=await(await fetch(`${wn}&key=${Re}`)).blob(),Wa=URL.createObjectURL(ii),xo={role:"model",parts:[],displayParts:[{video:{src:Wa,videoObject:Nn}}],timestamp:Date.now()};F(Mi=>Mi.map(xl=>xl.timestamp===Me?xo:xl)),T||Jt("receive")}catch(Re){console.error("Error generating video:",Re);const Pe=gu(Re),Ge=`Sorry, I couldn't generate the video. Please try again. 

${Re instanceof Error?Re.message:String(Re)}`,Nn={role:"model",parts:[{text:Ge}],displayParts:[{text:Ge}],timestamp:Date.now(),isError:!0,isCreditError:Pe};F(wn=>wn.map(Qt=>Qt.timestamp===Me?Nn:Qt))}finally{u(!1)}}else u(!1)},[le,a,d,T,Sl,Rt,F,O]),Co=K.useCallback(ne=>{const fe=ne.trim();fe&&(n_(fe),j(fe),_e(Ue=>Ue+1),T||Jt("receive"))},[T]),xi=K.useCallback(()=>{i_(),j(""),_e(ne=>ne+1)},[]),Xa=K.useCallback(ne=>{const fe=ne.trim();fe&&(l_(fe),Ne(fe),_e(Ue=>Ue+1),T||Jt("receive"))},[T]),_o=K.useCallback(()=>{o_(),Ne(""),_e(ne=>ne+1)},[]),Za=()=>S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"flex gap-2 mb-4",children:S.jsxs("button",{onClick:El,className:"flex-1 flex items-center justify-center gap-2 p-2 rounded-md bg-cyan-500 hover:bg-cyan-600 text-white transition-colors duration-200 disabled:bg-zinc-300 dark:disabled:bg-zinc-700 disabled:cursor-not-allowed font-semibold",children:[S.jsx(y_,{}),S.jsx("span",{children:"New Chat"})]})}),S.jsx("div",{className:"mb-4",children:S.jsxs("button",{onClick:()=>ee(!0),className:"w-full flex items-center justify-center gap-2 p-2 rounded-md bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white transition-all duration-200 font-semibold shadow-lg",children:[S.jsx(Ou,{}),S.jsx("span",{children:"Upgrade Plan"})]})}),S.jsx("h2",{className:"text-lg font-semibold mb-2 text-zinc-200",children:"History"}),S.jsx("div",{className:"flex-grow overflow-y-auto pr-2 space-y-1.5 -mr-2",children:R.map(ne=>S.jsxs("div",{className:`group flex items-center justify-between gap-2 p-2 rounded-md transition-colors ${N===ne.id?"bg-blue-600/20":"hover:bg-zinc-800"}`,children:[S.jsxs("div",{className:"flex items-center gap-3 flex-grow truncate cursor-pointer",onClick:()=>(z==null?void 0:z.id)!==ne.id&&Cl(ne.id),children:[S.jsx(ih,{}),(z==null?void 0:z.id)===ne.id?S.jsx("input",{type:"text",value:z.title,onChange:fe=>k({...z,title:fe.target.value}),onKeyDown:fe=>{fe.key==="Enter"&&So(),fe.key==="Escape"&&k(null)},onBlur:So,autoFocus:!0,className:"bg-transparent outline-none ring-1 ring-blue-500 rounded p-1 -m-1 w-full text-sm font-medium"}):S.jsx("span",{className:"truncate text-sm font-medium",children:ne.title})]}),S.jsxs("div",{className:"flex items-center gap-0.5 shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:[(z==null?void 0:z.id)!==ne.id&&S.jsx("button",{onClick:fe=>{fe.stopPropagation(),k({id:ne.id,title:ne.title})},className:"p-1 rounded-md text-zinc-400 hover:text-white hover:bg-zinc-700","aria-label":"Edit title",children:S.jsx(I_,{})}),S.jsx("button",{onClick:fe=>{fe.stopPropagation(),Ci(ne.id)},disabled:N===ne.id,className:`p-1 rounded-md transition-colors ${ti.has(ne.id)?"text-blue-400 bg-blue-600/30":"text-zinc-400 hover:text-white hover:bg-zinc-700"} disabled:opacity-30 disabled:cursor-not-allowed`,"aria-label":"Use as context",children:S.jsx(D_,{})}),S.jsx("button",{onClick:fe=>{fe.stopPropagation(),_l(ne.id)},className:"p-1 rounded-md text-zinc-400 hover:text-red-500 hover:bg-zinc-700","aria-label":"Delete chat",children:S.jsx(E_,{})})]})]},ne.id))}),S.jsxs("div",{className:"mt-auto pt-4 border-t border-zinc-700 space-y-4",children:[S.jsxs("div",{children:[S.jsxs("label",{htmlFor:"api-key-input",className:"flex items-center gap-2 text-sm font-semibold text-zinc-300 mb-1.5",children:[S.jsx(oh,{})," Chat & Image API Key"]}),S.jsxs("div",{className:"relative flex items-center",children:[S.jsx("input",{id:"api-key-input",type:W?"text":"password",value:B,onChange:ne=>j(ne.target.value),placeholder:"Enter your personal key",className:"w-full bg-zinc-800 border border-zinc-700 rounded-md pl-3 pr-10 py-1.5 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),S.jsx("button",{type:"button",onClick:()=>se(ne=>!ne),className:"absolute right-0 flex items-center px-3 text-zinc-400 hover:text-white","aria-label":W?"Hide API key":"Show API key",children:W?S.jsx(Iu,{}):S.jsx(wu,{})})]}),S.jsxs("div",{className:"flex gap-2 mt-2",children:[S.jsx("button",{onClick:()=>Co(B),className:"flex-1 text-xs font-semibold bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors",children:"Save"}),S.jsx("button",{onClick:xi,className:"flex-1 text-xs font-semibold bg-zinc-700 hover:bg-zinc-600 text-zinc-200 px-3 py-1.5 rounded-md transition-colors",children:"Clear"})]}),S.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Your personal key for text and image generation, stored in your browser."})]}),S.jsxs("div",{children:[S.jsxs("label",{htmlFor:"video-api-key-input",className:"flex items-center gap-2 text-sm font-semibold text-zinc-300 mb-1.5",children:[S.jsx(Fu,{})," Video Generation API Key"]}),S.jsxs("div",{className:"relative flex items-center",children:[S.jsx("input",{id:"video-api-key-input",type:he?"text":"password",value:Se,onChange:ne=>Ne(ne.target.value),placeholder:"Enter your Veo API key",className:"w-full bg-zinc-800 border border-zinc-700 rounded-md pl-3 pr-10 py-1.5 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"}),S.jsx("button",{type:"button",onClick:()=>L(ne=>!ne),className:"absolute right-0 flex items-center px-3 text-zinc-400 hover:text-white","aria-label":he?"Hide API key":"Show API key",children:he?S.jsx(Iu,{}):S.jsx(wu,{})})]}),S.jsxs("div",{className:"flex gap-2 mt-2",children:[S.jsx("button",{onClick:()=>Xa(Se),className:"flex-1 text-xs font-semibold bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-md transition-colors",children:"Save"}),S.jsx("button",{onClick:_o,className:"flex-1 text-xs font-semibold bg-zinc-700 hover:bg-zinc-600 text-zinc-200 px-3 py-1.5 rounded-md transition-colors",children:"Clear"})]}),S.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Your personal key for video generation, stored in your browser. Requires a project with Veo API and billing enabled."})]}),S.jsxs("div",{className:"flex items-center justify-between gap-2",children:[S.jsxs("div",{className:"flex items-center gap-3 truncate",children:[S.jsx("img",{src:h||"",alt:"User Avatar",className:"w-9 h-9 rounded-full object-cover bg-zinc-700 shrink-0"}),S.jsxs("div",{className:"truncate",children:[S.jsx("p",{className:"font-semibold text-sm text-zinc-200 truncate",children:i.username}),S.jsx("p",{className:"text-xs text-zinc-400 truncate",children:i.email})]})]}),S.jsx("button",{onClick:n,className:"p-2 text-zinc-400 hover:text-white hover:bg-zinc-700 rounded-full transition-colors shrink-0","aria-label":"Log out",children:S.jsx(L_,{})})]})]})]});return S.jsxs("div",{className:"relative min-h-screen bg-zinc-950 font-sans",children:[m&&S.jsx("div",{onClick:()=>y(!1),className:"fixed inset-0 bg-black/60 z-30 lg:hidden"}),J&&S.jsx(O_,{onClose:Tl}),S.jsxs("aside",{className:`fixed inset-y-0 left-0 w-64 bg-zinc-900/80 backdrop-blur-lg p-4 flex flex-col border-r border-zinc-800 transform ${m?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40`,children:[S.jsx("button",{onClick:()=>y(!1),className:"absolute top-2 right-2 p-2 text-zinc-300 rounded-full hover:bg-zinc-700 lg:hidden","aria-label":"Close sidebar",children:S.jsx(To,{})}),S.jsx(Za,{})]}),S.jsx("div",{className:"lg:pl-64",children:S.jsxs("main",{className:"flex flex-col h-screen bg-zinc-950",children:[S.jsxs("header",{className:"p-4 border-b border-zinc-800 flex items-center gap-3 bg-zinc-950/80 backdrop-blur-sm z-20",children:[S.jsx("button",{onClick:()=>y(ne=>!ne),className:"p-1 text-zinc-300 rounded-md hover:bg-zinc-700 lg:hidden","aria-label":"Open sidebar",children:S.jsx(x_,{})}),S.jsx(Yu,{}),S.jsx("h1",{className:"text-xl font-bold text-zinc-100",children:"Cortex AI"}),S.jsx("div",{className:"flex-grow"}),S.jsx("button",{onClick:()=>{const ne=!T;E(ne),ne&&Rt()},className:"p-2 text-zinc-400 hover:bg-zinc-700 rounded-full transition-colors","aria-label":T?"Enable voice output":"Disable voice output",children:T?S.jsx(R_,{}):S.jsx(M_,{})})]}),S.jsx("div",{ref:Rn,className:"flex-1 overflow-y-auto",children:S.jsx(Y_,{history:P,userAvatar:h,onPlayAudio:Sl,currentlyPlayingId:x,onDownloadZip:mt,onExtendVideo:Qa,onBuyPlanClick:()=>ee(!0)})}),S.jsx("div",{className:"p-4 bg-gradient-to-t from-zinc-950 via-zinc-950/80 to-transparent",children:S.jsx(H_,{mode:d,onModeChange:_i,onSendMessage:Eo,isLoading:a,disabled:a||(d==="chat"||d==="image"?!me||!le:!Z),webSearchEnabled:Y,onWebSearchChange:Q,isExtending:!!O,onCancelExtension:()=>X(null),onAvatarChange:Ka})})]})})]})}var Z_={};const W_=({onGoogleSignIn:i})=>{const n=o=>{i(o.credential)};return K.useEffect(()=>{const o=()=>{const a=Z_.GOOGLE_CLIENT_ID;if(!a||a==="YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com"){const u=document.getElementById("google-signin-button");u&&(u.innerHTML='<p class="text-xs text-red-400 text-center py-3">Google Sign-In is not configured by the developer.</p>');return}window.google&&(window.google.accounts.id.initialize({client_id:a,callback:n}),window.google.accounts.id.renderButton(document.getElementById("google-signin-button"),{theme:"outline",size:"large",type:"standard",text:"signin_with",shape:"pill"}))};if(window.google)o();else{const a=document.querySelector('script[src="https://accounts.google.com/gsi/client"]');if(a)return a.addEventListener("load",o),()=>a.removeEventListener("load",o);o()}},[i]),S.jsx("div",{id:"google-signin-button",className:"flex justify-center"})},$_=({onLogin:i,onSignUp:n,onGoogleSignIn:o,error:a,clearError:u})=>{const[d,p]=K.useState(!0),[h,g]=K.useState(""),[m,y]=K.useState(""),[T,E]=K.useState(""),[x,U]=K.useState(!1);K.useEffect(()=>{g(""),y(""),E(""),u()},[d,u]);const z=k=>{k.preventDefault(),d?i(m,T):n(h,m,T)};return S.jsx("div",{className:"flex items-center justify-center min-h-screen bg-zinc-950 p-4",children:S.jsxs("div",{className:"w-full max-w-md bg-zinc-900/50 border border-zinc-800 rounded-2xl shadow-2xl p-8 space-y-6",children:[S.jsxs("div",{className:"text-center",children:[S.jsx(Yu,{}),S.jsx("h2",{className:"mt-4 text-3xl font-bold text-white",children:d?"Welcome Back":"Create an Account"}),S.jsx("p",{className:"mt-2 text-zinc-400",children:d?"Sign in to continue to Cortex AI":"Get started with your personal AI assistant"})]}),a&&S.jsx("div",{className:"bg-red-900/50 border border-red-700 text-red-300 px-4 py-3 rounded-lg text-sm",role:"alert",children:S.jsx("p",{children:a})}),S.jsxs("form",{className:"space-y-4",onSubmit:z,children:[!d&&S.jsxs("div",{className:"relative",children:[S.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500",children:S.jsx(nh,{})}),S.jsx("input",{type:"text",placeholder:"Username",value:h,onChange:k=>g(k.target.value),required:!0,className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),S.jsxs("div",{className:"relative",children:[S.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500",children:S.jsx(z_,{})}),S.jsx("input",{type:"email",placeholder:"Email address",value:m,onChange:k=>y(k.target.value),required:!0,className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg pl-10 pr-4 py-2.5 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),S.jsxs("div",{className:"relative",children:[S.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500",children:S.jsx(oh,{})}),S.jsx("input",{type:x?"text":"password",placeholder:"Password",value:T,onChange:k=>E(k.target.value),required:!0,minLength:6,className:"w-full bg-zinc-800 border border-zinc-700 rounded-lg pl-10 pr-10 py-2.5 text-white placeholder-zinc-500 focus:outline-none focus:ring-2 focus:ring-blue-500"}),S.jsx("button",{type:"button",onClick:()=>U(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-zinc-500 hover:text-white",children:x?S.jsx(Iu,{}):S.jsx(wu,{})})]}),S.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-4 rounded-lg transition-colors duration-200",children:d?"Sign In":"Sign Up"})]}),S.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[S.jsx("span",{className:"h-px w-full bg-zinc-700"}),S.jsx("span",{className:"text-zinc-500 text-sm font-medium",children:"OR"}),S.jsx("span",{className:"h-px w-full bg-zinc-700"})]}),S.jsx(W_,{onGoogleSignIn:o}),S.jsx("div",{className:"text-center",children:S.jsx("button",{onClick:()=>p(!d),className:"text-sm font-medium text-zinc-400 hover:text-blue-400 transition-colors",children:d?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})})},Si="cortex-users",fl="cortex-current-user",j_=i=>{try{return JSON.parse(atob(i.split(".")[1]))}catch{return null}},ex=()=>{const[i,n]=K.useState(null),[o,a]=K.useState(null);K.useEffect(()=>{try{const y=localStorage.getItem(fl);y&&n(JSON.parse(y))}catch(y){console.error("Failed to load current user from storage:",y)}},[]);const u=K.useCallback(()=>a(null),[]),d=K.useCallback((y,T)=>{try{const E=localStorage.getItem(Si),U=(E?JSON.parse(E):[]).find(z=>z.email.toLowerCase()===y.toLowerCase());return U&&!U.isGoogleUser&&U.password===T?(n(U),localStorage.setItem(fl,JSON.stringify(U)),a(null),!0):(a("Invalid email or password."),!1)}catch(E){return console.error("Login error:",E),a("An unexpected error occurred during login."),!1}},[]),p=K.useCallback((y,T,E)=>{try{const x=localStorage.getItem(Si),U=x?JSON.parse(x):[];if(U.some(Y=>Y.email.toLowerCase()===T.toLowerCase()))return a("An account with this email already exists."),!1;const z={id:Date.now().toString(),username:y,email:T,password:E,avatar:null},k=[...U,z];return localStorage.setItem(Si,JSON.stringify(k)),n(z),localStorage.setItem(fl,JSON.stringify(z)),a(null),!0}catch(x){return console.error("Sign-up error:",x),a("An unexpected error occurred during sign-up."),!1}},[]),h=K.useCallback(y=>{try{const T=j_(y);if(!T){a("Invalid Google sign-in credential.");return}const{email:E,name:x,picture:U,sub:z}=T,k=localStorage.getItem(Si),Y=k?JSON.parse(k):[];let Q=Y.find(J=>J.email.toLowerCase()===E.toLowerCase());if(Q){if(!Q.isGoogleUser){a("An account with this email exists. Please sign in with your password.");return}}else{Q={id:z,username:x,email:E,avatar:U,isGoogleUser:!0};const J=[...Y,Q];localStorage.setItem(Si,JSON.stringify(J))}n(Q),localStorage.setItem(fl,JSON.stringify(Q)),a(null)}catch(T){console.error("Google sign-in error:",T),a("An unexpected error occurred with Google Sign-In.")}},[]),g=K.useCallback(()=>{n(null);try{localStorage.removeItem(fl)}catch(y){console.error("Failed to logout:",y)}},[]),m=K.useCallback(y=>{if(i)try{const T={...i,avatar:y};n(T),localStorage.setItem(fl,JSON.stringify(T));const E=localStorage.getItem(Si),U=(E?JSON.parse(E):[]).map(z=>z.id===i.id?T:z);localStorage.setItem(Si,JSON.stringify(U))}catch(T){console.error("Failed to update avatar:",T)}},[i]);return{user:i,login:d,signUp:p,logout:g,updateUserAvatar:m,handleGoogleSignIn:h,authError:o,clearAuthError:u}};function tx(){const{user:i,login:n,signUp:o,logout:a,updateUserAvatar:u,handleGoogleSignIn:d,authError:p,clearAuthError:h}=ex();return i?S.jsx(X_,{user:i,onLogout:a,onAvatarChange:u}):S.jsx($_,{onLogin:n,onSignUp:o,onGoogleSignIn:d,error:p,clearError:h})}const ah=document.getElementById("root");if(!ah)throw new Error("Could not find root element to mount to");const nx=Ny.createRoot(ah);nx.render(S.jsx(xm.StrictMode,{children:S.jsx(tx,{})}));
